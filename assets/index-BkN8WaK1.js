var c1=e=>{throw TypeError(e)};var Lc=(e,t,r)=>t.has(e)||c1("Cannot "+r);var V=(e,t,r)=>(Lc(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?c1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ge=(e,t,r,n)=>(Lc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),mt=(e,t,r)=>(Lc(e,t,"access private method"),r);var t0=(e,t,r,n)=>({set _(a){ge(e,t,a,r)},get _(){return V(e,t,n)}});function X6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Om={exports:{}},Vl={},Im={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),C6=Symbol.for("react.portal"),k6=Symbol.for("react.fragment"),S6=Symbol.for("react.strict_mode"),N6=Symbol.for("react.profiler"),E6=Symbol.for("react.provider"),T6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),j6=Symbol.for("react.suspense"),P6=Symbol.for("react.memo"),A6=Symbol.for("react.lazy"),u1=Symbol.iterator;function M6(e){return e===null||typeof e!="object"?null:(e=u1&&e[u1]||e["@@iterator"],typeof e=="function"?e:null)}var Fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zm=Object.assign,$m={};function oi(e,t,r){this.props=e,this.context=t,this.refs=$m,this.updater=r||Fm}oi.prototype.isReactComponent={};oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hm(){}Hm.prototype=oi.prototype;function vf(e,t,r){this.props=e,this.context=t,this.refs=$m,this.updater=r||Fm}var yf=vf.prototype=new Hm;yf.constructor=vf;zm(yf,oi.prototype);yf.isPureReactComponent=!0;var d1=Array.isArray,Wm=Object.prototype.hasOwnProperty,bf={current:null},Um={key:!0,ref:!0,__self:!0,__source:!0};function Vm(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Wm.call(t,n)&&!Um.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Do,type:e,key:s,ref:i,props:a,_owner:bf.current}}function B6(e,t){return{$$typeof:Do,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Do}function L6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var f1=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L6(""+e.key):t.toString(36)}function V0(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Do:case C6:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Rc(i,0):n,d1(a)?(r="",e!=null&&(r=e.replace(f1,"$&/")+"/"),V0(a,t,r,"",function(c){return c})):a!=null&&(xf(a)&&(a=B6(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(f1,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",d1(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+Rc(s,o);i+=V0(s,t,r,l,a)}else if(l=M6(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+Rc(s,o++),i+=V0(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function r0(e,t,r){if(e==null)return e;var n=[],a=0;return V0(e,n,"","",function(s){return t.call(r,s,a++)}),n}function R6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},q0={transition:null},D6={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:q0,ReactCurrentOwner:bf};function qm(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:r0,forEach:function(e,t,r){r0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return r0(e,function(){t++}),t},toArray:function(e){return r0(e,function(t){return t})||[]},only:function(e){if(!xf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=oi;ve.Fragment=k6;ve.Profiler=N6;ve.PureComponent=vf;ve.StrictMode=S6;ve.Suspense=j6;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D6;ve.act=qm;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zm({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=bf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Wm.call(t,l)&&!Um.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Do,type:e.type,key:a,ref:s,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:T6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E6,_context:e},e.Consumer=e};ve.createElement=Vm;ve.createFactory=function(e){var t=Vm.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:_6,render:e}};ve.isValidElement=xf;ve.lazy=function(e){return{$$typeof:A6,_payload:{_status:-1,_result:e},_init:R6}};ve.memo=function(e,t){return{$$typeof:P6,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=q0.transition;q0.transition={};try{e()}finally{q0.transition=t}};ve.unstable_act=qm;ve.useCallback=function(e,t){return Pt.current.useCallback(e,t)};ve.useContext=function(e){return Pt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Pt.current.useEffect(e,t)};ve.useId=function(){return Pt.current.useId()};ve.useImperativeHandle=function(e,t,r){return Pt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Pt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Pt.current.useReducer(e,t,r)};ve.useRef=function(e){return Pt.current.useRef(e)};ve.useState=function(e){return Pt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Pt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Pt.current.useTransition()};ve.version="18.3.1";Im.exports=ve;var C=Im.exports;const Mn=mf(C),Gm=X6({__proto__:null,default:Mn},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=C,I6=Symbol.for("react.element"),F6=Symbol.for("react.fragment"),z6=Object.prototype.hasOwnProperty,$6=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H6={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)z6.call(t,n)&&!H6.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:I6,type:e,key:s,ref:i,props:a,_owner:$6.current}}Vl.Fragment=F6;Vl.jsx=Ym;Vl.jsxs=Ym;Om.exports=Vl;var d=Om.exports,Km={exports:{}},rr={},Qm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,A){var B=S.length;S.push(A);e:for(;0<B;){var $=B-1>>>1,Y=S[$];if(0<a(Y,A))S[$]=A,S[B]=Y,B=$;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var A=S[0],B=S.pop();if(B!==A){S[0]=B;e:for(var $=0,Y=S.length,Q=Y>>>1;$<Q;){var re=2*($+1)-1,Pe=S[re],ke=re+1,ee=S[ke];if(0>a(Pe,B))ke<Y&&0>a(ee,Pe)?(S[$]=ee,S[ke]=B,$=ke):(S[$]=Pe,S[re]=B,$=re);else if(ke<Y&&0>a(ee,B))S[$]=ee,S[ke]=B,$=ke;else break e}}return A}function a(S,A){var B=S.sortIndex-A.sortIndex;return B!==0?B:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],h=1,u=null,f=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=S)n(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(c)}}function x(S){if(m=!1,w(S),!g)if(r(l)!==null)g=!0,L(X);else{var A=r(c);A!==null&&_(x,A.startTime-S)}}function X(S,A){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var B=f;try{for(w(A),u=r(l);u!==null&&(!(u.expirationTime>A)||S&&!D());){var $=u.callback;if(typeof $=="function"){u.callback=null,f=u.priorityLevel;var Y=$(u.expirationTime<=A);A=e.unstable_now(),typeof Y=="function"?u.callback=Y:u===r(l)&&n(l),w(A)}else n(l);u=r(l)}if(u!==null)var Q=!0;else{var re=r(c);re!==null&&_(x,re.startTime-A),Q=!1}return Q}finally{u=null,f=B,p=!1}}var k=!1,N=null,T=-1,E=5,M=-1;function D(){return!(e.unstable_now()-M<E)}function j(){if(N!==null){var S=e.unstable_now();M=S;var A=!0;try{A=N(!0,S)}finally{A?R():(k=!1,N=null)}}else k=!1}var R;if(typeof b=="function")R=function(){b(j)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,O=P.port2;P.port1.onmessage=j,R=function(){O.postMessage(null)}}else R=function(){v(j,0)};function L(S){N=S,k||(k=!0,R())}function _(S,A){T=v(function(){S(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(X))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var B=f;f=A;try{return S()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var B=f;f=S;try{return A()}finally{f=B}},e.unstable_scheduleCallback=function(S,A,B){var $=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?$+B:$):B=$,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,S={id:h++,callback:A,priorityLevel:S,startTime:B,expirationTime:Y,sortIndex:-1},B>$?(S.sortIndex=B,t(c,S),r(l)===null&&S===r(c)&&(m?(y(T),T=-1):m=!0,_(x,B-$))):(S.sortIndex=Y,t(l,S),g||p||(g=!0,L(X))),S},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(S){var A=f;return function(){var B=f;f=A;try{return S.apply(this,arguments)}finally{f=B}}}})(Jm);Qm.exports=Jm;var W6=Qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6=C,er=W6;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,co={};function Ga(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(co[e]=t,e=0;e<t.length;e++)Zm.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,V6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h1={},p1={};function q6(e){return Wu.call(p1,e)?!0:Wu.call(h1,e)?!1:V6.test(e)?p1[e]=!0:(h1[e]=!0,!1)}function G6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y6(e,t,r,n){if(t===null||typeof t>"u"||G6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ft[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ft[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ft[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wf,Xf);ft[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wf,Xf);ft[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wf,Xf);ft[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});ft.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ft[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cf(e,t,r,n){var a=ft.hasOwnProperty(t)?ft[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y6(t,r,a,n)&&(r=null),n||a===null?q6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var kn=U6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,n0=Symbol.for("react.element"),ms=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Dn=Symbol.for("react.lazy"),rv=Symbol.for("react.offscreen"),g1=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=g1&&e[g1]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Dc;function zi(e){if(Dc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dc=t&&t[1]||""}return`
`+Dc+e}var Oc=!1;function Ic(e,t){if(!e||Oc)return"";Oc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Oc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zi(e):""}function K6(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=Ic(e.type,!1),e;case 11:return e=Ic(e.type.render,!1),e;case 1:return e=Ic(e.type,!0),e;default:return""}}function Gu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ms:return"Portal";case Uu:return"Profiler";case kf:return"StrictMode";case Vu:return"Suspense";case qu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tv:return(e.displayName||"Context")+".Consumer";case ev:return(e._context.displayName||"Context")+".Provider";case Sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nf:return t=e.displayName||null,t!==null?t:Gu(e.type)||"Memo";case Dn:t=e._payload,e=e._init;try{return Gu(e(t))}catch{}}return null}function Q6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(t);case 8:return t===kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J6(e){var t=nv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function a0(e){e._valueTracker||(e._valueTracker=J6(e))}function av(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yu(e,t){var r=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function m1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ia(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sv(e,t){t=t.checked,t!=null&&Cf(e,"checked",t,!1)}function Ku(e,t){sv(e,t);var r=ia(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function v1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qu(e,t,r){(t!=="number"||fl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $i=Array.isArray;function _s(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ia(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ju(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if($i(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ia(r)}}function iv(e,t){var r=ia(t.value),n=ia(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function b1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ov(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ov(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var s0,lv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=s0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z6=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(e){Z6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qi[t]=qi[e]})});function cv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||qi.hasOwnProperty(e)&&qi[e]?(""+t).trim():t+"px"}function uv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=cv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var e4=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(e,t){if(t){if(e4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=null;function Ef(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nd=null,js=null,Ps=null;function x1(e){if(e=Fo(e)){if(typeof nd!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Ql(t),nd(e.stateNode,e.type,t))}}function dv(e){js?Ps?Ps.push(e):Ps=[e]:js=e}function fv(){if(js){var e=js,t=Ps;if(Ps=js=null,x1(e),t)for(e=0;e<t.length;e++)x1(t[e])}}function hv(e,t){return e(t)}function pv(){}var Fc=!1;function gv(e,t,r){if(Fc)return e(t,r);Fc=!0;try{return hv(e,t,r)}finally{Fc=!1,(js!==null||Ps!==null)&&(pv(),fv())}}function fo(e,t){var r=e.stateNode;if(r===null)return null;var n=Ql(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var ad=!1;if(mn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ad=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ad=!1}function t4(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var Gi=!1,hl=null,pl=!1,sd=null,r4={onError:function(e){Gi=!0,hl=e}};function n4(e,t,r,n,a,s,i,o,l){Gi=!1,hl=null,t4.apply(r4,arguments)}function a4(e,t,r,n,a,s,i,o,l){if(n4.apply(this,arguments),Gi){if(Gi){var c=hl;Gi=!1,hl=null}else throw Error(K(198));pl||(pl=!0,sd=c)}}function Ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w1(e){if(Ya(e)!==e)throw Error(K(188))}function s4(e){var t=e.alternate;if(!t){if(t=Ya(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return w1(a),e;if(s===n)return w1(a),t;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function vv(e){return e=s4(e),e!==null?yv(e):null}function yv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yv(e);if(t!==null)return t;e=e.sibling}return null}var bv=er.unstable_scheduleCallback,X1=er.unstable_cancelCallback,i4=er.unstable_shouldYield,o4=er.unstable_requestPaint,Je=er.unstable_now,l4=er.unstable_getCurrentPriorityLevel,Tf=er.unstable_ImmediatePriority,xv=er.unstable_UserBlockingPriority,gl=er.unstable_NormalPriority,c4=er.unstable_LowPriority,wv=er.unstable_IdlePriority,ql=null,Jr=null;function u4(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:h4,d4=Math.log,f4=Math.LN2;function h4(e){return e>>>=0,e===0?32:31-(d4(e)/f4|0)|0}var i0=64,o0=4194304;function Hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ml(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Hi(o):(s&=i,s!==0&&(n=Hi(s)))}else i=r&~a,i!==0?n=Hi(i):s!==0&&(n=Hi(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Lr(t),a=1<<r,n|=e[r],t&=~a;return n}function p4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Lr(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=p4(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xv(){var e=i0;return i0<<=1,!(i0&4194240)&&(i0=64),e}function zc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lr(t),e[t]=r}function m4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Lr(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function _f(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Lr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Se=0;function Cv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kv,jf,Sv,Nv,Ev,od=!1,l0=[],Kn=null,Qn=null,Jn=null,ho=new Map,po=new Map,In=[],v4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function ki(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Fo(t),t!==null&&jf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function y4(e,t,r,n,a){switch(t){case"focusin":return Kn=ki(Kn,e,t,r,n,a),!0;case"dragenter":return Qn=ki(Qn,e,t,r,n,a),!0;case"mouseover":return Jn=ki(Jn,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ho.set(s,ki(ho.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,po.set(s,ki(po.get(s)||null,e,t,r,n,a)),!0}return!1}function Tv(e){var t=Ta(e.target);if(t!==null){var r=Ya(t);if(r!==null){if(t=r.tag,t===13){if(t=mv(r),t!==null){e.blockedOn=t,Ev(e.priority,function(){Sv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function G0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ld(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rd=n,r.target.dispatchEvent(n),rd=null}else return t=Fo(r),t!==null&&jf(t),e.blockedOn=r,!1;t.shift()}return!0}function k1(e,t,r){G0(e)&&r.delete(t)}function b4(){od=!1,Kn!==null&&G0(Kn)&&(Kn=null),Qn!==null&&G0(Qn)&&(Qn=null),Jn!==null&&G0(Jn)&&(Jn=null),ho.forEach(k1),po.forEach(k1)}function Si(e,t){e.blockedOn===t&&(e.blockedOn=null,od||(od=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,b4)))}function go(e){function t(a){return Si(a,e)}if(0<l0.length){Si(l0[0],e);for(var r=1;r<l0.length;r++){var n=l0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kn!==null&&Si(Kn,e),Qn!==null&&Si(Qn,e),Jn!==null&&Si(Jn,e),ho.forEach(t),po.forEach(t),r=0;r<In.length;r++)n=In[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<In.length&&(r=In[0],r.blockedOn===null);)Tv(r),r.blockedOn===null&&In.shift()}var As=kn.ReactCurrentBatchConfig,vl=!0;function x4(e,t,r,n){var a=Se,s=As.transition;As.transition=null;try{Se=1,Pf(e,t,r,n)}finally{Se=a,As.transition=s}}function w4(e,t,r,n){var a=Se,s=As.transition;As.transition=null;try{Se=4,Pf(e,t,r,n)}finally{Se=a,As.transition=s}}function Pf(e,t,r,n){if(vl){var a=ld(e,t,r,n);if(a===null)Qc(e,t,n,yl,r),C1(e,n);else if(y4(a,e,t,r,n))n.stopPropagation();else if(C1(e,n),t&4&&-1<v4.indexOf(e)){for(;a!==null;){var s=Fo(a);if(s!==null&&kv(s),s=ld(e,t,r,n),s===null&&Qc(e,t,n,yl,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Qc(e,t,n,null,r)}}var yl=null;function ld(e,t,r,n){if(yl=null,e=Ef(n),e=Ta(e),e!==null)if(t=Ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yl=e,null}function _v(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l4()){case Tf:return 1;case xv:return 4;case gl:case c4:return 16;case wv:return 536870912;default:return 16}default:return 16}}var qn=null,Af=null,Y0=null;function jv(){if(Y0)return Y0;var e,t=Af,r=t.length,n,a="value"in qn?qn.value:qn.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Y0=a.slice(e,1<n?1-n:void 0)}function K0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function c0(){return!0}function S1(){return!1}function nr(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?c0:S1,this.isPropagationStopped=S1,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=nr(li),Io=ze({},li,{view:0,detail:0}),X4=nr(Io),$c,Hc,Ni,Gl=ze({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?($c=e.screenX-Ni.screenX,Hc=e.screenY-Ni.screenY):Hc=$c=0,Ni=e),$c)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),N1=nr(Gl),C4=ze({},Gl,{dataTransfer:0}),k4=nr(C4),S4=ze({},Io,{relatedTarget:0}),Wc=nr(S4),N4=ze({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),E4=nr(N4),T4=ze({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_4=nr(T4),j4=ze({},li,{data:0}),E1=nr(j4),P4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M4[e])?!!t[e]:!1}function Bf(){return B4}var L4=ze({},Io,{key:function(e){if(e.key){var t=P4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(e){return e.type==="keypress"?K0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R4=nr(L4),D4=ze({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=nr(D4),O4=ze({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),I4=nr(O4),F4=ze({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),z4=nr(F4),$4=ze({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H4=nr($4),W4=[9,13,27,32],Lf=mn&&"CompositionEvent"in window,Yi=null;mn&&"documentMode"in document&&(Yi=document.documentMode);var U4=mn&&"TextEvent"in window&&!Yi,Pv=mn&&(!Lf||Yi&&8<Yi&&11>=Yi),_1=" ",j1=!1;function Av(e,t){switch(e){case"keyup":return W4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function V4(e,t){switch(e){case"compositionend":return Mv(t);case"keypress":return t.which!==32?null:(j1=!0,_1);case"textInput":return e=t.data,e===_1&&j1?null:e;default:return null}}function q4(e,t){if(ys)return e==="compositionend"||!Lf&&Av(e,t)?(e=jv(),Y0=Af=qn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pv&&t.locale!=="ko"?null:t.data;default:return null}}var G4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G4[e.type]:t==="textarea"}function Bv(e,t,r,n){dv(n),t=bl(t,"onChange"),0<t.length&&(r=new Mf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ki=null,mo=null;function Y4(e){Uv(e,0)}function Yl(e){var t=ws(e);if(av(t))return e}function K4(e,t){if(e==="change")return t}var Lv=!1;if(mn){var Uc;if(mn){var Vc="oninput"in document;if(!Vc){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),Vc=typeof A1.oninput=="function"}Uc=Vc}else Uc=!1;Lv=Uc&&(!document.documentMode||9<document.documentMode)}function M1(){Ki&&(Ki.detachEvent("onpropertychange",Rv),mo=Ki=null)}function Rv(e){if(e.propertyName==="value"&&Yl(mo)){var t=[];Bv(t,mo,e,Ef(e)),gv(Y4,t)}}function Q4(e,t,r){e==="focusin"?(M1(),Ki=t,mo=r,Ki.attachEvent("onpropertychange",Rv)):e==="focusout"&&M1()}function J4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(mo)}function Z4(e,t){if(e==="click")return Yl(t)}function e5(e,t){if(e==="input"||e==="change")return Yl(t)}function t5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Or=typeof Object.is=="function"?Object.is:t5;function vo(e,t){if(Or(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Wu.call(t,a)||!Or(e[a],t[a]))return!1}return!0}function B1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function L1(e,t){var r=B1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=B1(r)}}function Dv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ov(){for(var e=window,t=fl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fl(e.document)}return t}function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r5(e){var t=Ov(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dv(r.ownerDocument.documentElement,r)){if(n!==null&&Rf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=L1(r,s);var i=L1(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n5=mn&&"documentMode"in document&&11>=document.documentMode,bs=null,cd=null,Qi=null,ud=!1;function R1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ud||bs==null||bs!==fl(n)||(n=bs,"selectionStart"in n&&Rf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qi&&vo(Qi,n)||(Qi=n,n=bl(cd,"onSelect"),0<n.length&&(t=new Mf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bs)))}function u0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},qc={},Iv={};mn&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Kl(e){if(qc[e])return qc[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Iv)return qc[e]=t[r];return e}var Fv=Kl("animationend"),zv=Kl("animationiteration"),$v=Kl("animationstart"),Hv=Kl("transitionend"),Wv=new Map,D1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(e,t){Wv.set(e,t),Ga(t,[e])}for(var Gc=0;Gc<D1.length;Gc++){var Yc=D1[Gc],a5=Yc.toLowerCase(),s5=Yc[0].toUpperCase()+Yc.slice(1);da(a5,"on"+s5)}da(Fv,"onAnimationEnd");da(zv,"onAnimationIteration");da($v,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(Hv,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function O1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,a4(n,t,void 0,e),e.currentTarget=null}function Uv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;O1(a,o,c),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;O1(a,o,c),s=l}}}if(pl)throw e=sd,pl=!1,sd=null,e}function Be(e,t){var r=t[gd];r===void 0&&(r=t[gd]=new Set);var n=e+"__bubble";r.has(n)||(Vv(t,e,2,!1),r.add(n))}function Kc(e,t,r){var n=0;t&&(n|=4),Vv(r,e,n,t)}var d0="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[d0]){e[d0]=!0,Zm.forEach(function(r){r!=="selectionchange"&&(i5.has(r)||Kc(r,!1,e),Kc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[d0]||(t[d0]=!0,Kc("selectionchange",!1,t))}}function Vv(e,t,r,n){switch(_v(t)){case 1:var a=x4;break;case 4:a=w4;break;default:a=Pf}r=a.bind(null,t,r,e),a=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qc(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Ta(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}gv(function(){var c=s,h=Ef(r),u=[];e:{var f=Wv.get(e);if(f!==void 0){var p=Mf,g=e;switch(e){case"keypress":if(K0(r)===0)break e;case"keydown":case"keyup":p=R4;break;case"focusin":g="focus",p=Wc;break;case"focusout":g="blur",p=Wc;break;case"beforeblur":case"afterblur":p=Wc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=k4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=I4;break;case Fv:case zv:case $v:p=E4;break;case Hv:p=z4;break;case"scroll":p=X4;break;case"wheel":p=H4;break;case"copy":case"cut":case"paste":p=_4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T1}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,w;b!==null;){w=b;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=fo(b,y),x!=null&&m.push(bo(b,x,w)))),v)break;b=b.return}0<m.length&&(f=new p(f,g,null,r,h),u.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==rd&&(g=r.relatedTarget||r.fromElement)&&(Ta(g)||g[vn]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ta(g):null,g!==null&&(v=Ya(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=N1,x="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=T1,x="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?f:ws(p),w=g==null?f:ws(g),f=new m(x,b+"leave",p,r,h),f.target=v,f.relatedTarget=w,x=null,Ta(h)===c&&(m=new m(y,b+"enter",g,r,h),m.target=w,m.relatedTarget=v,x=m),v=x,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=rs(w))b++;for(w=0,x=y;x;x=rs(x))w++;for(;0<b-w;)m=rs(m),b--;for(;0<w-b;)y=rs(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=rs(m),y=rs(y)}m=null}else m=null;p!==null&&I1(u,f,p,m,!1),g!==null&&v!==null&&I1(u,v,g,m,!0)}}e:{if(f=c?ws(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var X=K4;else if(P1(f))if(Lv)X=e5;else{X=J4;var k=Q4}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(X=Z4);if(X&&(X=X(e,c))){Bv(u,X,r,h);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Qu(f,"number",f.value)}switch(k=c?ws(c):window,e){case"focusin":(P1(k)||k.contentEditable==="true")&&(bs=k,cd=c,Qi=null);break;case"focusout":Qi=cd=bs=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,R1(u,r,h);break;case"selectionchange":if(n5)break;case"keydown":case"keyup":R1(u,r,h)}var N;if(Lf)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ys?Av(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Pv&&r.locale!=="ko"&&(ys||T!=="onCompositionStart"?T==="onCompositionEnd"&&ys&&(N=jv()):(qn=h,Af="value"in qn?qn.value:qn.textContent,ys=!0)),k=bl(c,T),0<k.length&&(T=new E1(T,e,null,r,h),u.push({event:T,listeners:k}),N?T.data=N:(N=Mv(r),N!==null&&(T.data=N)))),(N=U4?V4(e,r):q4(e,r))&&(c=bl(c,"onBeforeInput"),0<c.length&&(h=new E1("onBeforeInput","beforeinput",null,r,h),u.push({event:h,listeners:c}),h.data=N))}Uv(u,t)})}function bo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=fo(e,r),s!=null&&n.unshift(bo(e,s,a)),s=fo(e,t),s!=null&&n.push(bo(e,s,a))),e=e.return}return n}function rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I1(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=fo(r,s),l!=null&&i.unshift(bo(r,l,o))):a||(l=fo(r,s),l!=null&&i.push(bo(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var o5=/\r\n?/g,l5=/\u0000|\uFFFD/g;function F1(e){return(typeof e=="string"?e:""+e).replace(o5,`
`).replace(l5,"")}function f0(e,t,r){if(t=F1(t),F1(e)!==t&&r)throw Error(K(425))}function xl(){}var dd=null,fd=null;function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,c5=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,u5=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(e){return z1.resolve(null).then(e).catch(d5)}:pd;function d5(e){setTimeout(function(){throw e})}function Jc(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);go(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ci,xo="__reactProps$"+ci,vn="__reactContainer$"+ci,gd="__reactEvents$"+ci,f5="__reactListeners$"+ci,h5="__reactHandles$"+ci;function Ta(e){var t=e[Kr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vn]||r[Kr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$1(e);e!==null;){if(r=e[Kr])return r;e=$1(e)}return t}e=r,r=e.parentNode}return null}function Fo(e){return e=e[Kr]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Ql(e){return e[xo]||null}var md=[],Xs=-1;function fa(e){return{current:e}}function Le(e){0>Xs||(e.current=md[Xs],md[Xs]=null,Xs--)}function _e(e,t){Xs++,md[Xs]=e.current,e.current=t}var oa={},Ct=fa(oa),It=fa(!1),za=oa;function Qs(e,t){var r=e.type.contextTypes;if(!r)return oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ft(e){return e=e.childContextTypes,e!=null}function wl(){Le(It),Le(Ct)}function H1(e,t,r){if(Ct.current!==oa)throw Error(K(168));_e(Ct,t),_e(It,r)}function qv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(K(108,Q6(e)||"Unknown",a));return ze({},r,n)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,za=Ct.current,_e(Ct,e),_e(It,It.current),!0}function W1(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=qv(e,t,za),n.__reactInternalMemoizedMergedChildContext=e,Le(It),Le(Ct),_e(Ct,e)):Le(It),_e(It,r)}var fn=null,Jl=!1,Zc=!1;function Gv(e){fn===null?fn=[e]:fn.push(e)}function p5(e){Jl=!0,Gv(e)}function ha(){if(!Zc&&fn!==null){Zc=!0;var e=0,t=Se;try{var r=fn;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fn=null,Jl=!1}catch(a){throw fn!==null&&(fn=fn.slice(e+1)),bv(Tf,ha),a}finally{Se=t,Zc=!1}}return null}var Cs=[],ks=0,Cl=null,kl=0,ur=[],dr=0,$a=null,hn=1,pn="";function Sa(e,t){Cs[ks++]=kl,Cs[ks++]=Cl,Cl=e,kl=t}function Yv(e,t,r){ur[dr++]=hn,ur[dr++]=pn,ur[dr++]=$a,$a=e;var n=hn;e=pn;var a=32-Lr(n)-1;n&=~(1<<a),r+=1;var s=32-Lr(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,hn=1<<32-Lr(t)+a|r<<a|n,pn=s+e}else hn=1<<s|r<<a|n,pn=e}function Df(e){e.return!==null&&(Sa(e,1),Yv(e,1,0))}function Of(e){for(;e===Cl;)Cl=Cs[--ks],Cs[ks]=null,kl=Cs[--ks],Cs[ks]=null;for(;e===$a;)$a=ur[--dr],ur[dr]=null,pn=ur[--dr],ur[dr]=null,hn=ur[--dr],ur[dr]=null}var Jt=null,Qt=null,Re=!1,Pr=null;function Kv(e,t){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function U1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$a!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Qt=null,!0):!1;default:return!1}}function vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yd(e){if(Re){var t=Qt;if(t){var r=t;if(!U1(e,t)){if(vd(e))throw Error(K(418));t=Zn(r.nextSibling);var n=Jt;t&&U1(e,t)?Kv(n,r):(e.flags=e.flags&-4097|2,Re=!1,Jt=e)}}else{if(vd(e))throw Error(K(418));e.flags=e.flags&-4097|2,Re=!1,Jt=e}}}function V1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function h0(e){if(e!==Jt)return!1;if(!Re)return V1(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hd(e.type,e.memoizedProps)),t&&(t=Qt)){if(vd(e))throw Qv(),Error(K(418));for(;t;)Kv(e,t),t=Zn(t.nextSibling)}if(V1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=Zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Jt?Zn(e.stateNode.nextSibling):null;return!0}function Qv(){for(var e=Qt;e;)e=Zn(e.nextSibling)}function Js(){Qt=Jt=null,Re=!1}function If(e){Pr===null?Pr=[e]:Pr.push(e)}var g5=kn.ReactCurrentBatchConfig;function Ei(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function p0(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q1(e){var t=e._init;return t(e._payload)}function Jv(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=na(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,x){return b===null||b.tag!==6?(b=iu(w,y.mode,x),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,x){var X=w.type;return X===vs?h(y,b,w.props.children,x,w.key):b!==null&&(b.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Dn&&q1(X)===b.type)?(x=a(b,w.props),x.ref=Ei(y,b,w),x.return=y,x):(x=nl(w.type,w.key,w.props,null,y.mode,x),x.ref=Ei(y,b,w),x.return=y,x)}function c(y,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ou(w,y.mode,x),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function h(y,b,w,x,X){return b===null||b.tag!==7?(b=Da(w,y.mode,x,X),b.return=y,b):(b=a(b,w),b.return=y,b)}function u(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=iu(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case n0:return w=nl(b.type,b.key,b.props,null,y.mode,w),w.ref=Ei(y,null,b),w.return=y,w;case ms:return b=ou(b,y.mode,w),b.return=y,b;case Dn:var x=b._init;return u(y,x(b._payload),w)}if($i(b)||Xi(b))return b=Da(b,y.mode,w,null),b.return=y,b;p0(y,b)}return null}function f(y,b,w,x){var X=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return X!==null?null:o(y,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case n0:return w.key===X?l(y,b,w,x):null;case ms:return w.key===X?c(y,b,w,x):null;case Dn:return X=w._init,f(y,b,X(w._payload),x)}if($i(w)||Xi(w))return X!==null?null:h(y,b,w,x,null);p0(y,w)}return null}function p(y,b,w,x,X){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,o(b,y,""+x,X);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case n0:return y=y.get(x.key===null?w:x.key)||null,l(b,y,x,X);case ms:return y=y.get(x.key===null?w:x.key)||null,c(b,y,x,X);case Dn:var k=x._init;return p(y,b,w,k(x._payload),X)}if($i(x)||Xi(x))return y=y.get(w)||null,h(b,y,x,X,null);p0(b,x)}return null}function g(y,b,w,x){for(var X=null,k=null,N=b,T=b=0,E=null;N!==null&&T<w.length;T++){N.index>T?(E=N,N=null):E=N.sibling;var M=f(y,N,w[T],x);if(M===null){N===null&&(N=E);break}e&&N&&M.alternate===null&&t(y,N),b=s(M,b,T),k===null?X=M:k.sibling=M,k=M,N=E}if(T===w.length)return r(y,N),Re&&Sa(y,T),X;if(N===null){for(;T<w.length;T++)N=u(y,w[T],x),N!==null&&(b=s(N,b,T),k===null?X=N:k.sibling=N,k=N);return Re&&Sa(y,T),X}for(N=n(y,N);T<w.length;T++)E=p(N,y,T,w[T],x),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?T:E.key),b=s(E,b,T),k===null?X=E:k.sibling=E,k=E);return e&&N.forEach(function(D){return t(y,D)}),Re&&Sa(y,T),X}function m(y,b,w,x){var X=Xi(w);if(typeof X!="function")throw Error(K(150));if(w=X.call(w),w==null)throw Error(K(151));for(var k=X=null,N=b,T=b=0,E=null,M=w.next();N!==null&&!M.done;T++,M=w.next()){N.index>T?(E=N,N=null):E=N.sibling;var D=f(y,N,M.value,x);if(D===null){N===null&&(N=E);break}e&&N&&D.alternate===null&&t(y,N),b=s(D,b,T),k===null?X=D:k.sibling=D,k=D,N=E}if(M.done)return r(y,N),Re&&Sa(y,T),X;if(N===null){for(;!M.done;T++,M=w.next())M=u(y,M.value,x),M!==null&&(b=s(M,b,T),k===null?X=M:k.sibling=M,k=M);return Re&&Sa(y,T),X}for(N=n(y,N);!M.done;T++,M=w.next())M=p(N,y,T,M.value,x),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?T:M.key),b=s(M,b,T),k===null?X=M:k.sibling=M,k=M);return e&&N.forEach(function(j){return t(y,j)}),Re&&Sa(y,T),X}function v(y,b,w,x){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case n0:e:{for(var X=w.key,k=b;k!==null;){if(k.key===X){if(X=w.type,X===vs){if(k.tag===7){r(y,k.sibling),b=a(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Dn&&q1(X)===k.type){r(y,k.sibling),b=a(k,w.props),b.ref=Ei(y,k,w),b.return=y,y=b;break e}r(y,k);break}else t(y,k);k=k.sibling}w.type===vs?(b=Da(w.props.children,y.mode,x,w.key),b.return=y,y=b):(x=nl(w.type,w.key,w.props,null,y.mode,x),x.ref=Ei(y,b,w),x.return=y,y=x)}return i(y);case ms:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=ou(w,y.mode,x),b.return=y,y=b}return i(y);case Dn:return k=w._init,v(y,b,k(w._payload),x)}if($i(w))return g(y,b,w,x);if(Xi(w))return m(y,b,w,x);p0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=iu(w,y.mode,x),b.return=y,y=b),i(y)):r(y,b)}return v}var Zs=Jv(!0),Zv=Jv(!1),Sl=fa(null),Nl=null,Ss=null,Ff=null;function zf(){Ff=Ss=Nl=null}function $f(e){var t=Sl.current;Le(Sl),e._currentValue=t}function bd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ms(e,t){Nl=e,Ff=Ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dt=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(Ff!==e)if(e={context:e,memoizedValue:t,next:null},Ss===null){if(Nl===null)throw Error(K(308));Ss=e,Nl.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var _a=null;function Hf(e){_a===null?_a=[e]:_a.push(e)}function e2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Hf(t)):(r.next=a.next,a.next=r),t.interleaved=r,yn(e,n)}function yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var On=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yn(e,r)}return a=n.interleaved,a===null?(t.next=t,Hf(n)):(t.next=a.next,a.next=t),n.interleaved=t,yn(e,r)}function Q0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_f(e,r)}}function G1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function El(e,t,r,n){var a=e.updateQueue;On=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var u=a.baseState;i=0,h=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(f=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){u=g.call(p,u,f);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,u,f):g,f==null)break e;u=ze({},u,f);break e;case 2:On=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=u):h=h.next=p,i|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(h===null&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Wa|=i,e.lanes=i,e.memoizedState=u}}function Y1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(K(191,a));a.call(n)}}}var zo={},Zr=fa(zo),wo=fa(zo),Xo=fa(zo);function ja(e){if(e===zo)throw Error(K(174));return e}function Uf(e,t){switch(_e(Xo,t),_e(wo,e),_e(Zr,zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zu(t,e)}Le(Zr),_e(Zr,t)}function ei(){Le(Zr),Le(wo),Le(Xo)}function r2(e){ja(Xo.current);var t=ja(Zr.current),r=Zu(t,e.type);t!==r&&(_e(wo,e),_e(Zr,r))}function Vf(e){wo.current===e&&(Le(Zr),Le(wo))}var Ie=fa(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function qf(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var J0=kn.ReactCurrentDispatcher,tu=kn.ReactCurrentBatchConfig,Ha=0,Fe=null,nt=null,it=null,_l=!1,Ji=!1,Co=0,m5=0;function vt(){throw Error(K(321))}function Gf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Or(e[r],t[r]))return!1;return!0}function Yf(e,t,r,n,a,s){if(Ha=s,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J0.current=e===null||e.memoizedState===null?x5:w5,e=r(n,a),Ji){s=0;do{if(Ji=!1,Co=0,25<=s)throw Error(K(301));s+=1,it=nt=null,t.updateQueue=null,J0.current=X5,e=r(n,a)}while(Ji)}if(J0.current=jl,t=nt!==null&&nt.next!==null,Ha=0,it=nt=Fe=null,_l=!1,t)throw Error(K(300));return e}function Kf(){var e=Co!==0;return Co=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=e:it=it.next=e,it}function gr(){if(nt===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=it===null?Fe.memoizedState:it.next;if(t!==null)it=t,nt=e;else{if(e===null)throw Error(K(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},it===null?Fe.memoizedState=it=e:it=it.next=e}return it}function ko(e,t){return typeof t=="function"?t(e):t}function ru(e){var t=gr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=nt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var h=c.lane;if((Ha&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=u,i=n):l=l.next=u,Fe.lanes|=h,Wa|=h}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=o,Or(n,t.memoizedState)||(Dt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Fe.lanes|=s,Wa|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nu(e){var t=gr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Or(s,t.memoizedState)||(Dt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function n2(){}function a2(e,t){var r=Fe,n=gr(),a=t(),s=!Or(n.memoizedState,a);if(s&&(n.memoizedState=a,Dt=!0),n=n.queue,Qf(o2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,So(9,i2.bind(null,r,n,a,t),void 0,null),ot===null)throw Error(K(349));Ha&30||s2(r,t,a)}return a}function s2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function i2(e,t,r,n){t.value=r,t.getSnapshot=n,l2(t)&&c2(e)}function o2(e,t,r){return r(function(){l2(t)&&c2(e)})}function l2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Or(e,r)}catch{return!0}}function c2(e){var t=yn(e,1);t!==null&&Rr(t,e,1,-1)}function K1(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=b5.bind(null,Fe,e),[t.memoizedState,e]}function So(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function u2(){return gr().memoizedState}function Z0(e,t,r,n){var a=Vr();Fe.flags|=e,a.memoizedState=So(1|t,r,void 0,n===void 0?null:n)}function Zl(e,t,r,n){var a=gr();n=n===void 0?null:n;var s=void 0;if(nt!==null){var i=nt.memoizedState;if(s=i.destroy,n!==null&&Gf(n,i.deps)){a.memoizedState=So(t,r,s,n);return}}Fe.flags|=e,a.memoizedState=So(1|t,r,s,n)}function Q1(e,t){return Z0(8390656,8,e,t)}function Qf(e,t){return Zl(2048,8,e,t)}function d2(e,t){return Zl(4,2,e,t)}function f2(e,t){return Zl(4,4,e,t)}function h2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function p2(e,t,r){return r=r!=null?r.concat([e]):null,Zl(4,4,h2.bind(null,t,e),r)}function Jf(){}function g2(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function m2(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Gf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function v2(e,t,r){return Ha&21?(Or(r,t)||(r=Xv(),Fe.lanes|=r,Wa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dt=!0),e.memoizedState=r)}function v5(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=tu.transition;tu.transition={};try{e(!1),t()}finally{Se=r,tu.transition=n}}function y2(){return gr().memoizedState}function y5(e,t,r){var n=ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b2(e))x2(t,r);else if(r=e2(e,t,r,n),r!==null){var a=jt();Rr(r,e,n,a),w2(r,t,n)}}function b5(e,t,r){var n=ra(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b2(e))x2(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Or(o,i)){var l=t.interleaved;l===null?(a.next=a,Hf(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=e2(e,t,a,n),r!==null&&(a=jt(),Rr(r,e,n,a),w2(r,t,n))}}function b2(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function x2(e,t){Ji=_l=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_f(e,r)}}var jl={readContext:pr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},x5={readContext:pr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:Q1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Z0(4194308,4,h2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Z0(4194308,4,e,t)},useInsertionEffect:function(e,t){return Z0(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=y5.bind(null,Fe,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:K1,useDebugValue:Jf,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=K1(!1),t=e[0];return e=v5.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fe,a=Vr();if(Re){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),ot===null)throw Error(K(349));Ha&30||s2(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Q1(o2.bind(null,n,s,e),[e]),n.flags|=2048,So(9,i2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Vr(),t=ot.identifierPrefix;if(Re){var r=pn,n=hn;r=(n&~(1<<32-Lr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Co++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w5={readContext:pr,useCallback:g2,useContext:pr,useEffect:Qf,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:m2,useReducer:ru,useRef:u2,useState:function(){return ru(ko)},useDebugValue:Jf,useDeferredValue:function(e){var t=gr();return v2(t,nt.memoizedState,e)},useTransition:function(){var e=ru(ko)[0],t=gr().memoizedState;return[e,t]},useMutableSource:n2,useSyncExternalStore:a2,useId:y2,unstable_isNewReconciler:!1},X5={readContext:pr,useCallback:g2,useContext:pr,useEffect:Qf,useImperativeHandle:p2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:m2,useReducer:nu,useRef:u2,useState:function(){return nu(ko)},useDebugValue:Jf,useDeferredValue:function(e){var t=gr();return nt===null?t.memoizedState=e:v2(t,nt.memoizedState,e)},useTransition:function(){var e=nu(ko)[0],t=gr().memoizedState;return[e,t]},useMutableSource:n2,useSyncExternalStore:a2,useId:y2,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ec={isMounted:function(e){return(e=e._reactInternals)?Ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jt(),a=ra(e),s=gn(n,a);s.payload=t,r!=null&&(s.callback=r),t=ea(e,s,a),t!==null&&(Rr(t,e,a,n),Q0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jt(),a=ra(e),s=gn(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ea(e,s,a),t!==null&&(Rr(t,e,a,n),Q0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jt(),n=ra(e),a=gn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ea(e,a,n),t!==null&&(Rr(t,e,n,r),Q0(t,e,n))}};function J1(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!vo(r,n)||!vo(a,s):!0}function X2(e,t,r){var n=!1,a=oa,s=t.contextType;return typeof s=="object"&&s!==null?s=pr(s):(a=Ft(t)?za:Ct.current,n=t.contextTypes,s=(n=n!=null)?Qs(e,a):oa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ec,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Z1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function wd(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Wf(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=pr(s):(s=Ft(t)?za:Ct.current,a.context=Qs(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xd(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ec.enqueueReplaceState(a,a.state,null),El(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",n=t;do r+=K6(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function au(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C5=typeof WeakMap=="function"?WeakMap:Map;function C2(e,t,r){r=gn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Al||(Al=!0,Ad=n),Xd(e,t)},r}function k2(e,t,r){r=gn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Xd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Xd(e,t),typeof n!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function ep(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C5;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=D5.bind(null,e,t,r),t.then(e,e))}function tp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rp(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gn(-1,1),t.tag=2,ea(r,t,1))),r.lanes|=1),e)}var k5=kn.ReactCurrentOwner,Dt=!1;function Et(e,t,r,n){t.child=e===null?Zv(t,null,r,n):Zs(t,e.child,r,n)}function np(e,t,r,n,a){r=r.render;var s=t.ref;return Ms(t,a),n=Yf(e,t,r,n,s,a),r=Kf(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bn(e,t,a)):(Re&&r&&Df(t),t.flags|=1,Et(e,t,n,a),t.child)}function ap(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!ih(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,S2(e,t,s,n,a)):(e=nl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:vo,r(i,n)&&e.ref===t.ref)return bn(e,t,a)}return t.flags|=1,e=na(s,n),e.ref=t.ref,e.return=t,t.child=e}function S2(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(vo(s,n)&&e.ref===t.ref)if(Dt=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Dt=!0);else return t.lanes=e.lanes,bn(e,t,a)}return Cd(e,t,r,n,a)}function N2(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Es,Yt),Yt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Es,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_e(Es,Yt),Yt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_e(Es,Yt),Yt|=n;return Et(e,t,a,r),t.child}function E2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cd(e,t,r,n,a){var s=Ft(r)?za:Ct.current;return s=Qs(t,s),Ms(t,a),r=Yf(e,t,r,n,s,a),n=Kf(),e!==null&&!Dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bn(e,t,a)):(Re&&n&&Df(t),t.flags|=1,Et(e,t,r,a),t.child)}function sp(e,t,r,n,a){if(Ft(r)){var s=!0;Xl(t)}else s=!1;if(Ms(t,a),t.stateNode===null)el(e,t),X2(t,r,n),wd(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Ft(r)?za:Ct.current,c=Qs(t,c));var h=r.getDerivedStateFromProps,u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Z1(t,i,n,c),On=!1;var f=t.memoizedState;i.state=f,El(t,n,i,a),l=t.memoizedState,o!==n||f!==l||It.current||On?(typeof h=="function"&&(xd(t,r,h,n),l=t.memoizedState),(o=On||J1(t,r,o,n,f,l,c))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,t2(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Sr(t.type,o),i.props=c,u=t.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Ft(r)?za:Ct.current,l=Qs(t,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==u||f!==l)&&Z1(t,i,n,l),On=!1,f=t.memoizedState,i.state=f,El(t,n,i,a);var g=t.memoizedState;o!==u||f!==g||It.current||On?(typeof p=="function"&&(xd(t,r,p,n),g=t.memoizedState),(c=On||J1(t,r,c,n,f,g,l)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return kd(e,t,r,n,s,a)}function kd(e,t,r,n,a,s){E2(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&W1(t,r,!1),bn(e,t,s);n=t.stateNode,k5.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Zs(t,e.child,null,s),t.child=Zs(t,null,o,s)):Et(e,t,o,s),t.memoizedState=n.state,a&&W1(t,r,!0),t.child}function T2(e){var t=e.stateNode;t.pendingContext?H1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H1(e,t.context,!1),Uf(e,t.containerInfo)}function ip(e,t,r,n,a){return Js(),If(a),t.flags|=256,Et(e,t,r,n),t.child}var Sd={dehydrated:null,treeContext:null,retryLane:0};function Nd(e){return{baseLanes:e,cachePool:null,transitions:null}}function _2(e,t,r){var n=t.pendingProps,a=Ie.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_e(Ie,a&1),e===null)return yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=nc(i,n,0,null),e=Da(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nd(r),t.memoizedState=Sd,e):Zf(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return S5(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=na(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=na(o,s):(s=Da(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Nd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Sd,n}return s=e.child,e=s.sibling,n=na(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Zf(e,t){return t=nc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function g0(e,t,r,n){return n!==null&&If(n),Zs(t,e.child,null,r),e=Zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function S5(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=au(Error(K(422))),g0(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=nc({mode:"visible",children:n.children},a,0,null),s=Da(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Zs(t,e.child,null,i),t.child.memoizedState=Nd(i),t.memoizedState=Sd,s);if(!(t.mode&1))return g0(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(K(419)),n=au(s,n,void 0),g0(e,t,i,n)}if(o=(i&e.childLanes)!==0,Dt||o){if(n=ot,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,yn(e,a),Rr(n,e,a,-1))}return sh(),n=au(Error(K(421))),g0(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=O5.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Qt=Zn(a.nextSibling),Jt=t,Re=!0,Pr=null,e!==null&&(ur[dr++]=hn,ur[dr++]=pn,ur[dr++]=$a,hn=e.id,pn=e.overflow,$a=t),t=Zf(t,n.children),t.flags|=4096,t)}function op(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bd(e.return,t,r)}function su(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function j2(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Et(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&op(e,r,t);else if(e.tag===19)op(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Tl(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),su(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Tl(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}su(t,!0,r,null,s);break;case"together":su(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N5(e,t,r){switch(t.tag){case 3:T2(t),Js();break;case 5:r2(t);break;case 1:Ft(t.type)&&Xl(t);break;case 4:Uf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_e(Sl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?_2(e,t,r):(_e(Ie,Ie.current&1),e=bn(e,t,r),e!==null?e.sibling:null);_e(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return j2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_e(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,N2(e,t,r)}return bn(e,t,r)}var P2,Ed,A2,M2;P2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ed=function(){};A2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ja(Zr.current);var s=null;switch(r){case"input":a=Yu(e,a),n=Yu(e,n),s=[];break;case"select":a=ze({},a,{value:void 0}),n=ze({},n,{value:void 0}),s=[];break;case"textarea":a=Ju(e,a),n=Ju(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xl)}ed(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(co.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(co.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};M2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ti(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E5(e,t,r){var n=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ft(t.type)&&wl(),yt(t),null;case 3:return n=t.stateNode,ei(),Le(It),Le(Ct),qf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(h0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pr!==null&&(Ld(Pr),Pr=null))),Ed(e,t),yt(t),null;case 5:Vf(t);var a=ja(Xo.current);if(r=t.type,e!==null&&t.stateNode!=null)A2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return yt(t),null}if(e=ja(Zr.current),h0(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Kr]=t,n[xo]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<Wi.length;a++)Be(Wi[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":m1(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":y1(n,s),Be("invalid",n)}ed(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&f0(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&f0(n.textContent,o,e),a=["children",""+o]):co.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Be("scroll",n)}switch(r){case"input":a0(n),v1(n,s,!0);break;case"textarea":a0(n),b1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=xl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ov(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Kr]=t,e[xo]=n,P2(e,t,!1,!1),t.stateNode=e;e:{switch(i=td(r,n),r){case"dialog":Be("cancel",e),Be("close",e),a=n;break;case"iframe":case"object":case"embed":Be("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wi.length;a++)Be(Wi[a],e);a=n;break;case"source":Be("error",e),a=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),a=n;break;case"details":Be("toggle",e),a=n;break;case"input":m1(e,n),a=Yu(e,n),Be("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ze({},n,{value:void 0}),Be("invalid",e);break;case"textarea":y1(e,n),a=Ju(e,n),Be("invalid",e);break;default:a=n}ed(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?uv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lv(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&uo(e,l):typeof l=="number"&&uo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(co.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",e):l!=null&&Cf(e,s,l,i))}switch(r){case"input":a0(e),v1(e,n,!1);break;case"textarea":a0(e),b1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ia(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_s(e,!!n.multiple,s,!1):n.defaultValue!=null&&_s(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=xl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)M2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=ja(Xo.current),ja(Zr.current),h0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Kr]=t,(s=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:f0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&f0(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kr]=t,t.stateNode=n}return yt(t),null;case 13:if(Le(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Qt!==null&&t.mode&1&&!(t.flags&128))Qv(),Js(),t.flags|=98560,s=!1;else if(s=h0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Kr]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),s=!1}else Pr!==null&&(Ld(Pr),Pr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?at===0&&(at=3):sh())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return ei(),Ed(e,t),e===null&&yo(t.stateNode.containerInfo),yt(t),null;case 10:return $f(t.type._context),yt(t),null;case 17:return Ft(t.type)&&wl(),yt(t),null;case 19:if(Le(Ie),s=t.memoizedState,s===null)return yt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Ti(s,!1);else{if(at!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tl(e),i!==null){for(t.flags|=128,Ti(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&Je()>ri&&(t.flags|=128,n=!0,Ti(s,!1),t.lanes=4194304)}else{if(!n)if(e=Tl(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ti(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Re)return yt(t),null}else 2*Je()-s.renderingStartTime>ri&&r!==1073741824&&(t.flags|=128,n=!0,Ti(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,r=Ie.current,_e(Ie,n?r&1|2:r&1),t):(yt(t),null);case 22:case 23:return ah(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function T5(e,t){switch(Of(t),t.tag){case 1:return Ft(t.type)&&wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),Le(It),Le(Ct),qf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vf(t),null;case 13:if(Le(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Ie),null;case 4:return ei(),null;case 10:return $f(t.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var m0=!1,Xt=!1,_5=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ve(e,t,n)}else r.current=null}function Td(e,t,r){try{r()}catch(n){Ve(e,t,n)}}var lp=!1;function j5(e,t){if(dd=vl,e=Ov(),Rf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,h=0,u=e,f=null;t:for(;;){for(var p;u!==r||a!==0&&u.nodeType!==3||(o=i+a),u!==s||n!==0&&u.nodeType!==3||(l=i+n),u.nodeType===3&&(i+=u.nodeValue.length),(p=u.firstChild)!==null;)f=u,u=p;for(;;){if(u===e)break t;if(f===r&&++c===a&&(o=i),f===s&&++h===n&&(l=i),(p=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},vl=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Sr(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(x){Ve(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return g=lp,lp=!1,g}function Zi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Td(t,r,s)}a=a.next}while(a!==n)}}function tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _d(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function B2(e){var t=e.alternate;t!==null&&(e.alternate=null,B2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kr],delete t[xo],delete t[gd],delete t[f5],delete t[h5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L2(e){return e.tag===5||e.tag===3||e.tag===4}function cp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xl));else if(n!==4&&(e=e.child,e!==null))for(jd(e,t,r),e=e.sibling;e!==null;)jd(e,t,r),e=e.sibling}function Pd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pd(e,t,r),e=e.sibling;e!==null;)Pd(e,t,r),e=e.sibling}var ut=null,Tr=!1;function Tn(e,t,r){for(r=r.child;r!==null;)R2(e,t,r),r=r.sibling}function R2(e,t,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(ql,r)}catch{}switch(r.tag){case 5:Xt||Ns(r,t);case 6:var n=ut,a=Tr;ut=null,Tn(e,t,r),ut=n,Tr=a,ut!==null&&(Tr?(e=ut,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ut.removeChild(r.stateNode));break;case 18:ut!==null&&(Tr?(e=ut,r=r.stateNode,e.nodeType===8?Jc(e.parentNode,r):e.nodeType===1&&Jc(e,r),go(e)):Jc(ut,r.stateNode));break;case 4:n=ut,a=Tr,ut=r.stateNode.containerInfo,Tr=!0,Tn(e,t,r),ut=n,Tr=a;break;case 0:case 11:case 14:case 15:if(!Xt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Td(r,t,i),a=a.next}while(a!==n)}Tn(e,t,r);break;case 1:if(!Xt&&(Ns(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ve(r,t,o)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(Xt=(n=Xt)||r.memoizedState!==null,Tn(e,t,r),Xt=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _5),t.forEach(function(n){var a=I5.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function wr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ut=o.stateNode,Tr=!1;break e;case 3:ut=o.stateNode.containerInfo,Tr=!0;break e;case 4:ut=o.stateNode.containerInfo,Tr=!0;break e}o=o.return}if(ut===null)throw Error(K(160));R2(s,i,a),ut=null,Tr=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Ve(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D2(t,e),t=t.sibling}function D2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),zr(e),n&4){try{Zi(3,e,e.return),tc(3,e)}catch(m){Ve(e,e.return,m)}try{Zi(5,e,e.return)}catch(m){Ve(e,e.return,m)}}break;case 1:wr(t,e),zr(e),n&512&&r!==null&&Ns(r,r.return);break;case 5:if(wr(t,e),zr(e),n&512&&r!==null&&Ns(r,r.return),e.flags&32){var a=e.stateNode;try{uo(a,"")}catch(m){Ve(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&sv(a,s),td(o,i);var c=td(o,s);for(i=0;i<l.length;i+=2){var h=l[i],u=l[i+1];h==="style"?uv(a,u):h==="dangerouslySetInnerHTML"?lv(a,u):h==="children"?uo(a,u):Cf(a,h,u,c)}switch(o){case"input":Ku(a,s);break;case"textarea":iv(a,s);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_s(a,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?_s(a,!!s.multiple,s.defaultValue,!0):_s(a,!!s.multiple,s.multiple?[]:"",!1))}a[xo]=s}catch(m){Ve(e,e.return,m)}}break;case 6:if(wr(t,e),zr(e),n&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){Ve(e,e.return,m)}}break;case 3:if(wr(t,e),zr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(m){Ve(e,e.return,m)}break;case 4:wr(t,e),zr(e);break;case 13:wr(t,e),zr(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(rh=Je())),n&4&&up(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Xt=(c=Xt)||h,wr(t,e),Xt=c):wr(t,e),zr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(Z=e,h=e.child;h!==null;){for(u=Z=h;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Zi(4,f,f.return);break;case 1:Ns(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ve(n,r,m)}}break;case 5:Ns(f,f.return);break;case 22:if(f.memoizedState!==null){fp(u);continue}}p!==null?(p.return=f,Z=p):fp(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{a=u.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,l=u.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=cv("display",i))}catch(m){Ve(e,e.return,m)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){Ve(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:wr(t,e),zr(e),n&4&&up(e);break;case 21:break;default:wr(t,e),zr(e)}}function zr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L2(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(uo(a,""),n.flags&=-33);var s=cp(e);Pd(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=cp(e);jd(e,o,i);break;default:throw Error(K(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P5(e,t,r){Z=e,O2(e)}function O2(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var a=Z,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||m0;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Xt;o=m0;var c=Xt;if(m0=i,(Xt=l)&&!c)for(Z=a;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?hp(a):l!==null?(l.return=i,Z=l):hp(a);for(;s!==null;)Z=s,O2(s),s=s.sibling;Z=a,m0=o,Xt=c}dp(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Z=s):dp(e)}}function dp(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||tc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Sr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Y1(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Y1(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&go(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Xt||t.flags&512&&_d(t)}catch(f){Ve(t,t.return,f)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function fp(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function hp(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tc(4,t)}catch(l){Ve(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Ve(t,a,l)}}var s=t.return;try{_d(t)}catch(l){Ve(t,s,l)}break;case 5:var i=t.return;try{_d(t)}catch(l){Ve(t,i,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var A5=Math.ceil,Pl=kn.ReactCurrentDispatcher,eh=kn.ReactCurrentOwner,hr=kn.ReactCurrentBatchConfig,we=0,ot=null,rt=null,dt=0,Yt=0,Es=fa(0),at=0,No=null,Wa=0,rc=0,th=0,eo=null,Rt=null,rh=0,ri=1/0,dn=null,Al=!1,Ad=null,ta=null,v0=!1,Gn=null,Ml=0,to=0,Md=null,tl=-1,rl=0;function jt(){return we&6?Je():tl!==-1?tl:tl=Je()}function ra(e){return e.mode&1?we&2&&dt!==0?dt&-dt:g5.transition!==null?(rl===0&&(rl=Xv()),rl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:_v(e.type)),e):1}function Rr(e,t,r,n){if(50<to)throw to=0,Md=null,Error(K(185));Oo(e,r,n),(!(we&2)||e!==ot)&&(e===ot&&(!(we&2)&&(rc|=r),at===4&&Fn(e,dt)),zt(e,n),r===1&&we===0&&!(t.mode&1)&&(ri=Je()+500,Jl&&ha()))}function zt(e,t){var r=e.callbackNode;g4(e,t);var n=ml(e,e===ot?dt:0);if(n===0)r!==null&&X1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&X1(r),t===1)e.tag===0?p5(pp.bind(null,e)):Gv(pp.bind(null,e)),u5(function(){!(we&6)&&ha()}),r=null;else{switch(Cv(n)){case 1:r=Tf;break;case 4:r=xv;break;case 16:r=gl;break;case 536870912:r=wv;break;default:r=gl}r=V2(r,I2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I2(e,t){if(tl=-1,rl=0,we&6)throw Error(K(327));var r=e.callbackNode;if(Bs()&&e.callbackNode!==r)return null;var n=ml(e,e===ot?dt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bl(e,n);else{t=n;var a=we;we|=2;var s=z2();(ot!==e||dt!==t)&&(dn=null,ri=Je()+500,Ra(e,t));do try{L5();break}catch(o){F2(e,o)}while(!0);zf(),Pl.current=s,we=a,rt!==null?t=0:(ot=null,dt=0,t=at)}if(t!==0){if(t===2&&(a=id(e),a!==0&&(n=a,t=Bd(e,a))),t===1)throw r=No,Ra(e,0),Fn(e,n),zt(e,Je()),r;if(t===6)Fn(e,n);else{if(a=e.current.alternate,!(n&30)&&!M5(a)&&(t=Bl(e,n),t===2&&(s=id(e),s!==0&&(n=s,t=Bd(e,s))),t===1))throw r=No,Ra(e,0),Fn(e,n),zt(e,Je()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:Na(e,Rt,dn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=rh+500-Je(),10<t)){if(ml(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pd(Na.bind(null,e,Rt,dn),t);break}Na(e,Rt,dn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Lr(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*A5(n/1960))-n,10<n){e.timeoutHandle=pd(Na.bind(null,e,Rt,dn),n);break}Na(e,Rt,dn);break;case 5:Na(e,Rt,dn);break;default:throw Error(K(329))}}}return zt(e,Je()),e.callbackNode===r?I2.bind(null,e):null}function Bd(e,t){var r=eo;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=Rt,Rt=r,t!==null&&Ld(t)),e}function Ld(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function M5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Or(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~th,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Lr(t),n=1<<r;e[r]=-1,t&=~n}}function pp(e){if(we&6)throw Error(K(327));Bs();var t=ml(e,0);if(!(t&1))return zt(e,Je()),null;var r=Bl(e,t);if(e.tag!==0&&r===2){var n=id(e);n!==0&&(t=n,r=Bd(e,n))}if(r===1)throw r=No,Ra(e,0),Fn(e,t),zt(e,Je()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Na(e,Rt,dn),zt(e,Je()),null}function nh(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(ri=Je()+500,Jl&&ha())}}function Ua(e){Gn!==null&&Gn.tag===0&&!(we&6)&&Bs();var t=we;we|=1;var r=hr.transition,n=Se;try{if(hr.transition=null,Se=1,e)return e()}finally{Se=n,hr.transition=r,we=t,!(we&6)&&ha()}}function ah(){Yt=Es.current,Le(Es)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,c5(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch(Of(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wl();break;case 3:ei(),Le(It),Le(Ct),qf();break;case 5:Vf(n);break;case 4:ei();break;case 13:Le(Ie);break;case 19:Le(Ie);break;case 10:$f(n.type._context);break;case 22:case 23:ah()}r=r.return}if(ot=e,rt=e=na(e.current,null),dt=Yt=t,at=0,No=null,th=rc=Wa=0,Rt=eo=null,_a!==null){for(t=0;t<_a.length;t++)if(r=_a[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}_a=null}return e}function F2(e,t){do{var r=rt;try{if(zf(),J0.current=jl,_l){for(var n=Fe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_l=!1}if(Ha=0,it=nt=Fe=null,Ji=!1,Co=0,eh.current=null,r===null||r.return===null){at=1,No=t,rt=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=dt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=tp(i);if(p!==null){p.flags&=-257,rp(p,i,o,s,t),p.mode&1&&ep(s,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){ep(s,c,t),sh();break e}l=Error(K(426))}}else if(Re&&o.mode&1){var v=tp(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),rp(v,i,o,s,t),If(ti(l,o));break e}}s=l=ti(l,o),at!==4&&(at=2),eo===null?eo=[s]:eo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=C2(s,l,t);G1(s,y);break e;case 1:o=l;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ta===null||!ta.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=k2(s,o,t);G1(s,x);break e}}s=s.return}while(s!==null)}H2(r)}catch(X){t=X,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function z2(){var e=Pl.current;return Pl.current=jl,e===null?jl:e}function sh(){(at===0||at===3||at===2)&&(at=4),ot===null||!(Wa&268435455)&&!(rc&268435455)||Fn(ot,dt)}function Bl(e,t){var r=we;we|=2;var n=z2();(ot!==e||dt!==t)&&(dn=null,Ra(e,t));do try{B5();break}catch(a){F2(e,a)}while(!0);if(zf(),we=r,Pl.current=n,rt!==null)throw Error(K(261));return ot=null,dt=0,at}function B5(){for(;rt!==null;)$2(rt)}function L5(){for(;rt!==null&&!i4();)$2(rt)}function $2(e){var t=U2(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?H2(e):rt=t,eh.current=null}function H2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T5(r,t),r!==null){r.flags&=32767,rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{at=6,rt=null;return}}else if(r=E5(r,t,Yt),r!==null){rt=r;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);at===0&&(at=5)}function Na(e,t,r){var n=Se,a=hr.transition;try{hr.transition=null,Se=1,R5(e,t,r,n)}finally{hr.transition=a,Se=n}return null}function R5(e,t,r,n){do Bs();while(Gn!==null);if(we&6)throw Error(K(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(m4(e,s),e===ot&&(rt=ot=null,dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||v0||(v0=!0,V2(gl,function(){return Bs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var i=Se;Se=1;var o=we;we|=4,eh.current=null,j5(e,r),D2(r,e),r5(fd),vl=!!dd,fd=dd=null,e.current=r,P5(r),o4(),we=o,Se=i,hr.transition=s}else e.current=r;if(v0&&(v0=!1,Gn=e,Ml=a),s=e.pendingLanes,s===0&&(ta=null),u4(r.stateNode),zt(e,Je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Al)throw Al=!1,e=Ad,Ad=null,e;return Ml&1&&e.tag!==0&&Bs(),s=e.pendingLanes,s&1?e===Md?to++:(to=0,Md=e):to=0,ha(),null}function Bs(){if(Gn!==null){var e=Cv(Ml),t=hr.transition,r=Se;try{if(hr.transition=null,Se=16>e?16:e,Gn===null)var n=!1;else{if(e=Gn,Gn=null,Ml=0,we&6)throw Error(K(331));var a=we;for(we|=4,Z=e.current;Z!==null;){var s=Z,i=s.child;if(Z.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Z=c;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Zi(8,h,s)}var u=h.child;if(u!==null)u.return=h,Z=u;else for(;Z!==null;){h=Z;var f=h.sibling,p=h.return;if(B2(h),h===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Z=i;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zi(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Z=y;break e}Z=s.return}}var b=e.current;for(Z=b;Z!==null;){i=Z;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Z=w;else e:for(i=b;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tc(9,o)}}catch(X){Ve(o,o.return,X)}if(o===i){Z=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Z=x;break e}Z=o.return}}if(we=a,ha(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(ql,e)}catch{}n=!0}return n}finally{Se=r,hr.transition=t}}return!1}function gp(e,t,r){t=ti(r,t),t=C2(e,t,1),e=ea(e,t,1),t=jt(),e!==null&&(Oo(e,1,t),zt(e,t))}function Ve(e,t,r){if(e.tag===3)gp(e,e,r);else for(;t!==null;){if(t.tag===3){gp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ta===null||!ta.has(n))){e=ti(r,e),e=k2(t,e,1),t=ea(t,e,1),e=jt(),t!==null&&(Oo(t,1,e),zt(t,e));break}}t=t.return}}function D5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(dt&r)===r&&(at===4||at===3&&(dt&130023424)===dt&&500>Je()-rh?Ra(e,0):th|=r),zt(e,t)}function W2(e,t){t===0&&(e.mode&1?(t=o0,o0<<=1,!(o0&130023424)&&(o0=4194304)):t=1);var r=jt();e=yn(e,t),e!==null&&(Oo(e,t,r),zt(e,r))}function O5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),W2(e,r)}function I5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),W2(e,r)}var U2;U2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)Dt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dt=!1,N5(e,t,r);Dt=!!(e.flags&131072)}else Dt=!1,Re&&t.flags&1048576&&Yv(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;el(e,t),e=t.pendingProps;var a=Qs(t,Ct.current);Ms(t,r),a=Yf(null,t,n,e,a,r);var s=Kf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(n)?(s=!0,Xl(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wf(t),a.updater=ec,t.stateNode=a,a._reactInternals=t,wd(t,n,e,r),t=kd(null,t,n,!0,s,r)):(t.tag=0,Re&&s&&Df(t),Et(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(el(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=z5(n),e=Sr(n,e),a){case 0:t=Cd(null,t,n,e,r);break e;case 1:t=sp(null,t,n,e,r);break e;case 11:t=np(null,t,n,e,r);break e;case 14:t=ap(null,t,n,Sr(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),Cd(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),sp(e,t,n,a,r);case 3:e:{if(T2(t),e===null)throw Error(K(387));n=t.pendingProps,s=t.memoizedState,a=s.element,t2(e,t),El(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=ti(Error(K(423)),t),t=ip(e,t,n,r,a);break e}else if(n!==a){a=ti(Error(K(424)),t),t=ip(e,t,n,r,a);break e}else for(Qt=Zn(t.stateNode.containerInfo.firstChild),Jt=t,Re=!0,Pr=null,r=Zv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Js(),n===a){t=bn(e,t,r);break e}Et(e,t,n,r)}t=t.child}return t;case 5:return r2(t),e===null&&yd(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,hd(n,a)?i=null:s!==null&&hd(n,s)&&(t.flags|=32),E2(e,t),Et(e,t,i,r),t.child;case 6:return e===null&&yd(t),null;case 13:return _2(e,t,r);case 4:return Uf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zs(t,null,n,r):Et(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),np(e,t,n,a,r);case 7:return Et(e,t,t.pendingProps,r),t.child;case 8:return Et(e,t,t.pendingProps.children,r),t.child;case 12:return Et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,_e(Sl,n._currentValue),n._currentValue=i,s!==null)if(Or(s.value,i)){if(s.children===a.children&&!It.current){t=bn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=gn(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),bd(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(K(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),bd(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Et(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ms(t,r),a=pr(a),n=n(a),t.flags|=1,Et(e,t,n,r),t.child;case 14:return n=t.type,a=Sr(n,t.pendingProps),a=Sr(n.type,a),ap(e,t,n,a,r);case 15:return S2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Sr(n,a),el(e,t),t.tag=1,Ft(n)?(e=!0,Xl(t)):e=!1,Ms(t,r),X2(t,n,a),wd(t,n,a,r),kd(null,t,n,!0,e,r);case 19:return j2(e,t,r);case 22:return N2(e,t,r)}throw Error(K(156,t.tag))};function V2(e,t){return bv(e,t)}function F5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,r,n){return new F5(e,t,r,n)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z5(e){if(typeof e=="function")return ih(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sf)return 11;if(e===Nf)return 14}return 2}function na(e,t){var r=e.alternate;return r===null?(r=fr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nl(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")ih(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return Da(r.children,a,s,t);case kf:i=8,a|=8;break;case Uu:return e=fr(12,r,t,a|2),e.elementType=Uu,e.lanes=s,e;case Vu:return e=fr(13,r,t,a),e.elementType=Vu,e.lanes=s,e;case qu:return e=fr(19,r,t,a),e.elementType=qu,e.lanes=s,e;case rv:return nc(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ev:i=10;break e;case tv:i=9;break e;case Sf:i=11;break e;case Nf:i=14;break e;case Dn:i=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=fr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Da(e,t,r,n){return e=fr(7,e,n,t),e.lanes=r,e}function nc(e,t,r,n){return e=fr(22,e,n,t),e.elementType=rv,e.lanes=r,e.stateNode={isHidden:!1},e}function iu(e,t,r){return e=fr(6,e,null,t),e.lanes=r,e}function ou(e,t,r){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $5(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oh(e,t,r,n,a,s,i,o,l){return e=new $5(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(s),e}function H5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function q2(e){if(!e)return oa;e=e._reactInternals;e:{if(Ya(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(Ft(r))return qv(e,r,t)}return t}function G2(e,t,r,n,a,s,i,o,l){return e=oh(r,n,!0,e,a,s,i,o,l),e.context=q2(null),r=e.current,n=jt(),a=ra(r),s=gn(n,a),s.callback=t??null,ea(r,s,a),e.current.lanes=a,Oo(e,a,n),zt(e,n),e}function ac(e,t,r,n){var a=t.current,s=jt(),i=ra(a);return r=q2(r),t.context===null?t.context=r:t.pendingContext=r,t=gn(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ea(a,t,i),e!==null&&(Rr(e,a,i,s),Q0(e,a,i)),i}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lh(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function W5(){return null}var Y2=typeof reportError=="function"?reportError:function(e){console.error(e)};function ch(e){this._internalRoot=e}sc.prototype.render=ch.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));ac(e,t,null,null)};sc.prototype.unmount=ch.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ua(function(){ac(null,e,null,null)}),t[vn]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<In.length&&t!==0&&t<In[r].priority;r++);In.splice(r,0,e),r===0&&Tv(e)}};function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vp(){}function U5(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=Ll(i);s.call(c)}}var i=G2(t,n,e,0,null,!1,!1,"",vp);return e._reactRootContainer=i,e[vn]=i.current,yo(e.nodeType===8?e.parentNode:e),Ua(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Ll(l);o.call(c)}}var l=oh(e,0,!1,null,null,!1,!1,"",vp);return e._reactRootContainer=l,e[vn]=l.current,yo(e.nodeType===8?e.parentNode:e),Ua(function(){ac(t,l,r,n)}),l}function oc(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=Ll(i);o.call(l)}}ac(t,i,e,a)}else i=U5(r,t,e,a,n);return Ll(i)}kv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hi(t.pendingLanes);r!==0&&(_f(t,r|1),zt(t,Je()),!(we&6)&&(ri=Je()+500,ha()))}break;case 13:Ua(function(){var n=yn(e,1);if(n!==null){var a=jt();Rr(n,e,1,a)}}),lh(e,1)}};jf=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var r=jt();Rr(t,e,134217728,r)}lh(e,134217728)}};Sv=function(e){if(e.tag===13){var t=ra(e),r=yn(e,t);if(r!==null){var n=jt();Rr(r,e,t,n)}lh(e,t)}};Nv=function(){return Se};Ev=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}};nd=function(e,t,r){switch(t){case"input":if(Ku(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ql(n);if(!a)throw Error(K(90));av(n),Ku(n,a)}}}break;case"textarea":iv(e,r);break;case"select":t=r.value,t!=null&&_s(e,!!r.multiple,t,!1)}};hv=nh;pv=Ua;var V5={usingClientEntryPoint:!1,Events:[Fo,ws,Ql,dv,fv,nh]},_i={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q5={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vv(e),e===null?null:e.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||W5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{ql=y0.inject(q5),Jr=y0}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V5;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(t))throw Error(K(200));return H5(e,t,null,r)};rr.createRoot=function(e,t){if(!uh(e))throw Error(K(299));var r=!1,n="",a=Y2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=oh(e,1,!1,null,null,r,!1,n,a),e[vn]=t.current,yo(e.nodeType===8?e.parentNode:e),new ch(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=vv(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return Ua(e)};rr.hydrate=function(e,t,r){if(!ic(t))throw Error(K(200));return oc(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!uh(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=Y2;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=G2(t,null,e,1,r??null,a,!1,s,i),e[vn]=t.current,yo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new sc(t)};rr.render=function(e,t,r){if(!ic(t))throw Error(K(200));return oc(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!ic(e))throw Error(K(40));return e._reactRootContainer?(Ua(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};rr.unstable_batchedUpdates=nh;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ic(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return oc(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(e){console.error(e)}}K2(),Km.exports=rr;var Ka=Km.exports;const G5=mf(Ka);var Q2,yp=Ka;Q2=yp.createRoot,yp.hydrateRoot;function Y5(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,s,i=[],o="",l=e.split("/");for(l[0]||l.shift();a=l.shift();)r=a[0],r==="*"?(i.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),s=a.indexOf(".",1),i.push(a.substring(1,~n?n:~s?s:a.length)),o+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~n?"?":"")+"\\"+a.substring(s))):o+="/"+a;return{keys:i,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var J2={exports:{}},Z2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=C;function K5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q5=typeof Object.is=="function"?Object.is:K5,J5=ni.useState,Z5=ni.useEffect,ew=ni.useLayoutEffect,tw=ni.useDebugValue;function rw(e,t){var r=t(),n=J5({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return ew(function(){a.value=r,a.getSnapshot=t,lu(a)&&s({inst:a})},[e,r,t]),Z5(function(){return lu(a)&&s({inst:a}),e(function(){lu(a)&&s({inst:a})})},[e]),tw(r),r}function lu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Q5(e,r)}catch{return!0}}function nw(e,t){return t()}var aw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nw:rw;Z2.useSyncExternalStore=ni.useSyncExternalStore!==void 0?ni.useSyncExternalStore:aw;J2.exports=Z2;var sw=J2.exports;const iw=Gm.useInsertionEffect,ow=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lw=ow?C.useLayoutEffect:C.useEffect,cw=iw||lw,e3=e=>{const t=C.useRef([e,(...r)=>t[0](...r)]).current;return cw(()=>{t[0]=e}),t[1]},uw="popstate",dh="pushState",fh="replaceState",dw="hashchange",bp=[uw,dh,fh,dw],fw=e=>{for(const t of bp)addEventListener(t,e);return()=>{for(const t of bp)removeEventListener(t,e)}},t3=(e,t)=>sw.useSyncExternalStore(fw,e,t),hw=()=>location.search,pw=({ssrSearch:e=""}={})=>t3(hw,()=>e),xp=()=>location.pathname,gw=({ssrPath:e}={})=>t3(xp,e?()=>e:xp),mw=(e,{replace:t=!1,state:r=null}={})=>history[t?fh:dh](r,"",e),vw=(e={})=>[gw(e),mw],wp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[wp]>"u"){for(const e of[dh,fh]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,wp,{value:!0})}const yw=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",r3=(e="")=>e==="/"?"":e,bw=(e,t)=>e[0]==="~"?e.slice(1):r3(t)+e,xw=(e="",t)=>yw(Xp(r3(e)),Xp(t)),Xp=e=>{try{return decodeURI(e)}catch{return e}},n3={hook:vw,searchHook:pw,parser:Y5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},a3=C.createContext(n3),$o=()=>C.useContext(a3),s3={},i3=C.createContext(s3),ww=()=>C.useContext(i3),lc=e=>{const[t,r]=e.hook(e);return[xw(e.base,t),e3((n,a)=>r(bw(n,e.base),a))]},Xw=()=>lc($o()),o3=(e,t,r,n)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),i=a.exec(r)||[],[o,...l]=i;return o!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,f)=>[u,l[f]])):i.groups;let h={...l};return c&&Object.assign(h,c),h})(),...n?[o]:[]]:[!1,null]},Cw=({children:e,...t})=>{var h,u;const r=$o(),n=t.hook?n3:r;let a=n;const[s,i]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];i&&(t.ssrSearch=i,t.ssrPath=s),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let o=C.useRef({}),l=o.current,c=l;for(let f in n){const p=f==="base"?n[f]+(t[f]||""):t[f]||n[f];l===c&&p!==c[f]&&(o.current=c={...c}),c[f]=p,p!==n[f]&&(a=c)}return C.createElement(a3.Provider,{value:a,children:e})},Cp=({children:e,component:t},r)=>t?C.createElement(t,{params:r}):typeof e=="function"?e(r):e,kw=e=>{let t=C.useRef(s3),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Xr=({path:e,nest:t,match:r,...n})=>{const a=$o(),[s]=lc(a),[i,o,l]=r??o3(a.parser,e,s,t),c=kw({...ww(),...o});if(!i)return null;const h=l?C.createElement(Cw,{base:l},Cp(n,c)):Cp(n,c);return C.createElement(i3.Provider,{value:c,children:h})},ro=C.forwardRef((e,t)=>{const r=$o(),[n,a]=lc(r),{to:s="",href:i=s,onClick:o,asChild:l,children:c,className:h,replace:u,state:f,...p}=e,g=e3(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o==null||o(v),v.defaultPrevented||(v.preventDefault(),a(i,e)))}),m=r.hrefs(i[0]==="~"?i.slice(1):r.base+i,r);return l&&C.isValidElement(c)?C.cloneElement(c,{onClick:g,href:m}):C.createElement("a",{...p,onClick:g,href:m,className:h!=null&&h.call?h(n===i):h,children:c,ref:t})}),l3=e=>Array.isArray(e)?e.flatMap(t=>l3(t&&t.type===C.Fragment?t.props.children:t)):[e],Sw=({children:e,location:t})=>{const r=$o(),[n]=lc(r);for(const a of l3(e)){let s=0;if(C.isValidElement(a)&&(s=o3(r.parser,a.props.path,t||n,a.props.nest))[0])return C.cloneElement(a,{match:s})}return null};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c3=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>C.createElement("svg",{ref:l,...Ew,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:c3("lucide",a),...o},[...i.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const r=C.forwardRef(({className:n,...a},s)=>C.createElement(Tw,{ref:s,iconNode:t,className:c3(`lucide-${Nw(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=$e("Drum",[["path",{d:"m2 2 8 8",key:"1v6059"}],["path",{d:"m22 2-8 8",key:"173r8a"}],["ellipse",{cx:"12",cy:"9",rx:"10",ry:"5",key:"liohsx"}],["path",{d:"M7 13.4v7.9",key:"1yi6u9"}],["path",{d:"M12 14v8",key:"1tn2tj"}],["path",{d:"M17 13.4v7.9",key:"eqz2v3"}],["path",{d:"M2 9v8a10 5 0 0 0 20 0V9",key:"1750ul"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=$e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=$e("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=$e("OctagonMinus",[["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=$e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=$e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=$e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Np(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function p3(...e){return t=>{let r=!1;const n=e.map(a=>{const s=Np(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():Np(e[a],null)}}}}function Ee(...e){return C.useCallback(p3(...e),e)}function To(e){const t=Iw(e),r=C.forwardRef((n,a)=>{const{children:s,...i}=n,o=C.Children.toArray(s),l=o.find(zw);if(l){const c=l.props.children,h=o.map(u=>u===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:u);return d.jsx(t,{...i,ref:a,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return d.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var Ow=To("Slot");function Iw(e){const t=C.forwardRef((r,n)=>{const{children:a,...s}=r;if(C.isValidElement(a)){const i=Hw(a),o=$w(s,a.props);return a.type!==C.Fragment&&(o.ref=n?p3(n,i):i),C.cloneElement(a,o)}return C.Children.count(a)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g3=Symbol("radix.slottable");function Fw(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=g3,t}function zw(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g3}function $w(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...o)=>{s(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Hw(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function m3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=m3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function v3(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=m3(e))&&(n&&(n+=" "),n+=t);return n}const Ep=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tp=v3,uc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Tp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(c=>{const h=r==null?void 0:r[c],u=s==null?void 0:s[c];if(h===null)return null;const f=Ep(h)||Ep(u);return a[c][f]}),o=r&&Object.entries(r).reduce((c,h)=>{let[u,f]=h;return f===void 0||(c[u]=f),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:u,className:f,...p}=h;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...c,u,f]:c},[]);return Tp(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)},ph="-",Ww=e=>{const t=Vw(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(ph);return o[0]===""&&o.length!==1&&o.shift(),y3(o,t)||Uw(i)},getConflictingClassGroupIds:(i,o)=>{const l=r[i]||[];return o&&n[i]?[...l,...n[i]]:l}}},y3=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?y3(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(ph);return(i=t.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},_p=/^\[(.+)\]$/,Uw=e=>{if(_p.test(e)){const t=_p.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Vw=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Gw(Object.entries(e.classGroups),r).forEach(([s,i])=>{Od(i,n,s,t)}),n},Od=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:jp(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(qw(a)){Od(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{Od(i,jp(t,s),r,n)})})},jp=(e,t)=>{let r=e;return t.split(ph).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qw=e=>e.isThemeGetter,Gw=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,o])=>[t+i,o])):s);return[r,a]}):e,Yw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},b3="!",Kw=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=o=>{const l=[];let c=0,h=0,u;for(let v=0;v<o.length;v++){let y=o[v];if(c===0){if(y===a&&(n||o.slice(v,v+s)===t)){l.push(o.slice(h,v)),h=v+s;continue}if(y==="/"){u=v;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?o:o.substring(h),p=f.startsWith(b3),g=p?f.substring(1):f,m=u&&u>h?u-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:i}):i},Qw=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Jw=e=>({cache:Yw(e.cacheSize),parseClassName:Kw(e),...Ww(e)}),Zw=/\s+/,e8=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(Zw);let o="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:h,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:p}=r(c);let g=!!p,m=n(g?f.substring(0,p):f);if(!m){if(!g){o=c+(o.length>0?" "+o:o);continue}if(m=n(f),!m){o=c+(o.length>0?" "+o:o);continue}g=!1}const v=Qw(h).join(":"),y=u?v+b3:v,b=y+m;if(s.includes(b))continue;s.push(b);const w=a(m,g);for(let x=0;x<w.length;++x){const X=w[x];s.push(y+X)}o=c+(o.length>0?" "+o:o)}return o};function t8(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=x3(t))&&(n&&(n+=" "),n+=r);return n}const x3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=x3(e[n]))&&(r&&(r+=" "),r+=t);return r};function r8(e,...t){let r,n,a,s=i;function i(l){const c=t.reduce((h,u)=>u(h),e());return r=Jw(c),n=r.cache.get,a=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const h=e8(l,r);return a(l,h),h}return function(){return s(t8.apply(null,arguments))}}const Me=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},w3=/^\[(?:([a-z-]+):)?(.+)\]$/i,n8=/^\d+\/\d+$/,a8=new Set(["px","full","screen"]),s8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,on=e=>Ls(e)||a8.has(e)||n8.test(e),_n=e=>ui(e,"length",v8),Ls=e=>!!e&&!Number.isNaN(Number(e)),uu=e=>ui(e,"number",Ls),ji=e=>!!e&&Number.isInteger(Number(e)),u8=e=>e.endsWith("%")&&Ls(e.slice(0,-1)),he=e=>w3.test(e),jn=e=>s8.test(e),d8=new Set(["length","size","percentage"]),f8=e=>ui(e,d8,X3),h8=e=>ui(e,"position",X3),p8=new Set(["image","url"]),g8=e=>ui(e,p8,b8),m8=e=>ui(e,"",y8),Pi=()=>!0,ui=(e,t,r)=>{const n=w3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},v8=e=>i8.test(e)&&!o8.test(e),X3=()=>!1,y8=e=>l8.test(e),b8=e=>c8.test(e),x8=()=>{const e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),a=Me("borderColor"),s=Me("borderRadius"),i=Me("borderSpacing"),o=Me("borderWidth"),l=Me("contrast"),c=Me("grayscale"),h=Me("hueRotate"),u=Me("invert"),f=Me("gap"),p=Me("gradientColorStops"),g=Me("gradientColorStopPositions"),m=Me("inset"),v=Me("margin"),y=Me("opacity"),b=Me("padding"),w=Me("saturate"),x=Me("scale"),X=Me("sepia"),k=Me("skew"),N=Me("space"),T=Me("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",he,t],j=()=>[he,t],R=()=>["",on,_n],P=()=>["auto",Ls,he],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",he],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Ls,he];return{cacheSize:500,separator:":",theme:{colors:[Pi],spacing:[on,_n],blur:["none","",jn,he],brightness:$(),borderColor:[e],borderRadius:["none","","full",jn,he],borderSpacing:j(),borderWidth:R(),contrast:$(),grayscale:A(),hueRotate:$(),invert:A(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[u8,_n],inset:D(),margin:D(),opacity:$(),padding:j(),saturate:$(),scale:$(),sepia:A(),skew:$(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[jn]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),he]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ji,he]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ji,he]}],"grid-cols":[{"grid-cols":[Pi]}],"col-start-end":[{col:["auto",{span:["full",ji,he]},he]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Pi]}],"row-start-end":[{row:["auto",{span:[ji,he]},he]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[jn]},jn]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uu]}],"font-family":[{font:[Pi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Ls,uu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",on,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",on,_n]}],"underline-offset":[{"underline-offset":["auto",on,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),h8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[on,he]}],"outline-w":[{outline:[on,_n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[on,_n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jn,m8]}],"shadow-color":[{shadow:[Pi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[..._(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",jn,he]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[ji,he]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[on,_n,uu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},w8=r8(x8);function Ne(...e){return w8(v3(e))}const X8=uc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ze=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?Ow:"button";return d.jsx(i,{className:Ne(X8({variant:t,size:r,className:e})),ref:s,...a})});Ze.displayName="Button";const C8="/logo.png";function k8(){const[e]=Xw(),[t,r]=C.useState(!1),n=[{path:"/",label:"Home"},{path:"/about",label:"About"},{path:"/instagram",label:"Regional Groups"},{path:"/theory",label:"Theory"},{path:"/technique",label:"Technique"},{path:"/instruments",label:"Instruments"},{path:"/protest-beats",label:"Protest Beats"},{path:"/tunes",label:"Tunes"},{path:"/experiment",label:"Create Your Own"},{path:"/shop",label:"Shop"}],a=s=>s==="/"?e==="/":e.startsWith(s);return d.jsxs("nav",{className:"bg-gradient-to-r from-gray-900 via-black to-gray-900 shadow-2xl sticky top-0 z-50 border-b border-gray-700 backdrop-blur-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs(ro,{href:"/",className:"flex items-center space-x-2 md:space-x-3 text-white hover:text-white transition-all duration-300 hover:scale-105",children:[d.jsx("img",{src:C8,alt:"Drummers For Palestine",className:"h-8 md:h-10 w-auto drop-shadow-lg"}),d.jsx("h1",{className:"street-text text-lg md:text-xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Drummers For Palestine"})]})}),d.jsx("div",{className:"hidden md:block",children:d.jsx("div",{className:"ml-6 lg:ml-10 flex items-baseline space-x-2 lg:space-x-4",children:n.map(s=>d.jsx(ro,{href:s.path,children:d.jsx(Ze,{variant:a(s.path)?"default":"ghost",size:"sm",className:a(s.path)?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-lg shadow-red-600/30 border border-red-500 transform hover:scale-105 transition-all duration-200":"text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-gray-700 hover:to-gray-600 transition-all duration-200 hover:shadow-lg",children:s.label})},s.path))})}),d.jsx("div",{className:"md:hidden",children:d.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>r(!t),className:"text-gray-400 hover:text-white",children:t?d.jsx(hh,{className:"h-6 w-6"}):d.jsx(Mw,{className:"h-6 w-6"})})})]})}),t&&d.jsx("div",{className:"md:hidden animate-in slide-in-from-top duration-200",children:d.jsx("div",{className:"px-3 pt-2 pb-4 space-y-2 bg-gradient-to-b from-gray-900 via-black to-gray-900 border-t border-gray-700 shadow-2xl",children:n.map((s,i)=>d.jsx(ro,{href:s.path,children:d.jsx(Ze,{variant:a(s.path)?"default":"ghost",size:"sm",className:`w-full justify-start transform transition-all duration-200 ${a(s.path)?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg shadow-red-600/30 scale-105":"text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-gray-700 hover:to-gray-600 hover:scale-105"}`,style:{animationDelay:`${i*50}ms`},onClick:()=>r(!1),children:s.label})},s.path))})})]})}const S8=1,N8=1e6;let du=0;function E8(){return du=(du+1)%Number.MAX_SAFE_INTEGER,du.toString()}const fu=new Map,Pp=e=>{if(fu.has(e))return;const t=setTimeout(()=>{fu.delete(e),no({type:"REMOVE_TOAST",toastId:e})},N8);fu.set(e,t)},T8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,S8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Pp(r):e.toasts.forEach(n=>{Pp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},al=[];let sl={toasts:[]};function no(e){sl=T8(sl,e),al.forEach(t=>{t(sl)})}function _8({...e}){const t=E8(),r=a=>no({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>no({type:"DISMISS_TOAST",toastId:t});return no({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function C3(){const[e,t]=C.useState(sl);return C.useEffect(()=>(al.push(t),()=>{const r=al.indexOf(t);r>-1&&al.splice(r,1)}),[e]),{...e,toast:_8,dismiss:r=>no({type:"DISMISS_TOAST",toastId:r})}}function fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Qa(e,t=[]){let r=[];function n(s,i){const o=C.createContext(i),l=r.length;r=[...r,i];const c=u=>{var y;const{scope:f,children:p,...g}=u,m=((y=f==null?void 0:f[e])==null?void 0:y[l])||o,v=C.useMemo(()=>g,Object.values(g));return d.jsx(m.Provider,{value:v,children:p})};c.displayName=s+"Provider";function h(u,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[l])||o,g=C.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,h]}const a=()=>{const s=r.map(i=>C.createContext(i));return function(o){const l=(o==null?void 0:o[e])||s;return C.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,j8(a,...t)]}function j8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((o,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...o,...u}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function gh(e){const t=e+"CollectionProvider",[r,n]=Qa(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:y}=m,b=Mn.useRef(null),w=Mn.useRef(new Map).current;return d.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:y})};i.displayName=t;const o=e+"CollectionSlot",l=To(o),c=Mn.forwardRef((m,v)=>{const{scope:y,children:b}=m,w=s(o,y),x=Ee(v,w.collectionRef);return d.jsx(l,{ref:x,children:b})});c.displayName=o;const h=e+"CollectionItemSlot",u="data-radix-collection-item",f=To(h),p=Mn.forwardRef((m,v)=>{const{scope:y,children:b,...w}=m,x=Mn.useRef(null),X=Ee(v,x),k=s(h,y);return Mn.useEffect(()=>(k.itemMap.set(x,{ref:x,...w}),()=>void k.itemMap.delete(x))),d.jsx(f,{[u]:"",ref:X,children:b})});p.displayName=h;function g(m){const v=s(e+"CollectionConsumer",m);return Mn.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((k,N)=>w.indexOf(k.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:p},g,n]}var P8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=P8.reduce((e,t)=>{const r=To(`Primitive.${t}`),n=C.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function k3(e,t){e&&Ka.flushSync(()=>e.dispatchEvent(t))}function tr(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function A8(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e);C.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var M8="DismissableLayer",Id="dismissableLayer.update",B8="dismissableLayer.pointerDownOutside",L8="dismissableLayer.focusOutside",Ap,S3=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dc=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...l}=e,c=C.useContext(S3),[h,u]=C.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),g=Ee(t,N=>u(N)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=h?m.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,x=b>=y,X=D8(N=>{const T=N.target,E=[...c.branches].some(M=>M.contains(T));!x||E||(a==null||a(N),i==null||i(N),N.defaultPrevented||o==null||o())},f),k=O8(N=>{const T=N.target;[...c.branches].some(M=>M.contains(T))||(s==null||s(N),i==null||i(N),N.defaultPrevented||o==null||o())},f);return A8(N=>{b===c.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},f),C.useEffect(()=>{if(h)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ap=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Mp(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ap)}},[h,f,r,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Mp())},[h,c]),C.useEffect(()=>{const N=()=>p({});return document.addEventListener(Id,N),()=>document.removeEventListener(Id,N)},[]),d.jsx(xe.div,{...l,ref:g,style:{pointerEvents:w?x?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,X.onPointerDownCapture)})});dc.displayName=M8;var R8="DismissableLayerBranch",N3=C.forwardRef((e,t)=>{const r=C.useContext(S3),n=C.useRef(null),a=Ee(t,n);return C.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),d.jsx(xe.div,{...e,ref:a})});N3.displayName=R8;function D8(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e),n=C.useRef(!1),a=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){E3(B8,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function O8(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e),n=C.useRef(!1);return C.useEffect(()=>{const a=s=>{s.target&&!n.current&&E3(L8,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mp(){const e=new CustomEvent(Id);document.dispatchEvent(e)}function E3(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?k3(a,s):a.dispatchEvent(s)}var I8=dc,F8=N3,kt=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},z8="Portal",mh=C.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,s]=C.useState(!1);kt(()=>s(!0),[]);const i=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?G5.createPortal(d.jsx(xe.div,{...n,ref:t}),i):null});mh.displayName=z8;function $8(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var vh=e=>{const{present:t,children:r}=e,n=H8(t),a=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),s=Ee(n.ref,W8(a));return typeof r=="function"||n.isPresent?C.cloneElement(a,{ref:s}):null};vh.displayName="Presence";function H8(e){const[t,r]=C.useState(),n=C.useRef({}),a=C.useRef(e),s=C.useRef("none"),i=e?"mounted":"unmounted",[o,l]=$8(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=b0(n.current);s.current=o==="mounted"?c:"none"},[o]),kt(()=>{const c=n.current,h=a.current;if(h!==e){const f=s.current,p=b0(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),kt(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,u=p=>{const m=b0(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=p=>{p.target===t&&(s.current=b0(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function b0(e){return(e==null?void 0:e.animationName)||"none"}function W8(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _o({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=U8({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,o=tr(r),l=C.useCallback(c=>{if(s){const u=typeof c=="function"?c(e):c;u!==e&&o(u)}else a(c)},[s,e,a,o]);return[i,l]}function U8({defaultProp:e,onChange:t}){const r=C.useState(e),[n]=r,a=C.useRef(n),s=tr(t);return C.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var V8="VisuallyHidden",Wo=C.forwardRef((e,t)=>d.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Wo.displayName=V8;var q8=Wo,yh="ToastProvider",[bh,G8,Y8]=gh("Toast"),[T3,xB]=Qa("Toast",[Y8]),[K8,fc]=T3(yh),_3=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[o,l]=C.useState(null),[c,h]=C.useState(0),u=C.useRef(!1),f=C.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${yh}\`. Expected non-empty \`string\`.`),d.jsx(bh.Provider,{scope:t,children:d.jsx(K8,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:C.useCallback(()=>h(p=>p+1),[]),onToastRemove:C.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:i})})};_3.displayName=yh;var j3="ToastViewport",Q8=["F8"],Fd="toast.viewportPause",zd="toast.viewportResume",P3=C.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Q8,label:a="Notifications ({hotkey})",...s}=e,i=fc(j3,r),o=G8(r),l=C.useRef(null),c=C.useRef(null),h=C.useRef(null),u=C.useRef(null),f=Ee(t,u,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;C.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(x=>y[x]||y.code===x)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),C.useEffect(()=>{const v=l.current,y=u.current;if(g&&v&&y){const b=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(Fd);y.dispatchEvent(k),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(zd);y.dispatchEvent(k),i.isClosePausedRef.current=!1}},x=k=>{!v.contains(k.relatedTarget)&&w()},X=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",x),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",X),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",x),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",X),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,i.isClosePausedRef]);const m=C.useCallback(({tabbingDirection:v})=>{const b=o().map(w=>{const x=w.ref.current,X=[x,...u9(x)];return v==="forwards"?X:X.reverse()});return(v==="forwards"?b.reverse():b).flat()},[o]);return C.useEffect(()=>{const v=u.current;if(v){const y=b=>{var X,k,N;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const T=document.activeElement,E=b.shiftKey;if(b.target===v&&E){(X=c.current)==null||X.focus();return}const j=m({tabbingDirection:E?"backwards":"forwards"}),R=j.findIndex(P=>P===T);hu(j.slice(R+1))?b.preventDefault():E?(k=c.current)==null||k.focus():(N=h.current)==null||N.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,m]),d.jsxs(F8,{ref:l,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&d.jsx($d,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});hu(v)}}),d.jsx(bh.Slot,{scope:r,children:d.jsx(xe.ol,{tabIndex:-1,...s,ref:f})}),g&&d.jsx($d,{ref:h,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});hu(v)}})]})});P3.displayName=j3;var A3="ToastFocusProxy",$d=C.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=fc(A3,r);return d.jsx(Wo,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const o=i.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&n()}})});$d.displayName=A3;var hc="Toast",J8="toast.swipeStart",Z8="toast.swipeMove",e9="toast.swipeCancel",t9="toast.swipeEnd",M3=C.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[o=!0,l]=_o({prop:n,defaultProp:a,onChange:s});return d.jsx(vh,{present:r||o,children:d.jsx(a9,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:tr(e.onPause),onResume:tr(e.onResume),onSwipeStart:fe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,c=>{const{x:h,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:fe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,c=>{const{x:h,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});M3.displayName=hc;var[r9,n9]=T3(hc,{onClose(){}}),a9=C.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:p,...g}=e,m=fc(hc,r),[v,y]=C.useState(null),b=Ee(t,P=>y(P)),w=C.useRef(null),x=C.useRef(null),X=a||m.duration,k=C.useRef(0),N=C.useRef(X),T=C.useRef(0),{onToastAdd:E,onToastRemove:M}=m,D=tr(()=>{var O;(v==null?void 0:v.contains(document.activeElement))&&((O=m.viewport)==null||O.focus()),i()}),j=C.useCallback(P=>{!P||P===1/0||(window.clearTimeout(T.current),k.current=new Date().getTime(),T.current=window.setTimeout(D,P))},[D]);C.useEffect(()=>{const P=m.viewport;if(P){const O=()=>{j(N.current),c==null||c()},L=()=>{const _=new Date().getTime()-k.current;N.current=N.current-_,window.clearTimeout(T.current),l==null||l()};return P.addEventListener(Fd,L),P.addEventListener(zd,O),()=>{P.removeEventListener(Fd,L),P.removeEventListener(zd,O)}}},[m.viewport,X,l,c,j]),C.useEffect(()=>{s&&!m.isClosePausedRef.current&&j(X)},[s,X,m.isClosePausedRef,j]),C.useEffect(()=>(E(),()=>M()),[E,M]);const R=C.useMemo(()=>v?F3(v):null,[v]);return m.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(s9,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),d.jsx(r9,{scope:r,onClose:D,children:Ka.createPortal(d.jsx(bh.ItemSlot,{scope:r,children:d.jsx(I8,{asChild:!0,onEscapeKeyDown:fe(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,P=>{P.key==="Escape"&&(o==null||o(P.nativeEvent),P.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:fe(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:fe(e.onPointerMove,P=>{if(!w.current)return;const O=P.clientX-w.current.x,L=P.clientY-w.current.y,_=!!x.current,S=["left","right"].includes(m.swipeDirection),A=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=S?A(0,O):0,$=S?0:A(0,L),Y=P.pointerType==="touch"?10:2,Q={x:B,y:$},re={originalEvent:P,delta:Q};_?(x.current=Q,x0(Z8,u,re,{discrete:!1})):Bp(Q,m.swipeDirection,Y)?(x.current=Q,x0(J8,h,re,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(O)>Y||Math.abs(L)>Y)&&(w.current=null)}),onPointerUp:fe(e.onPointerUp,P=>{const O=x.current,L=P.target;if(L.hasPointerCapture(P.pointerId)&&L.releasePointerCapture(P.pointerId),x.current=null,w.current=null,O){const _=P.currentTarget,S={originalEvent:P,delta:O};Bp(O,m.swipeDirection,m.swipeThreshold)?x0(t9,p,S,{discrete:!0}):x0(e9,f,S,{discrete:!0}),_.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),s9=e=>{const{__scopeToast:t,children:r,...n}=e,a=fc(hc,t),[s,i]=C.useState(!1),[o,l]=C.useState(!1);return l9(()=>i(!0)),C.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:d.jsx(mh,{asChild:!0,children:d.jsx(Wo,{...n,children:s&&d.jsxs(d.Fragment,{children:[a.label," ",r]})})})},i9="ToastTitle",B3=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(xe.div,{...n,ref:t})});B3.displayName=i9;var o9="ToastDescription",L3=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(xe.div,{...n,ref:t})});L3.displayName=o9;var R3="ToastAction",D3=C.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(I3,{altText:r,asChild:!0,children:d.jsx(xh,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${R3}\`. Expected non-empty \`string\`.`),null)});D3.displayName=R3;var O3="ToastClose",xh=C.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=n9(O3,r);return d.jsx(I3,{asChild:!0,children:d.jsx(xe.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,a.onClose)})})});xh.displayName=O3;var I3=C.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return d.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function F3(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),c9(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...F3(n))}}),t}function x0(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?k3(a,s):a.dispatchEvent(s)}var Bp=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function l9(e=()=>{}){const t=tr(e);kt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function c9(e){return e.nodeType===e.ELEMENT_NODE}function u9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var d9=_3,z3=P3,$3=M3,H3=B3,W3=L3,U3=D3,V3=xh;const f9=d9,q3=C.forwardRef(({className:e,...t},r)=>d.jsx(z3,{ref:r,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));q3.displayName=z3.displayName;const h9=uc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),G3=C.forwardRef(({className:e,variant:t,...r},n)=>d.jsx($3,{ref:n,className:Ne(h9({variant:t}),e),...r}));G3.displayName=$3.displayName;const p9=C.forwardRef(({className:e,...t},r)=>d.jsx(U3,{ref:r,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));p9.displayName=U3.displayName;const Y3=C.forwardRef(({className:e,...t},r)=>d.jsx(V3,{ref:r,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(hh,{className:"h-4 w-4"})}));Y3.displayName=V3.displayName;const K3=C.forwardRef(({className:e,...t},r)=>d.jsx(H3,{ref:r,className:Ne("text-sm font-semibold",e),...t}));K3.displayName=H3.displayName;const Q3=C.forwardRef(({className:e,...t},r)=>d.jsx(W3,{ref:r,className:Ne("text-sm opacity-90",e),...t}));Q3.displayName=W3.displayName;function g9(){const{toasts:e}=C3();return d.jsxs(f9,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return d.jsxs(G3,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(K3,{children:r}),n&&d.jsx(Q3,{children:n})]}),a,d.jsx(Y3,{})]},t)}),d.jsx(q3,{})]})}var m9=Gm[" useId ".trim().toString()]||(()=>{}),v9=0;function wh(e){const[t,r]=C.useState(m9());return kt(()=>{r(n=>n??String(v9++))},[e]),t?`radix-${t}`:""}const y9=["top","right","bottom","left"],la=Math.min,Kt=Math.max,Rl=Math.round,w0=Math.floor,en=e=>({x:e,y:e}),b9={left:"right",right:"left",bottom:"top",top:"bottom"},x9={start:"end",end:"start"};function Hd(e,t,r){return Kt(e,la(t,r))}function xn(e,t){return typeof e=="function"?e(t):e}function wn(e){return e.split("-")[0]}function di(e){return e.split("-")[1]}function Xh(e){return e==="x"?"y":"x"}function Ch(e){return e==="y"?"height":"width"}function ca(e){return["top","bottom"].includes(wn(e))?"y":"x"}function kh(e){return Xh(ca(e))}function w9(e,t,r){r===void 0&&(r=!1);const n=di(e),a=kh(e),s=Ch(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Dl(i)),[i,Dl(i)]}function X9(e){const t=Dl(e);return[Wd(e),t,Wd(t)]}function Wd(e){return e.replace(/start|end/g,t=>x9[t])}function C9(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:i;default:return[]}}function k9(e,t,r,n){const a=di(e);let s=C9(wn(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(Wd)))),s}function Dl(e){return e.replace(/left|right|bottom|top/g,t=>b9[t])}function S9(e){return{top:0,right:0,bottom:0,left:0,...e}}function J3(e){return typeof e!="number"?S9(e):{top:e,right:e,bottom:e,left:e}}function Ol(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Lp(e,t,r){let{reference:n,floating:a}=e;const s=ca(t),i=kh(t),o=Ch(i),l=wn(t),c=s==="y",h=n.x+n.width/2-a.width/2,u=n.y+n.height/2-a.height/2,f=n[o]/2-a[o]/2;let p;switch(l){case"top":p={x:h,y:n.y-a.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-a.width,y:u};break;default:p={x:n.x,y:n.y}}switch(di(t)){case"start":p[i]-=f*(r&&c?-1:1);break;case"end":p[i]+=f*(r&&c?-1:1);break}return p}const N9=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:u}=Lp(c,n,l),f=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:y}=o[m],{x:b,y:w,data:x,reset:X}=await y({x:h,y:u,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});h=b??h,u=w??u,p={...p,[v]:{...p[v],...x}},X&&g<=50&&(g++,typeof X=="object"&&(X.placement&&(f=X.placement),X.rects&&(c=X.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):X.rects),{x:h,y:u}=Lp(c,f,l)),m=-1)}return{x:h,y:u,placement:f,strategy:a,middlewareData:p}};async function jo(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:p=0}=xn(t,e),g=J3(p),v=o[f?u==="floating"?"reference":"floating":u],y=Ol(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),b=u==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},X=Ol(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-X.top+g.top)/x.y,bottom:(X.bottom-y.bottom+g.bottom)/x.y,left:(y.left-X.left+g.left)/x.x,right:(X.right-y.right+g.right)/x.x}}const E9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:h=0}=xn(e,t)||{};if(c==null)return{};const u=J3(h),f={x:r,y:n},p=kh(a),g=Ch(p),m=await i.getDimensions(c),v=p==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-f[p]-s.floating[g],X=f[p]-s.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let N=k?k[w]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=o.floating[w]||s.floating[g]);const T=x/2-X/2,E=N/2-m[g]/2-1,M=la(u[y],E),D=la(u[b],E),j=M,R=N-m[g]-D,P=N/2-m[g]/2+T,O=Hd(j,P,R),L=!l.arrow&&di(a)!=null&&P!==O&&s.reference[g]/2-(P<j?M:D)-m[g]/2<0,_=L?P<j?P-j:P-R:0;return{[p]:f[p]+_,data:{[p]:O,centerOffset:P-O-_,...L&&{alignmentOffset:_}},reset:L}}}),T9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=xn(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=wn(a),b=ca(o),w=wn(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),X=f||(w||!m?[Dl(o)]:X9(o)),k=g!=="none";!f&&k&&X.push(...k9(o,m,g,x));const N=[o,...X],T=await jo(t,v),E=[];let M=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&E.push(T[y]),u){const P=w9(a,i,x);E.push(T[P[0]],T[P[1]])}if(M=[...M,{placement:a,overflows:E}],!E.every(P=>P<=0)){var D,j;const P=(((D=s.flip)==null?void 0:D.index)||0)+1,O=N[P];if(O)return{data:{index:P,overflows:M},reset:{placement:O}};let L=(j=M.filter(_=>_.overflows[0]<=0).sort((_,S)=>_.overflows[1]-S.overflows[1])[0])==null?void 0:j.placement;if(!L)switch(p){case"bestFit":{var R;const _=(R=M.filter(S=>{if(k){const A=ca(S.placement);return A===b||A==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((S,A)=>S[1]-A[1])[0])==null?void 0:R[0];_&&(L=_);break}case"initialPlacement":L=o;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Rp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Dp(e){return y9.some(t=>e[t]>=0)}const _9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=xn(e,t);switch(n){case"referenceHidden":{const s=await jo(t,{...a,elementContext:"reference"}),i=Rp(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Dp(i)}}}case"escaped":{const s=await jo(t,{...a,altBoundary:!0}),i=Rp(s,r.floating);return{data:{escapedOffsets:i,escaped:Dp(i)}}}default:return{}}}}};async function j9(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=wn(r),o=di(r),l=ca(r)==="y",c=["left","top"].includes(i)?-1:1,h=s&&l?-1:1,u=xn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*h,y:f*c}:{x:f*c,y:p*h}}const P9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await j9(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}},A9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=xn(e,t),c={x:r,y:n},h=await jo(t,l),u=ca(wn(a)),f=Xh(u);let p=c[f],g=c[u];if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+h[v],w=p-h[y];p=Hd(b,p,w)}if(i){const v=u==="y"?"top":"left",y=u==="y"?"bottom":"right",b=g+h[v],w=g-h[y];g=Hd(b,g,w)}const m=o.fn({...t,[f]:p,[u]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:s,[u]:i}}}}}},M9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=xn(e,t),h={x:r,y:n},u=ca(a),f=Xh(u);let p=h[f],g=h[u];const m=xn(o,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",x=s.reference[f]-s.floating[w]+v.mainAxis,X=s.reference[f]+s.reference[w]-v.mainAxis;p<x?p=x:p>X&&(p=X)}if(c){var y,b;const w=f==="y"?"width":"height",x=["top","left"].includes(wn(a)),X=s.reference[u]-s.floating[w]+(x&&((y=i.offset)==null?void 0:y[u])||0)+(x?0:v.crossAxis),k=s.reference[u]+s.reference[w]+(x?0:((b=i.offset)==null?void 0:b[u])||0)-(x?v.crossAxis:0);g<X?g=X:g>k&&(g=k)}return{[f]:p,[u]:g}}}},B9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:l=()=>{},...c}=xn(e,t),h=await jo(t,c),u=wn(a),f=di(a),p=ca(a)==="y",{width:g,height:m}=s.floating;let v,y;u==="top"||u==="bottom"?(v=u,y=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=u,v=f==="end"?"top":"bottom");const b=m-h.top-h.bottom,w=g-h.left-h.right,x=la(m-h[v],b),X=la(g-h[y],w),k=!t.middlewareData.shift;let N=x,T=X;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),k&&!f){const M=Kt(h.left,0),D=Kt(h.right,0),j=Kt(h.top,0),R=Kt(h.bottom,0);p?T=g-2*(M!==0||D!==0?M+D:Kt(h.left,h.right)):N=m-2*(j!==0||R!==0?j+R:Kt(h.top,h.bottom))}await l({...t,availableWidth:T,availableHeight:N});const E=await i.getDimensions(o.floating);return g!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function pc(){return typeof window<"u"}function fi(e){return Z3(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rn(e){var t;return(t=(Z3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Z3(e){return pc()?e instanceof Node||e instanceof Zt(e).Node:!1}function Ir(e){return pc()?e instanceof Element||e instanceof Zt(e).Element:!1}function tn(e){return pc()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function Op(e){return!pc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}function Uo(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function L9(e){return["table","td","th"].includes(fi(e))}function gc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sh(e){const t=Nh(),r=Ir(e)?Fr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function R9(e){let t=ua(e);for(;tn(t)&&!ai(t);){if(Sh(t))return t;if(gc(t))return null;t=ua(t)}return null}function Nh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ai(e){return["html","body","#document"].includes(fi(e))}function Fr(e){return Zt(e).getComputedStyle(e)}function mc(e){return Ir(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ua(e){if(fi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Op(e)&&e.host||rn(e);return Op(t)?t.host:t}function ey(e){const t=ua(e);return ai(t)?e.ownerDocument?e.ownerDocument.body:e.body:tn(t)&&Uo(t)?t:ey(t)}function Po(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ey(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Zt(a);if(s){const o=Ud(i);return t.concat(i,i.visualViewport||[],Uo(a)?a:[],o&&r?Po(o):[])}return t.concat(a,Po(a,[],r))}function Ud(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ty(e){const t=Fr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=tn(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=Rl(r)!==s||Rl(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function Eh(e){return Ir(e)?e:e.contextElement}function Rs(e){const t=Eh(e);if(!tn(t))return en(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=ty(t);let i=(s?Rl(r.width):r.width)/n,o=(s?Rl(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const D9=en(0);function ry(e){const t=Zt(e);return!Nh()||!t.visualViewport?D9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function O9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(e)?!1:t}function Va(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Eh(e);let i=en(1);t&&(n?Ir(n)&&(i=Rs(n)):i=Rs(e));const o=O9(s,r,n)?ry(s):en(0);let l=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,h=a.width/i.x,u=a.height/i.y;if(s){const f=Zt(s),p=n&&Ir(n)?Zt(n):n;let g=f,m=Ud(g);for(;m&&n&&p!==g;){const v=Rs(m),y=m.getBoundingClientRect(),b=Fr(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,x=y.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,h*=v.x,u*=v.y,l+=w,c+=x,g=Zt(m),m=Ud(g)}}return Ol({width:h,height:u,x:l,y:c})}function Th(e,t){const r=mc(e).scrollLeft;return t?t.left+r:Va(rn(e)).left+r}function ny(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Th(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function I9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=rn(n),o=t?gc(t.floating):!1;if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=en(1);const h=en(0),u=tn(n);if((u||!u&&!s)&&((fi(n)!=="body"||Uo(i))&&(l=mc(n)),tn(n))){const p=Va(n);c=Rs(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const f=i&&!u&&!s?ny(i,l,!0):en(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+h.x+f.x,y:r.y*c.y-l.scrollTop*c.y+h.y+f.y}}function F9(e){return Array.from(e.getClientRects())}function z9(e){const t=rn(e),r=mc(e),n=e.ownerDocument.body,a=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Th(e);const o=-r.scrollTop;return Fr(n).direction==="rtl"&&(i+=Kt(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}function $9(e,t){const r=Zt(e),n=rn(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const c=Nh();(!c||c&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}function H9(e,t){const r=Va(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=tn(e)?Rs(e):en(1),i=e.clientWidth*s.x,o=e.clientHeight*s.y,l=a*s.x,c=n*s.y;return{width:i,height:o,x:l,y:c}}function Ip(e,t,r){let n;if(t==="viewport")n=$9(e,r);else if(t==="document")n=z9(rn(e));else if(Ir(t))n=H9(t,r);else{const a=ry(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ol(n)}function ay(e,t){const r=ua(e);return r===t||!Ir(r)||ai(r)?!1:Fr(r).position==="fixed"||ay(r,t)}function W9(e,t){const r=t.get(e);if(r)return r;let n=Po(e,[],!1).filter(o=>Ir(o)&&fi(o)!=="body"),a=null;const s=Fr(e).position==="fixed";let i=s?ua(e):e;for(;Ir(i)&&!ai(i);){const o=Fr(i),l=Sh(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Uo(i)&&!l&&ay(e,i))?n=n.filter(h=>h!==i):a=o,i=ua(i)}return t.set(e,n),n}function U9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?gc(t)?[]:W9(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((c,h)=>{const u=Ip(t,h,a);return c.top=Kt(u.top,c.top),c.right=la(u.right,c.right),c.bottom=la(u.bottom,c.bottom),c.left=Kt(u.left,c.left),c},Ip(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function V9(e){const{width:t,height:r}=ty(e);return{width:t,height:r}}function q9(e,t,r){const n=tn(t),a=rn(t),s=r==="fixed",i=Va(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=en(0);if(n||!n&&!s)if((fi(t)!=="body"||Uo(a))&&(o=mc(t)),n){const f=Va(t,!0,s,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else a&&(l.x=Th(a));const c=a&&!n&&!s?ny(a,o):en(0),h=i.left+o.scrollLeft-l.x-c.x,u=i.top+o.scrollTop-l.y-c.y;return{x:h,y:u,width:i.width,height:i.height}}function pu(e){return Fr(e).position==="static"}function Fp(e,t){if(!tn(e)||Fr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rn(e)===r&&(r=r.ownerDocument.body),r}function sy(e,t){const r=Zt(e);if(gc(e))return r;if(!tn(e)){let a=ua(e);for(;a&&!ai(a);){if(Ir(a)&&!pu(a))return a;a=ua(a)}return r}let n=Fp(e,t);for(;n&&L9(n)&&pu(n);)n=Fp(n,t);return n&&ai(n)&&pu(n)&&!Sh(n)?r:n||R9(e)||r}const G9=async function(e){const t=this.getOffsetParent||sy,r=this.getDimensions,n=await r(e.floating);return{reference:q9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Y9(e){return Fr(e).direction==="rtl"}const K9={convertOffsetParentRelativeRectToViewportRelativeRect:I9,getDocumentElement:rn,getClippingRect:U9,getOffsetParent:sy,getElementRects:G9,getClientRects:F9,getDimensions:V9,getScale:Rs,isElement:Ir,isRTL:Y9};function iy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Q9(e,t){let r=null,n;const a=rn(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:h,top:u,width:f,height:p}=c;if(o||t(),!f||!p)return;const g=w0(u),m=w0(a.clientWidth-(h+f)),v=w0(a.clientHeight-(u+p)),y=w0(h),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Kt(0,la(1,l))||1};let x=!0;function X(k){const N=k[0].intersectionRatio;if(N!==l){if(!x)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!iy(c,e.getBoundingClientRect())&&i(),x=!1}try{r=new IntersectionObserver(X,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(X,w)}r.observe(e)}return i(!0),s}function J9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Eh(e),h=a||s?[...c?Po(c):[],...Po(t)]:[];h.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const u=c&&o?Q9(c,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),c&&!l&&p.observe(c),p.observe(t));let g,m=l?Va(e):null;l&&v();function v(){const y=Va(e);m&&!iy(m,y)&&r(),m=y,g=requestAnimationFrame(v)}return r(),()=>{var y;h.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),u==null||u(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Z9=P9,e7=A9,t7=T9,r7=B9,n7=_9,zp=E9,a7=M9,s7=(e,t,r)=>{const n=new Map,a={platform:K9,...r},s={...a.platform,_c:n};return N9(e,t,{...a,platform:s})};var il=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Il(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Il(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Il(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function oy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $p(e,t){const r=oy(e);return Math.round(t*r)/r}function gu(e){const t=C.useRef(e);return il(()=>{t.current=e}),t}function i7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[h,u]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(n);Il(f,n)||p(n);const[g,m]=C.useState(null),[v,y]=C.useState(null),b=C.useCallback(S=>{S!==k.current&&(k.current=S,m(S))},[]),w=C.useCallback(S=>{S!==N.current&&(N.current=S,y(S))},[]),x=s||g,X=i||v,k=C.useRef(null),N=C.useRef(null),T=C.useRef(h),E=l!=null,M=gu(l),D=gu(a),j=gu(c),R=C.useCallback(()=>{if(!k.current||!N.current)return;const S={placement:t,strategy:r,middleware:f};D.current&&(S.platform=D.current),s7(k.current,N.current,S).then(A=>{const B={...A,isPositioned:j.current!==!1};P.current&&!Il(T.current,B)&&(T.current=B,Ka.flushSync(()=>{u(B)}))})},[f,t,r,D,j]);il(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(S=>({...S,isPositioned:!1})))},[c]);const P=C.useRef(!1);il(()=>(P.current=!0,()=>{P.current=!1}),[]),il(()=>{if(x&&(k.current=x),X&&(N.current=X),x&&X){if(M.current)return M.current(x,X,R);R()}},[x,X,R,M,E]);const O=C.useMemo(()=>({reference:k,floating:N,setReference:b,setFloating:w}),[b,w]),L=C.useMemo(()=>({reference:x,floating:X}),[x,X]),_=C.useMemo(()=>{const S={position:r,left:0,top:0};if(!L.floating)return S;const A=$p(L.floating,h.x),B=$p(L.floating,h.y);return o?{...S,transform:"translate("+A+"px, "+B+"px)",...oy(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:A,top:B}},[r,o,L.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:R,refs:O,elements:L,floatingStyles:_}),[h,R,O,L,_])}const o7=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?zp({element:n.current,padding:a}).fn(r):{}:n?zp({element:n,padding:a}).fn(r):{}}}},l7=(e,t)=>({...Z9(e),options:[e,t]}),c7=(e,t)=>({...e7(e),options:[e,t]}),u7=(e,t)=>({...a7(e),options:[e,t]}),d7=(e,t)=>({...t7(e),options:[e,t]}),f7=(e,t)=>({...r7(e),options:[e,t]}),h7=(e,t)=>({...n7(e),options:[e,t]}),p7=(e,t)=>({...o7(e),options:[e,t]});var g7="Arrow",ly=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return d.jsx(xe.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});ly.displayName=g7;var m7=ly;function _h(e){const[t,r]=C.useState(void 0);return kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,o=c.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var jh="Popper",[cy,vc]=Qa(jh),[v7,uy]=cy(jh),dy=e=>{const{__scopePopper:t,children:r}=e,[n,a]=C.useState(null);return d.jsx(v7,{scope:t,anchor:n,onAnchorChange:a,children:r})};dy.displayName=jh;var fy="PopperAnchor",hy=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=uy(fy,r),i=C.useRef(null),o=Ee(t,i);return C.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:d.jsx(xe.div,{...a,ref:o})});hy.displayName=fy;var Ph="PopperContent",[y7,b7]=cy(Ph),py=C.forwardRef((e,t)=>{var ee,le,Xe,q,ie,J;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=uy(Ph,r),[y,b]=C.useState(null),w=Ee(t,oe=>b(oe)),[x,X]=C.useState(null),k=_h(x),N=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,E=n+(s!=="center"?"-"+s:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],j=D.length>0,R={padding:M,boundary:D.filter(w7),altBoundary:j},{refs:P,floatingStyles:O,placement:L,isPositioned:_,middlewareData:S}=i7({strategy:"fixed",placement:E,whileElementsMounted:(...oe)=>J9(...oe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[l7({mainAxis:a+T,alignmentAxis:i}),l&&c7({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?u7():void 0,...R}),l&&d7({...R}),f7({...R,apply:({elements:oe,rects:pe,availableWidth:lt,availableHeight:Ye})=>{const{width:gt,height:Ht}=pe.reference,z=oe.floating.style;z.setProperty("--radix-popper-available-width",`${lt}px`),z.setProperty("--radix-popper-available-height",`${Ye}px`),z.setProperty("--radix-popper-anchor-width",`${gt}px`),z.setProperty("--radix-popper-anchor-height",`${Ht}px`)}}),x&&p7({element:x,padding:o}),X7({arrowWidth:N,arrowHeight:T}),f&&h7({strategy:"referenceHidden",...R})]}),[A,B]=vy(L),$=tr(g);kt(()=>{_&&($==null||$())},[_,$]);const Y=(ee=S.arrow)==null?void 0:ee.x,Q=(le=S.arrow)==null?void 0:le.y,re=((Xe=S.arrow)==null?void 0:Xe.centerOffset)!==0,[Pe,ke]=C.useState();return kt(()=>{y&&ke(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:_?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(q=S.transformOrigin)==null?void 0:q.x,(ie=S.transformOrigin)==null?void 0:ie.y].join(" "),...((J=S.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(y7,{scope:r,placedSide:A,onArrowChange:X,arrowX:Y,arrowY:Q,shouldHideArrow:re,children:d.jsx(xe.div,{"data-side":A,"data-align":B,...m,ref:w,style:{...m.style,animation:_?void 0:"none"}})})})});py.displayName=Ph;var gy="PopperArrow",x7={top:"bottom",right:"left",bottom:"top",left:"right"},my=C.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=b7(gy,n),i=x7[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(m7,{...a,ref:r,style:{...a.style,display:"block"}})})});my.displayName=gy;function w7(e){return e!==null}var X7=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,h]=vy(r),u={start:"0%",center:"50%",end:"100%"}[h],f=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,p=(((b=a.arrow)==null?void 0:b.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=i?u:`${f}px`,m=`${-l}px`):c==="top"?(g=i?u:`${f}px`,m=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=i?u:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,m=i?u:`${p}px`),{data:{x:g,y:m}}}});function vy(e){const[t,r="center"]=e.split("-");return[t,r]}var C7=dy,yy=hy,by=py,xy=my,[yc,wB]=Qa("Tooltip",[vc]),Ah=vc(),wy="TooltipProvider",k7=700,Hp="tooltip.open",[S7,Xy]=yc(wy),Cy=e=>{const{__scopeTooltip:t,delayDuration:r=k7,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(S7,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(c=>{o.current=c},[]),disableHoverableContent:a,children:s})};Cy.displayName=wy;var ky="Tooltip",[XB,bc]=yc(ky),Vd="TooltipTrigger",N7=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=bc(Vd,r),s=Xy(Vd,r),i=Ah(r),o=C.useRef(null),l=Ee(t,o,a.onTriggerChange),c=C.useRef(!1),h=C.useRef(!1),u=C.useCallback(()=>c.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),d.jsx(yy,{asChild:!0,...i,children:d.jsx(xe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:fe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:fe(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:fe(e.onBlur,a.onClose),onClick:fe(e.onClick,a.onClose)})})});N7.displayName=Vd;var E7="TooltipPortal",[CB,T7]=yc(E7,{forceMount:void 0}),si="TooltipContent",Sy=C.forwardRef((e,t)=>{const r=T7(si,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=bc(si,e.__scopeTooltip);return d.jsx(vh,{present:n||i.open,children:i.disableHoverableContent?d.jsx(Ny,{side:a,...s,ref:t}):d.jsx(_7,{side:a,...s,ref:t})})}),_7=C.forwardRef((e,t)=>{const r=bc(si,e.__scopeTooltip),n=Xy(si,e.__scopeTooltip),a=C.useRef(null),s=Ee(t,a),[i,o]=C.useState(null),{trigger:l,onClose:c}=r,h=a.current,{onPointerInTransitChange:u}=n,f=C.useCallback(()=>{o(null),u(!1)},[u]),p=C.useCallback((g,m)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},b=B7(y,v.getBoundingClientRect()),w=L7(y,b),x=R7(m.getBoundingClientRect()),X=O7([...w,...x]);o(X),u(!0)},[u]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(l&&h){const g=v=>p(v,h),m=v=>p(v,l);return l.addEventListener("pointerleave",g),h.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",m)}}},[l,h,p,f]),C.useEffect(()=>{if(i){const g=m=>{const v=m.target,y={x:m.clientX,y:m.clientY},b=(l==null?void 0:l.contains(v))||(h==null?void 0:h.contains(v)),w=!D7(y,i);b?f():w&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,h,i,c,f]),d.jsx(Ny,{...e,ref:s})}),[j7,P7]=yc(ky,{isInside:!1}),A7=Fw("TooltipContent"),Ny=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...o}=e,l=bc(si,r),c=Ah(r),{onClose:h}=l;return C.useEffect(()=>(document.addEventListener(Hp,h),()=>document.removeEventListener(Hp,h)),[h]),C.useEffect(()=>{if(l.trigger){const u=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,h]),d.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:d.jsxs(by,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(A7,{children:n}),d.jsx(j7,{scope:r,isInside:!0,children:d.jsx(q8,{id:l.contentId,role:"tooltip",children:a||n})})]})})});Sy.displayName=si;var Ey="TooltipArrow",M7=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ah(r);return P7(Ey,r).isInside?null:d.jsx(xy,{...a,...n,ref:t})});M7.displayName=Ey;function B7(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function L7(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function R7(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function D7(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const o=t[s].x,l=t[s].y,c=t[i].x,h=t[i].y;l>n!=h>n&&r<(c-o)*(n-l)/(h-l)+o&&(a=!a)}return a}function O7(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),I7(t)}function I7(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var F7=Cy,Ty=Sy;const z7=F7,$7=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(Ty,{ref:n,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));$7.displayName=Ty.displayName;const ce=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ce.displayName="Card";const ye=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const be=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const H7=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));H7.displayName="CardDescription";const ue=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("p-6 pt-0",e),...t}));ue.displayName="CardContent";const W7=C.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",e),...t}));W7.displayName="CardFooter";function U7(){return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-16",children:[d.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[d.jsxs("div",{className:"relative mb-6 md:mb-8",children:[d.jsx("img",{src:"/logo.png",alt:"Drummers For Palestine",className:"w-32 md:w-48 lg:w-64 h-auto mx-auto object-contain drop-shadow-2xl"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/20 to-green-500/20 rounded-full blur-3xl"})]}),d.jsx("h1",{className:"street-text font-bold text-3xl md:text-4xl lg:text-5xl mb-4 bg-gradient-to-r from-white via-gray-200 to-white bg-clip-text text-transparent",children:"Who We Are"}),d.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"We are a collective of passionate drummers united by a shared purpose"})]}),d.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[d.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"We are a collective of passionate drummers united by a shared purpose: to amplify the Palestinian movement and raise morale through the power of rhythm. Our beats echo in the streets, providing a rallying call for justice, solidarity, and resistance."}),d.jsx("h2",{className:"street-text font-bold text-2xl mb-6",children:"Our Code of Conduct"}),d.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"As members of MD4P, we commit to the following guiding principles:"}),d.jsxs("ul",{className:"text-lg text-gray-300 space-y-4 mb-8",children:[d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(gs,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"}),"We treat others how we want to be treatedboth in person and online. We act with kindness and respect, fostering an inclusive space for all."]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(gs,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"}),"We remain mindful of how our tone or phrasing might impact others, striving for open and constructive dialogue."]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(gs,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"}),"We challenge any oppressive behavior (sexism, racism, homophobia) in ourselves and others, aiming to keep the group safe and welcoming."]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(gs,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"}),"We commit to using protective equipment (like ear protection) during events, and encourage others to do the same."]}),d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(gs,{className:"h-5 w-5 text-white mt-1 flex-shrink-0"}),"If approached about our behavior, we stay open and reflective on how to improve."]})]}),d.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border-l-4 border-white",children:[d.jsx("p",{className:"text-xl font-bold text-white mb-2",children:'"Our mission is to amplify the Palestinian movement and raise morale."'}),d.jsx("p",{className:"text-lg text-gray-300",children:"We invite everyone to join our percussive purpose. We bring thunder in the streets until Palestine is free!"})]})]}),d.jsx(ce,{className:"bg-gray-800 border-gray-700",children:d.jsxs(ue,{className:"p-8 text-center",children:[d.jsx("h3",{className:"street-text font-bold text-2xl mb-4",children:"Join Our Percussive Purpose"}),d.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Learn samba rhythms, participate in solidarity actions, and help amplify the Palestinian movement through music."})]})})]})})}const zn=C.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));zn.displayName="Input";var V7="Label",_y=C.forwardRef((e,t)=>d.jsx(xe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_y.displayName=V7;var jy=_y;const q7=uc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=C.forwardRef(({className:e,...t},r)=>d.jsx(jy,{ref:r,className:Ne(q7(),e),...t}));qt.displayName=jy.displayName;function Fl(e,[t,r]){return Math.min(r,Math.max(t,e))}var G7=C.createContext(void 0);function Py(e){const t=C.useContext(G7);return e||t||"ltr"}var mu=0;function Y7(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wp()),document.body.insertAdjacentElement("beforeend",e[1]??Wp()),mu++,()=>{mu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mu--}},[])}function Wp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vu="focusScope.autoFocusOnMount",yu="focusScope.autoFocusOnUnmount",Up={bubbles:!1,cancelable:!0},K7="FocusScope",Ay=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[o,l]=C.useState(null),c=tr(a),h=tr(s),u=C.useRef(null),f=Ee(t,m=>l(m)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let m=function(w){if(p.paused||!o)return;const x=w.target;o.contains(x)?u.current=x:Bn(u.current,{select:!0})},v=function(w){if(p.paused||!o)return;const x=w.relatedTarget;x!==null&&(o.contains(x)||Bn(u.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const X of w)X.removedNodes.length>0&&Bn(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const b=new MutationObserver(y);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),b.disconnect()}}},[n,o,p.paused]),C.useEffect(()=>{if(o){qp.add(p);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(vu,Up);o.addEventListener(vu,c),o.dispatchEvent(y),y.defaultPrevented||(Q7(rX(My(o)),{select:!0}),document.activeElement===m&&Bn(o))}return()=>{o.removeEventListener(vu,c),setTimeout(()=>{const y=new CustomEvent(yu,Up);o.addEventListener(yu,h),o.dispatchEvent(y),y.defaultPrevented||Bn(m??document.body,{select:!0}),o.removeEventListener(yu,h),qp.remove(p)},0)}}},[o,c,h,p]);const g=C.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const b=m.currentTarget,[w,x]=J7(b);w&&x?!m.shiftKey&&y===x?(m.preventDefault(),r&&Bn(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&Bn(x,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return d.jsx(xe.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});Ay.displayName=K7;function Q7(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bn(n,{select:t}),document.activeElement!==r)return}function J7(e){const t=My(e),r=Vp(t,e),n=Vp(t.reverse(),e);return[r,n]}function My(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vp(e,t){for(const r of e)if(!Z7(r,{upTo:t}))return r}function Z7(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eX(e){return e instanceof HTMLInputElement&&"select"in e}function Bn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eX(e)&&t&&e.select()}}var qp=tX();function tX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Gp(e,t),e.unshift(t)},remove(t){var r;e=Gp(e,t),(r=e[0])==null||r.resume()}}}function Gp(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function rX(e){return e.filter(t=>t.tagName!=="A")}function Mh(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ns=new WeakMap,X0=new WeakMap,C0={},bu=0,By=function(e){return e&&(e.host||By(e.parentNode))},aX=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=By(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sX=function(e,t,r,n){var a=aX(t,Array.isArray(e)?e:[e]);C0[r]||(C0[r]=new WeakMap);var s=C0[r],i=[],o=new Set,l=new Set(a),c=function(u){!u||o.has(u)||(o.add(u),c(u.parentNode))};a.forEach(c);var h=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(o.has(f))h(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",m=(ns.get(f)||0)+1,v=(s.get(f)||0)+1;ns.set(f,m),s.set(f,v),i.push(f),m===1&&g&&X0.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return h(t),o.clear(),bu++,function(){i.forEach(function(u){var f=ns.get(u)-1,p=s.get(u)-1;ns.set(u,f),s.set(u,p),f||(X0.has(u)||u.removeAttribute(n),X0.delete(u)),p||u.removeAttribute(r)}),bu--,bu||(ns=new WeakMap,ns=new WeakMap,X0=new WeakMap,C0={})}},iX=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=nX(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),sX(n,a,r,"aria-hidden")):function(){return null}},Qr=function(){return Qr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qr.apply(this,arguments)};function Ly(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function oX(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var ol="right-scroll-bar-position",ll="width-before-scroll-bar",lX="with-scroll-bars-hidden",cX="--removed-body-scroll-bar-size";function xu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uX(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var dX=typeof window<"u"?C.useLayoutEffect:C.useEffect,Yp=new WeakMap;function fX(e,t){var r=uX(null,function(n){return e.forEach(function(a){return xu(a,n)})});return dX(function(){var n=Yp.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(o){s.has(o)||xu(o,null)}),s.forEach(function(o){a.has(o)||xu(o,i)})}Yp.set(r,e)},[e]),r}function hX(e){return e}function pX(e,t){t===void 0&&(t=hX);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(s),i=r}var l=function(){var h=i;i=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(h){i.push(h),c()},filter:function(h){return i=i.filter(h),r}}}};return a}function gX(e){e===void 0&&(e={});var t=pX(null);return t.options=Qr({async:!0,ssr:!1},e),t}var Ry=function(e){var t=e.sideCar,r=Ly(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,Qr({},r))};Ry.isSideCarExport=!0;function mX(e,t){return e.useMedium(t),Ry}var Dy=gX(),wu=function(){},xc=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:wu,onWheelCapture:wu,onTouchMoveCapture:wu}),a=n[0],s=n[1],i=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,h=e.enabled,u=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,w=Ly(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,X=fX([r,t]),k=Qr(Qr({},w),a);return C.createElement(C.Fragment,null,h&&C.createElement(x,{sideCar:Dy,removeScrollBar:c,shards:u,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?C.cloneElement(C.Children.only(o),Qr(Qr({},k),{ref:X})):C.createElement(y,Qr({},k,{className:l,ref:X}),o))});xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xc.classNames={fullWidth:ll,zeroRight:ol};var vX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vX();return t&&e.setAttribute("nonce",t),e}function bX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wX=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yX())&&(bX(t,r),xX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XX=function(){var e=wX();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Oy=function(){var e=XX(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},CX={left:0,top:0,right:0,gap:0},Xu=function(e){return parseInt(e||"",10)||0},kX=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Xu(r),Xu(n),Xu(a)]},SX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CX;var t=kX(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},NX=Oy(),Ds="data-scroll-locked",EX=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(lX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ds,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ol,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ll,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ol," .").concat(ol,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ll," .").concat(ll,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ds,`] {
    `).concat(cX,": ").concat(o,`px;
  }
`)},Kp=function(){var e=parseInt(document.body.getAttribute(Ds)||"0",10);return isFinite(e)?e:0},TX=function(){C.useEffect(function(){return document.body.setAttribute(Ds,(Kp()+1).toString()),function(){var e=Kp()-1;e<=0?document.body.removeAttribute(Ds):document.body.setAttribute(Ds,e.toString())}},[])},_X=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;TX();var s=C.useMemo(function(){return SX(a)},[a]);return C.createElement(NX,{styles:EX(s,!t,a,r?"":"!important")})},qd=!1;if(typeof window<"u")try{var k0=Object.defineProperty({},"passive",{get:function(){return qd=!0,!0}});window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{qd=!1}var as=qd?{passive:!1}:!1,jX=function(e){return e.tagName==="TEXTAREA"},Iy=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jX(e)&&r[t]==="visible")},PX=function(e){return Iy(e,"overflowY")},AX=function(e){return Iy(e,"overflowX")},Qp=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Fy(e,n);if(a){var s=zy(e,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},MX=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},BX=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Fy=function(e,t){return e==="v"?PX(t):AX(t)},zy=function(e,t){return e==="v"?MX(t):BX(t)},LX=function(e,t){return e==="h"&&t==="rtl"?-1:1},RX=function(e,t,r,n,a){var s=LX(e,window.getComputedStyle(t).direction),i=s*n,o=r.target,l=t.contains(o),c=!1,h=i>0,u=0,f=0;do{var p=zy(e,o),g=p[0],m=p[1],v=p[2],y=m-v-s*g;(g||y)&&Fy(e,o)&&(u+=y,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(h&&(Math.abs(u)<1||!a)||!h&&(Math.abs(f)<1||!a))&&(c=!0),c},S0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jp=function(e){return[e.deltaX,e.deltaY]},Zp=function(e){return e&&"current"in e?e.current:e},DX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IX=0,ss=[];function FX(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),a=C.useState(IX++)[0],s=C.useState(Oy)[0],i=C.useRef(e);C.useEffect(function(){i.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=oX([e.lockRef.current],(e.shards||[]).map(Zp),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=C.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=S0(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-y[0],x="deltaY"in m?m.deltaY:b[1]-y[1],X,k=m.target,N=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in m&&N==="h"&&k.type==="range")return!1;var T=Qp(N,k);if(!T)return!0;if(T?X=N:(X=N==="v"?"h":"v",T=Qp(N,k)),!T)return!1;if(!n.current&&"changedTouches"in m&&(w||x)&&(n.current=X),!X)return!0;var E=n.current||X;return RX(E,v,m,E==="h"?w:x,!0)},[]),l=C.useCallback(function(m){var v=m;if(!(!ss.length||ss[ss.length-1]!==s)){var y="deltaY"in v?Jp(v):S0(v),b=t.current.filter(function(X){return X.name===v.type&&(X.target===v.target||v.target===X.shadowParent)&&DX(X.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(Zp).filter(Boolean).filter(function(X){return X.contains(v.target)}),x=w.length>0?o(v,w[0]):!i.current.noIsolation;x&&v.cancelable&&v.preventDefault()}}},[]),c=C.useCallback(function(m,v,y,b){var w={name:m,delta:v,target:y,should:b,shadowParent:zX(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(x){return x!==w})},1)},[]),h=C.useCallback(function(m){r.current=S0(m),n.current=void 0},[]),u=C.useCallback(function(m){c(m.type,Jp(m),m.target,o(m,e.lockRef.current))},[]),f=C.useCallback(function(m){c(m.type,S0(m),m.target,o(m,e.lockRef.current))},[]);C.useEffect(function(){return ss.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,as),document.addEventListener("touchmove",l,as),document.addEventListener("touchstart",h,as),function(){ss=ss.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,as),document.removeEventListener("touchmove",l,as),document.removeEventListener("touchstart",h,as)}},[]);var p=e.removeScrollBar,g=e.inert;return C.createElement(C.Fragment,null,g?C.createElement(s,{styles:OX(a)}):null,p?C.createElement(_X,{gapMode:e.gapMode}):null)}function zX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $X=mX(Dy,FX);var $y=C.forwardRef(function(e,t){return C.createElement(xc,Qr({},e,{ref:t,sideCar:$X}))});$y.classNames=xc.classNames;var HX=[" ","Enter","ArrowUp","ArrowDown"],WX=[" ","Enter"],Vo="Select",[wc,Xc,UX]=gh(Vo),[hi,kB]=Qa(Vo,[UX,vc]),Cc=vc(),[VX,pa]=hi(Vo),[qX,GX]=hi(Vo),Hy=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:o,onValueChange:l,dir:c,name:h,autoComplete:u,disabled:f,required:p,form:g}=e,m=Cc(t),[v,y]=C.useState(null),[b,w]=C.useState(null),[x,X]=C.useState(!1),k=Py(c),[N=!1,T]=_o({prop:n,defaultProp:a,onChange:s}),[E,M]=_o({prop:i,defaultProp:o,onChange:l}),D=C.useRef(null),j=v?g||!!v.closest("form"):!0,[R,P]=C.useState(new Set),O=Array.from(R).map(L=>L.props.value).join(";");return d.jsx(C7,{...m,children:d.jsxs(VX,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:x,onValueNodeHasChildrenChange:X,contentId:wh(),value:E,onValueChange:M,open:N,onOpenChange:T,dir:k,triggerPointerDownPosRef:D,disabled:f,children:[d.jsx(wc.Provider,{scope:t,children:d.jsx(qX,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(L=>{P(_=>new Set(_).add(L))},[]),onNativeOptionRemove:C.useCallback(L=>{P(_=>{const S=new Set(_);return S.delete(L),S})},[]),children:r})}),j?d.jsxs(pb,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:u,value:E,onChange:L=>M(L.target.value),disabled:f,form:g,children:[E===void 0?d.jsx("option",{value:""}):null,Array.from(R)]},O):null]})})};Hy.displayName=Vo;var Wy="SelectTrigger",Uy=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Cc(r),i=pa(Wy,r),o=i.disabled||n,l=Ee(t,i.onTriggerChange),c=Xc(r),h=C.useRef("touch"),[u,f,p]=gb(m=>{const v=c().filter(w=>!w.disabled),y=v.find(w=>w.value===i.value),b=mb(v,m,y);b!==void 0&&i.onValueChange(b.value)}),g=m=>{o||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(yy,{asChild:!0,...s,children:d.jsx(xe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":hb(i.value)?"":void 0,...a,ref:l,onClick:fe(a.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&g(m)}),onPointerDown:fe(a.onPointerDown,m=>{h.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:fe(a.onKeyDown,m=>{const v=u.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&HX.includes(m.key)&&(g(),m.preventDefault())})})})});Uy.displayName=Wy;var Vy="SelectValue",qy=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...o}=e,l=pa(Vy,r),{onValueNodeHasChildrenChange:c}=l,h=s!==void 0,u=Ee(t,l.onValueNodeChange);return kt(()=>{c(h)},[c,h]),d.jsx(xe.span,{...o,ref:u,style:{pointerEvents:"none"},children:hb(l.value)?d.jsx(d.Fragment,{children:i}):s})});qy.displayName=Vy;var YX="SelectIcon",Gy=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return d.jsx(xe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Gy.displayName=YX;var KX="SelectPortal",Yy=e=>d.jsx(mh,{asChild:!0,...e});Yy.displayName=KX;var qa="SelectContent",Ky=C.forwardRef((e,t)=>{const r=pa(qa,e.__scopeSelect),[n,a]=C.useState();if(kt(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Ka.createPortal(d.jsx(Qy,{scope:e.__scopeSelect,children:d.jsx(wc.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),s):null}return d.jsx(Jy,{...e,ref:t})});Ky.displayName=qa;var kr=10,[Qy,ga]=hi(qa),QX="SelectContentImpl",JX=To("SelectContent.RemoveScroll"),Jy=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=e,b=pa(qa,r),[w,x]=C.useState(null),[X,k]=C.useState(null),N=Ee(t,ee=>x(ee)),[T,E]=C.useState(null),[M,D]=C.useState(null),j=Xc(r),[R,P]=C.useState(!1),O=C.useRef(!1);C.useEffect(()=>{if(w)return iX(w)},[w]),Y7();const L=C.useCallback(ee=>{const[le,...Xe]=j().map(J=>J.ref.current),[q]=Xe.slice(-1),ie=document.activeElement;for(const J of ee)if(J===ie||(J==null||J.scrollIntoView({block:"nearest"}),J===le&&X&&(X.scrollTop=0),J===q&&X&&(X.scrollTop=X.scrollHeight),J==null||J.focus(),document.activeElement!==ie))return},[j,X]),_=C.useCallback(()=>L([T,w]),[L,T,w]);C.useEffect(()=>{R&&_()},[R,_]);const{onOpenChange:S,triggerPointerDownPosRef:A}=b;C.useEffect(()=>{if(w){let ee={x:0,y:0};const le=q=>{var ie,J;ee={x:Math.abs(Math.round(q.pageX)-(((ie=A.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(q.pageY)-(((J=A.current)==null?void 0:J.y)??0))}},Xe=q=>{ee.x<=10&&ee.y<=10?q.preventDefault():w.contains(q.target)||S(!1),document.removeEventListener("pointermove",le),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[w,S,A]),C.useEffect(()=>{const ee=()=>S(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[S]);const[B,$]=gb(ee=>{const le=j().filter(ie=>!ie.disabled),Xe=le.find(ie=>ie.ref.current===document.activeElement),q=mb(le,ee,Xe);q&&setTimeout(()=>q.ref.current.focus())}),Y=C.useCallback((ee,le,Xe)=>{const q=!O.current&&!Xe;(b.value!==void 0&&b.value===le||q)&&(E(ee),q&&(O.current=!0))},[b.value]),Q=C.useCallback(()=>w==null?void 0:w.focus(),[w]),re=C.useCallback((ee,le,Xe)=>{const q=!O.current&&!Xe;(b.value!==void 0&&b.value===le||q)&&D(ee)},[b.value]),Pe=n==="popper"?Gd:Zy,ke=Pe===Gd?{side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return d.jsx(Qy,{scope:r,content:w,viewport:X,onViewportChange:k,itemRefCallback:Y,selectedItem:T,onItemLeave:Q,itemTextRefCallback:re,focusSelectedItem:_,selectedItemText:M,position:n,isPositioned:R,searchRef:B,children:d.jsx($y,{as:JX,allowPinchZoom:!0,children:d.jsx(Ay,{asChild:!0,trapped:b.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:fe(a,ee=>{var le;(le=b.trigger)==null||le.focus({preventScroll:!0}),ee.preventDefault()}),children:d.jsx(dc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:d.jsx(Pe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ee=>ee.preventDefault(),...y,...ke,onPlaced:()=>P(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,ee=>{const le=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!le&&ee.key.length===1&&$(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let q=j().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ie=ee.target,J=q.indexOf(ie);q=q.slice(J+1)}setTimeout(()=>L(q)),ee.preventDefault()}})})})})})})});Jy.displayName=QX;var ZX="SelectItemAlignedPosition",Zy=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=pa(qa,r),i=ga(qa,r),[o,l]=C.useState(null),[c,h]=C.useState(null),u=Ee(t,N=>h(N)),f=Xc(r),p=C.useRef(!1),g=C.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=i,w=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&m&&v&&y){const N=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(s.dir!=="rtl"){const ie=M.left-T.left,J=E.left-ie,oe=N.left-J,pe=N.width+oe,lt=Math.max(pe,T.width),Ye=window.innerWidth-kr,gt=Fl(J,[kr,Math.max(kr,Ye-lt)]);o.style.minWidth=pe+"px",o.style.left=gt+"px"}else{const ie=T.right-M.right,J=window.innerWidth-E.right-ie,oe=window.innerWidth-N.right-J,pe=N.width+oe,lt=Math.max(pe,T.width),Ye=window.innerWidth-kr,gt=Fl(J,[kr,Math.max(kr,Ye-lt)]);o.style.minWidth=pe+"px",o.style.right=gt+"px"}const D=f(),j=window.innerHeight-kr*2,R=m.scrollHeight,P=window.getComputedStyle(c),O=parseInt(P.borderTopWidth,10),L=parseInt(P.paddingTop,10),_=parseInt(P.borderBottomWidth,10),S=parseInt(P.paddingBottom,10),A=O+L+R+S+_,B=Math.min(v.offsetHeight*5,A),$=window.getComputedStyle(m),Y=parseInt($.paddingTop,10),Q=parseInt($.paddingBottom,10),re=N.top+N.height/2-kr,Pe=j-re,ke=v.offsetHeight/2,ee=v.offsetTop+ke,le=O+L+ee,Xe=A-le;if(le<=re){const ie=D.length>0&&v===D[D.length-1].ref.current;o.style.bottom="0px";const J=c.clientHeight-m.offsetTop-m.offsetHeight,oe=Math.max(Pe,ke+(ie?Q:0)+J+_),pe=le+oe;o.style.height=pe+"px"}else{const ie=D.length>0&&v===D[0].ref.current;o.style.top="0px";const oe=Math.max(re,O+m.offsetTop+(ie?Y:0)+ke)+Xe;o.style.height=oe+"px",m.scrollTop=le-re+m.offsetTop}o.style.margin=`${kr}px 0`,o.style.minHeight=B+"px",o.style.maxHeight=j+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,c,m,v,y,s.dir,n]);kt(()=>w(),[w]);const[x,X]=C.useState();kt(()=>{c&&X(window.getComputedStyle(c).zIndex)},[c]);const k=C.useCallback(N=>{N&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return d.jsx(tC,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x},children:d.jsx(xe.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Zy.displayName=ZX;var eC="SelectPopperPosition",Gd=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=kr,...s}=e,i=Cc(r);return d.jsx(by,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gd.displayName=eC;var[tC,Bh]=hi(qa,{}),Yd="SelectViewport",eb=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=ga(Yd,r),i=Bh(Yd,r),o=Ee(t,s.onViewportChange),l=C.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(wc.Slot,{scope:r,children:d.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:fe(a.onScroll,c=>{const h=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&u){const p=Math.abs(l.current-h.scrollTop);if(p>0){const g=window.innerHeight-kr*2,m=parseFloat(u.style.minHeight),v=parseFloat(u.style.height),y=Math.max(m,v);if(y<g){const b=y+p,w=Math.min(g,b),x=b-w;u.style.height=w+"px",u.style.bottom==="0px"&&(h.scrollTop=x>0?x:0,u.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});eb.displayName=Yd;var tb="SelectGroup",[rC,nC]=hi(tb),aC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wh();return d.jsx(rC,{scope:r,id:a,children:d.jsx(xe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});aC.displayName=tb;var rb="SelectLabel",nb=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=nC(rb,r);return d.jsx(xe.div,{id:a.id,...n,ref:t})});nb.displayName=rb;var zl="SelectItem",[sC,ab]=hi(zl),sb=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,o=pa(zl,r),l=ga(zl,r),c=o.value===n,[h,u]=C.useState(s??""),[f,p]=C.useState(!1),g=Ee(t,b=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,b,n,a)}),m=wh(),v=C.useRef("touch"),y=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(sC,{scope:r,value:n,disabled:a,textId:m,isSelected:c,onItemTextChange:C.useCallback(b=>{u(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:d.jsx(wc.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:d.jsx(xe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:fe(i.onFocus,()=>p(!0)),onBlur:fe(i.onBlur,()=>p(!1)),onClick:fe(i.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:fe(i.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:fe(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:fe(i.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(i.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:fe(i.onKeyDown,b=>{var x;((x=l.searchRef)==null?void 0:x.current)!==""&&b.key===" "||(WX.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});sb.displayName=zl;var Ui="SelectItemText",ib=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=pa(Ui,r),o=ga(Ui,r),l=ab(Ui,r),c=GX(Ui,r),[h,u]=C.useState(null),f=Ee(t,y=>u(y),l.onItemTextChange,y=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,y,l.value,l.disabled)}),p=h==null?void 0:h.textContent,g=C.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return kt(()=>(m(g),()=>v(g)),[m,v,g]),d.jsxs(d.Fragment,{children:[d.jsx(xe.span,{id:l.textId,...s,ref:f}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ka.createPortal(s.children,i.valueNode):null]})});ib.displayName=Ui;var ob="SelectItemIndicator",lb=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return ab(ob,r).isSelected?d.jsx(xe.span,{"aria-hidden":!0,...n,ref:t}):null});lb.displayName=ob;var Kd="SelectScrollUpButton",cb=C.forwardRef((e,t)=>{const r=ga(Kd,e.__scopeSelect),n=Bh(Kd,e.__scopeSelect),[a,s]=C.useState(!1),i=Ee(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?d.jsx(db,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});cb.displayName=Kd;var Qd="SelectScrollDownButton",ub=C.forwardRef((e,t)=>{const r=ga(Qd,e.__scopeSelect),n=Bh(Qd,e.__scopeSelect),[a,s]=C.useState(!1),i=Ee(t,n.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;s(h)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?d.jsx(db,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});ub.displayName=Qd;var db=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=ga("SelectScrollButton",r),i=C.useRef(null),o=Xc(r),l=C.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),kt(()=>{var h;const c=o().find(u=>u.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),d.jsx(xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:fe(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:fe(a.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:fe(a.onPointerLeave,()=>{l()})})}),iC="SelectSeparator",fb=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(xe.div,{"aria-hidden":!0,...n,ref:t})});fb.displayName=iC;var Jd="SelectArrow",oC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cc(r),s=pa(Jd,r),i=ga(Jd,r);return s.open&&i.position==="popper"?d.jsx(xy,{...a,...n,ref:t}):null});oC.displayName=Jd;function hb(e){return e===""||e===void 0}var pb=C.forwardRef((e,t)=>{const{value:r,...n}=e,a=C.useRef(null),s=Ee(t,a),i=Mh(r);return C.useEffect(()=>{const o=a.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==r&&h){const u=new Event("change",{bubbles:!0});h.call(o,r),o.dispatchEvent(u)}},[i,r]),d.jsx(Wo,{asChild:!0,children:d.jsx("select",{...n,ref:s,defaultValue:r})})});pb.displayName="BubbleSelect";function gb(e){const t=tr(e),r=C.useRef(""),n=C.useRef(0),a=C.useCallback(i=>{const o=r.current+i;t(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function mb(e,t,r){const a=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=lC(e,Math.max(s,0));a.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function lC(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cC=Hy,vb=Uy,uC=qy,dC=Gy,fC=Yy,yb=Ky,hC=eb,bb=nb,xb=sb,pC=ib,gC=lb,wb=cb,Xb=ub,Cb=fb;const Oa=cC,Ia=uC,aa=C.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(vb,{ref:n,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(dC,{asChild:!0,children:d.jsx(u3,{className:"h-4 w-4 opacity-50"})})]}));aa.displayName=vb.displayName;const kb=C.forwardRef(({className:e,...t},r)=>d.jsx(wb,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(_w,{className:"h-4 w-4"})}));kb.displayName=wb.displayName;const Sb=C.forwardRef(({className:e,...t},r)=>d.jsx(Xb,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(u3,{className:"h-4 w-4"})}));Sb.displayName=Xb.displayName;const sa=C.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>d.jsx(fC,{children:d.jsxs(yb,{ref:a,className:Ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(kb,{}),d.jsx(hC,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(Sb,{})]})}));sa.displayName=yb.displayName;const mC=C.forwardRef(({className:e,...t},r)=>d.jsx(bb,{ref:r,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mC.displayName=bb.displayName;const Tt=C.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(xb,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(gC,{children:d.jsx(gs,{className:"h-4 w-4"})})}),d.jsx(pC,{children:t})]}));Tt.displayName=xb.displayName;const vC=C.forwardRef(({className:e,...t},r)=>d.jsx(Cb,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));vC.displayName=Cb.displayName;var Nb=["PageUp","PageDown"],Eb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},pi="Slider",[Zd,yC,bC]=gh(pi),[_b,SB]=Qa(pi,[bC]),[xC,kc]=_b(pi),jb=C.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:s=1,orientation:i="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:h,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:p=!1,form:g,...m}=e,v=C.useRef(new Set),y=C.useRef(0),w=i==="horizontal"?wC:XC,[x=[],X]=_o({prop:h,defaultProp:c,onChange:D=>{var R;(R=[...v.current][y.current])==null||R.focus(),u(D)}}),k=C.useRef(x);function N(D){const j=EC(x,D);M(D,j)}function T(D){M(D,y.current)}function E(){const D=k.current[y.current];x[y.current]!==D&&f(x)}function M(D,j,{commit:R}={commit:!1}){const P=PC(s),O=AC(Math.round((D-n)/s)*s+n,P),L=Fl(O,[n,a]);X((_=[])=>{const S=SC(_,L,j);if(jC(S,l*s)){y.current=S.indexOf(L);const A=String(S)!==String(_);return A&&R&&f(S),A?S:_}else return _})}return d.jsx(xC,{scope:e.__scopeSlider,name:r,disabled:o,min:n,max:a,valueIndexToChangeRef:y,thumbs:v.current,values:x,orientation:i,form:g,children:d.jsx(Zd.Provider,{scope:e.__scopeSlider,children:d.jsx(Zd.Slot,{scope:e.__scopeSlider,children:d.jsx(w,{"aria-disabled":o,"data-disabled":o?"":void 0,...m,ref:t,onPointerDown:fe(m.onPointerDown,()=>{o||(k.current=x)}),min:n,max:a,inverted:p,onSlideStart:o?void 0:N,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:E,onHomeKeyDown:()=>!o&&M(n,0,{commit:!0}),onEndKeyDown:()=>!o&&M(a,x.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:j})=>{if(!o){const O=Nb.includes(D.key)||D.shiftKey&&Eb.includes(D.key)?10:1,L=y.current,_=x[L],S=s*O*j;M(_+S,L,{commit:!0})}}})})})})});jb.displayName=pi;var[Pb,Ab]=_b(pi,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wC=C.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...h}=e,[u,f]=C.useState(null),p=Ee(t,w=>f(w)),g=C.useRef(void 0),m=Py(a),v=m==="ltr",y=v&&!s||!v&&s;function b(w){const x=g.current||u.getBoundingClientRect(),X=[0,x.width],N=Lh(X,y?[r,n]:[n,r]);return g.current=x,N(w-x.left)}return d.jsx(Pb,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:d.jsx(Mb,{dir:m,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const x=b(w.clientX);i==null||i(x)},onSlideMove:w=>{const x=b(w.clientX);o==null||o(x)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:w=>{const X=Tb[y?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:X?-1:1})}})})}),XC=C.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:s,onSlideMove:i,onSlideEnd:o,onStepKeyDown:l,...c}=e,h=C.useRef(null),u=Ee(t,h),f=C.useRef(void 0),p=!a;function g(m){const v=f.current||h.current.getBoundingClientRect(),y=[0,v.height],w=Lh(y,p?[n,r]:[r,n]);return f.current=v,w(m-v.top)}return d.jsx(Pb,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:d.jsx(Mb,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=g(m.clientY);s==null||s(v)},onSlideMove:m=>{const v=g(m.clientY);i==null||i(v)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:m=>{const y=Tb[p?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:y?-1:1})}})})}),Mb=C.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:s,onHomeKeyDown:i,onEndKeyDown:o,onStepKeyDown:l,...c}=e,h=kc(pi,r);return d.jsx(xe.span,{...c,ref:t,onKeyDown:fe(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(o(u),u.preventDefault()):Nb.concat(Eb).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:fe(e.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),h.thumbs.has(f)?f.focus():n(u)}),onPointerMove:fe(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&a(u)}),onPointerUp:fe(e.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),s(u))})})}),Bb="SliderTrack",Lb=C.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=kc(Bb,r);return d.jsx(xe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});Lb.displayName=Bb;var ef="SliderRange",Rb=C.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=kc(ef,r),s=Ab(ef,r),i=C.useRef(null),o=Ee(t,i),l=a.values.length,c=a.values.map(f=>Ob(f,a.min,a.max)),h=l>1?Math.min(...c):0,u=100-Math.max(...c);return d.jsx(xe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:o,style:{...e.style,[s.startEdge]:h+"%",[s.endEdge]:u+"%"}})});Rb.displayName=ef;var tf="SliderThumb",Db=C.forwardRef((e,t)=>{const r=yC(e.__scopeSlider),[n,a]=C.useState(null),s=Ee(t,o=>a(o)),i=C.useMemo(()=>n?r().findIndex(o=>o.ref.current===n):-1,[r,n]);return d.jsx(CC,{...e,ref:s,index:i})}),CC=C.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...s}=e,i=kc(tf,r),o=Ab(tf,r),[l,c]=C.useState(null),h=Ee(t,b=>c(b)),u=l?i.form||!!l.closest("form"):!0,f=_h(l),p=i.values[n],g=p===void 0?0:Ob(p,i.min,i.max),m=NC(n,i.values.length),v=f==null?void 0:f[o.size],y=v?TC(v,g,o.direction):0;return C.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${y}px)`},children:[d.jsx(Zd.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(xe.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...s,ref:h,style:p===void 0?{display:"none"}:e.style,onFocus:fe(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),u&&d.jsx(kC,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});Db.displayName=tf;var kC=e=>{const{value:t,...r}=e,n=C.useRef(null),a=Mh(t);return C.useEffect(()=>{const s=n.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==t&&l){const c=new Event("input",{bubbles:!0});l.call(s,t),s.dispatchEvent(c)}},[a,t]),d.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function SC(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,s)=>a-s)}function Ob(e,t,r){const s=100/(r-t)*(e-t);return Fl(s,[0,100])}function NC(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function EC(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function TC(e,t,r){const n=e/2,s=Lh([0,50],[0,n]);return(n-s(t)*r)*r}function _C(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function jC(e,t){if(t>0){const r=_C(e);return Math.min(...r)>=t}return!0}function Lh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PC(e){return(String(e).split(".")[1]||"").length}function AC(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ib=jb,MC=Lb,BC=Rb,LC=Db;const ii=C.forwardRef(({className:e,...t},r)=>d.jsxs(Ib,{ref:r,className:Ne("relative flex w-full touch-none select-none items-center",e),...t,children:[d.jsx(MC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(BC,{className:"absolute h-full bg-primary"})}),d.jsx(LC,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ii.displayName=Ib.displayName;function Fb({pattern:e,currentStep:t,instrumentStates:r}){const n=C.useMemo(()=>{if(!e)return 16;const i=Object.values(e).map(o=>typeof o=="string"?o.length:0);return Math.max(...i,16)},[e]),a=i=>{if(!e)return!1;let o=!1;return Object.keys(r).forEach(l=>{if(r[l].enabled&&e[l]){const c=e[l][i];c&&c!==" "&&c!=="."&&(o=!0)}}),o},s=[];for(let i=0;i<n;i+=16)s.push(Array.from({length:Math.min(16,n-i)},(o,l)=>i+l));return d.jsx("div",{className:"bg-gradient-to-br from-gray-900 via-black to-gray-900 p-1 md:p-2 rounded-xl shadow-2xl border border-gray-800 overflow-x-auto",children:s.map((i,o)=>d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"flex items-center justify-center gap-0.5 md:gap-1 min-w-max",children:[d.jsx("div",{className:"flex gap-0.5 md:gap-1",children:i.slice(0,4).map(l=>d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${l===t?"bg-red-500 text-white shadow-lg shadow-red-500/50 scale-110":a(l)?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:`Step ${l+1}`,children:l+1},l))}),d.jsx("div",{className:"w-0.5 h-4 bg-yellow-400 mx-0.5 shadow-lg shadow-yellow-400/50"}),d.jsx("div",{className:"flex gap-0.5 md:gap-1",children:i.slice(4,8).map(l=>d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${l===t?"bg-red-500 text-white shadow-lg shadow-red-500/50 scale-110":a(l)?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:`Step ${l+1}`,children:l+1},l))}),d.jsx("div",{className:"w-0.5 h-4 bg-yellow-400 mx-0.5 shadow-lg shadow-yellow-400/50"}),d.jsx("div",{className:"flex gap-0.5 md:gap-1",children:i.slice(8,12).map(l=>d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${l===t?"bg-red-500 text-white shadow-lg shadow-red-500/50 scale-110":a(l)?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:`Step ${l+1}`,children:l+1},l))}),d.jsx("div",{className:"w-0.5 h-4 bg-yellow-400 mx-0.5 shadow-lg shadow-yellow-400/50"}),d.jsx("div",{className:"flex gap-0.5 md:gap-1",children:i.slice(12,16).map(l=>d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${l===t?"bg-red-500 text-white shadow-lg shadow-red-500/50 scale-110":a(l)?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:`Step ${l+1}`,children:l+1},l))})]})},o))})}var Rh="Switch",[RC,NB]=Qa(Rh),[DC,OC]=RC(Rh),zb=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l="on",onCheckedChange:c,form:h,...u}=e,[f,p]=C.useState(null),g=Ee(t,w=>p(w)),m=C.useRef(!1),v=f?h||!!f.closest("form"):!0,[y=!1,b]=_o({prop:a,defaultProp:s,onChange:c});return d.jsxs(DC,{scope:r,checked:y,disabled:o,children:[d.jsx(xe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":Wb(y),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:g,onClick:fe(e.onClick,w=>{b(x=>!x),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&d.jsx(IC,{control:f,bubbles:!m.current,name:n,value:l,checked:y,required:i,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});zb.displayName=Rh;var $b="SwitchThumb",Hb=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=OC($b,r);return d.jsx(xe.span,{"data-state":Wb(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Hb.displayName=$b;var IC=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=C.useRef(null),i=Mh(r),o=_h(t);return C.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(i!==r&&u){const f=new Event("click",{bubbles:n});u.call(l,r),l.dispatchEvent(f)}},[i,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wb(e){return e?"checked":"unchecked"}var Ub=zb,FC=Hb;const Vb=C.forwardRef(({className:e,...t},r)=>d.jsx(Ub,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:d.jsx(FC,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vb.displayName=Ub.displayName;function wt({instrument:e,label:t,description:r,enabled:n,volume:a,onToggle:s,onVolumeChange:i}){return d.jsx(ce,{className:"bg-black border-gray-600",children:d.jsxs(ue,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-sm",children:t}),d.jsx("div",{className:"text-xs text-gray-400",children:r})]}),d.jsx(Vb,{checked:n,onCheckedChange:o=>s(e,o),className:"instrument-toggle"})]}),d.jsx("div",{children:d.jsx(ii,{value:[a],onValueChange:o=>i(e,o[0]),min:0,max:100,step:1,className:"w-full",disabled:!n})})]})})}function qb(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1);return C.useEffect(()=>{const a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=navigator.userAgent.includes("Chrome"),i=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome");(a||s||i)&&!r&&t(!0)},[r]),e?d.jsx(ce,{className:"bg-yellow-900/20 border-yellow-600 mb-6",children:d.jsx(ue,{className:"p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(d3,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("h4",{className:"text-yellow-400 font-semibold mb-2 flex items-center gap-2",children:[d.jsx(Eo,{className:"h-4 w-4"}),"Audio Notice for Mobile Users"]}),d.jsx("p",{className:"text-yellow-200 text-sm mb-3",children:"Some mobile browsers (Chrome, Safari) require you to click the play button to enable audio. If you don't hear sound initially, try:"}),d.jsxs("ul",{className:"text-yellow-200 text-sm space-y-1 mb-3 ml-4",children:[d.jsx("li",{children:" Click play and wait a moment for audio to load"}),d.jsx("li",{children:" Check your device volume is turned up"}),d.jsx("li",{children:" Try switching to Firefox if issues persist"}),d.jsx("li",{children:" Enable auto-play in your browser settings"})]}),d.jsx("p",{className:"text-yellow-300 text-xs",children:"This is due to browser security policies that require user interaction before playing audio."})]}),d.jsx(Ze,{variant:"ghost",size:"sm",onClick:()=>{n(!0),t(!1)},className:"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-900/30 h-6 w-6 p-0",children:d.jsx(hh,{className:"h-4 w-4"})})]})})}):null}const Cu=new Map,N0=new Map;function Dh({tune:e,pattern:t,tempo:r,volume:n,instrumentStates:a,onStepChange:s}){const[i,o]=C.useState(!1),[l,c]=C.useState(0),[h,u]=C.useState(!1),f=C.useRef(null),p=C.useRef(null),g=C.useRef({}),m=C.useRef(!1),v=C.useCallback(M=>{const D=new Set;return Object.values(M.patterns).forEach(j=>{j.ls&&j.ls.replace(/\s/g,"")&&D.add("ls_73"),j.ms&&j.ms.replace(/\s/g,"")&&D.add("ls_73"),j.hs&&j.hs.replace(/\s/g,"")&&D.add("hs_74"),j.re&&j.re.replace(/\s/g,"")&&D.add("re_58"),j.sn&&j.sn.replace(/\s/g,"")&&(D.add("sn_58"),D.add("sn_2e")),j.ta&&j.ta.replace(/\s/g,"")&&D.add("ta_58"),j.ag&&j.ag.replace(/\s/g,"")&&(D.add("ag_61"),D.add("ag_6f")),j.sh&&j.sh.replace(/\s/g,"")&&D.add("sh_2e")}),Array.from(D)},[]),y=C.useCallback(async(M,D)=>{if(Cu.has(D))return Cu.get(D);if(N0.has(D))return await N0.get(D);const j=(async()=>{try{const R=await fetch(M);if(!R.ok)throw new Error(`HTTP ${R.status}: ${R.statusText}`);const P=await R.arrayBuffer();if(P.byteLength===0)throw new Error("Empty audio file");const O=await f.current.decodeAudioData(P);return Cu.set(D,O),O}catch(R){return console.warn(`Failed to load audio file: ${M}`,R),null}finally{N0.delete(D)}})();return N0.set(D,j),await j},[]),b=C.useCallback(async()=>{if(!f.current)return;const M=v(e);console.log(`Loading ${M.length} audio files for ${e.name}:`,M);const j=typeof window<"u"?(window.location.hostname.includes("replit.app"),window.location.origin+"/audio/"):"/audio/",R={ls_30:j+"ls_30.mp3",ls_58:j+"ls_58.mp3",ls_68:j+"ls_68.mp3",ls_72:j+"ls_72.mp3",ls_73:j+"ls_73.mp3",ls_74:j+"ls_74.mp3",ms_30:j+"ms_30.mp3",ms_58:j+"ms_58.mp3",ms_68:j+"ms_68.mp3",ms_72:j+"ms_72.mp3",ms_73:j+"ms_73.mp3",ms_74:j+"ms_74.mp3",hs_30:j+"hs_30.mp3",hs_58:j+"hs_58.mp3",hs_68:j+"hs_68.mp3",hs_72:j+"hs_72.mp3",hs_73:j+"hs_73.mp3",hs_74:j+"hs_74.mp3",sn_2e:j+"sn_2e.mp3",sn_58:j+"sn_58.mp3",sn_66:j+"sn_66.mp3",sn_72:j+"sn_72.mp3",re_2e:j+"re_2e.mp3",re_58:j+"re_58.mp3",re_66:j+"re_66.mp3",re_68:j+"re_68.mp3",re_72:j+"re_72.mp3",re_73:j+"re_73.mp3",re_7a:j+"re_7a.mp3",ag_2e:j+"ag_2e.mp3",ag_61:j+"ag_61.mp3",ag_6f:j+"ag_6f.mp3",ag_72:j+"ag_72.mp3",ta_58:j+"ta_58.mp3",ta_66:j+"ta_66.mp3",ta_72:j+"ta_72.mp3",sh_2e:j+"sh_2e.mp3",sh_58:j+"sh_58.mp3",ot_32:j+"ot_32.mp3",ot_33:j+"ot_33.mp3",ot_34:j+"ot_34.mp3",ot_35:j+"ot_35.mp3",ot_36:j+"ot_36.mp3",ot_41:j+"ot_41.mp3",ot_42:j+"ot_42.mp3",ot_43:j+"ot_43.mp3",ot_44:j+"ot_44.mp3",ot_45:j+"ot_45.mp3",ot_46:j+"ot_46.mp3",ot_47:j+"ot_47.mp3",ot_48:j+"ot_48.mp3",ot_49:j+"ot_49.mp3",ot_4a:j+"ot_4a.mp3",ot_4b:j+"ot_4b.mp3",ot_77:j+"ot_77.mp3",ot_79:j+"ot_79.mp3"},P={};for(const L of M)R[L]&&(P[L]=await y(R[L],L));const O=(L,_,S,A)=>L||x(_,S,A);g.current={ls:O(P.ls_73||P.ls_74,100,.5,"kick"),ms:O(P.ms_73||P.ms_74,80,.4,"kick"),hs:O(P.hs_74||P.hs_73,100,.3,"kick"),re:O(P.re_58,200,.2,"snare"),sn:O(P.sn_58,150,.2,"snare"),ta:O(P.ta_58,300,.1,"hihat"),ag:O(P.ag_61,800,.3,"bell"),sh:O(P.sh_58,5e3,.1,"hihat"),ot:O(P.ot_42,400,.2,"bell")},g.current.ag_low=P.ag_61||g.current.ag,g.current.ag_high=P.ag_6f||g.current.ag,g.current.sn_accent=P.sn_58||g.current.sn,g.current.sn_ghost=P.sn_2e||g.current.sn,g.current.ls_open=P.ls_30||g.current.ls,g.current.ls_muted=P.ls_58||g.current.ls,g.current.ms_open=P.ms_30||g.current.ms,g.current.ms_muted=P.ms_58||g.current.ms,g.current.hs_open=P.hs_30||g.current.hs,g.current.hs_muted=P.hs_58||g.current.hs},[e,v,y]),w=C.useCallback(async()=>{try{f.current||(f.current=new(window.AudioContext||window.webkitAudioContext),console.log("AudioContext created:",f.current.state)),f.current.state==="suspended"&&(console.log("Resuming suspended AudioContext..."),await f.current.resume(),console.log("AudioContext resumed:",f.current.state)),(!m.current||f.current.state!=="running")&&(console.log("Loading audio samples..."),u(!1),await b(),m.current=!0,u(!0),console.log("Audio samples loaded successfully"))}catch(M){throw console.error("Failed to initialize audio:",M),u(!1),m.current=!1,M}},[b]),x=(M,D,j)=>{if(!f.current)return null;const R=f.current.sampleRate,P=f.current.createBuffer(1,D*R,R),O=P.getChannelData(0);for(let L=0;L<P.length;L++){const _=L/R;let S=0;switch(j){case"kick":S=Math.sin(2*Math.PI*M*_)*Math.exp(-_*30)*.5;break;case"snare":S=(Math.random()*2-1)*Math.exp(-_*40)*.3;break;case"hihat":S=(Math.random()*2-1)*Math.exp(-_*100)*.2;break;case"bell":S=Math.sin(2*Math.PI*M*_)*Math.exp(-_*5)*.3;break}O[L]=S}return P},X=C.useCallback((M,D)=>{var L;if(!f.current)return;let j;if(M==="ag"&&D?D==="a"&&g.current.ag_low?j=g.current.ag_low:D==="o"&&g.current.ag_high?j=g.current.ag_high:j=g.current[M]:M==="sn"&&D?D==="X"&&g.current.sn_accent?j=g.current.sn_accent:D==="."&&g.current.sn_ghost?j=g.current.sn_ghost:j=g.current[M]:j=g.current[M],!j)return;const R=f.current.createBufferSource(),P=f.current.createGain();R.buffer=j,R.connect(P),P.connect(f.current.destination);const O=((L=a[M])==null?void 0:L.volume)||70;P.gain.value=n/100*(O/100),R.start()},[n,a]),k=C.useCallback(()=>{const M=e.patterns[t];if(!M)return;const D=M.ls?M.ls.length:16;Object.keys(a).forEach(R=>{if(a[R].enabled&&M[R]){const P=M[R][l];P&&P!==" "&&X(R,P)}});const j=(l+1)%D;c(j),s(j)},[e,t,l,a,X,s]),N=C.useCallback(async()=>{try{console.log("Play button clicked - initializing audio..."),await w(),console.log("Audio initialized, isAudioLoaded:",h),o(!0)}catch(M){console.error("Failed to start playback:",M),u(!1),alert("Unable to play audio. Please try again or check your browser settings.")}},[w,h]),T=C.useCallback(()=>{o(!1),p.current&&(clearInterval(p.current),p.current=null)},[]),E=C.useCallback(()=>{o(!1),c(0),s(0),p.current&&(clearInterval(p.current),p.current=null)},[s]);return C.useEffect(()=>{if(i){const M=60/r*1e3/4;return p.current&&clearInterval(p.current),p.current=setInterval(k,M),()=>{p.current&&clearInterval(p.current)}}},[i,r,k]),C.useEffect(()=>{c(0),s(0)},[t,s]),C.useEffect(()=>{m.current=!1,u(!1)},[e]),C.useEffect(()=>()=>{p.current&&clearInterval(p.current)},[]),{isPlaying:i,currentStep:l,isAudioLoaded:h,play:N,pause:T,stop:E}}async function zC(e,t,r,n,a=8){const s=new(window.AudioContext||window.webkitAudioContext),i=async y=>{try{const b=await fetch(y);if(!b.ok)return null;const w=await b.arrayBuffer();return w.byteLength===0?null:await s.decodeAudioData(w)}catch{return null}},l=typeof window<"u"?(window.location.hostname.includes("replit.app"),window.location.origin+"/audio/"):"/audio/",c={ls_73:l+"ls_73.mp3",hs_74:l+"hs_74.mp3",sn_2e:l+"sn_2e.mp3",sn_58:l+"sn_58.mp3",re_58:l+"re_58.mp3",ag_61:l+"ag_61.mp3",ag_6f:l+"ag_6f.mp3",ta_58:l+"ta_58.mp3",sh_2e:l+"sh_2e.mp3"},h={};for(const[y,b]of Object.entries(c))h[y]=await i(b);const u={ls:h.ls_73,ms:h.ls_73,hs:h.hs_74,re:h.re_58,sn:h.sn_58,sn_accent:h.sn_58,sn_ghost:h.sn_2e,ta:h.ta_58,ag:h.ag_61,ag_low:h.ag_61,ag_high:h.ag_6f,sh:h.sh_2e},f=new OfflineAudioContext(1,s.sampleRate*a,s.sampleRate),p=e.patterns[t];if(!p)throw s.close(),new Error("Pattern not found");const g=60/r/4,m=16;for(let y=0;y<Math.floor(a/(g*m));y++)for(let b=0;b<m;b++){const w=(y*m+b)*g;Object.keys(n).forEach(x=>{var D;if(!n[x].enabled)return;const X=p[x];if(!X||b>=X.length)return;const k=X[b];if(!k||k===" ")return;let N=null;if(x==="ag"?k==="a"?N=u.ag_low:k==="o"?N=u.ag_high:N=u.ag:x==="sn"?k==="X"?N=u.sn_accent:k==="."?N=u.sn_ghost:N=u.sn:N=u[x],!N)return;const T=f.createBufferSource(),E=f.createGain();T.buffer=N,T.connect(E),E.connect(f.destination);const M=((D=n[x])==null?void 0:D.volume)||70;E.gain.value=M/100*.7,T.start(w)})}const v=await f.startRendering();return s.close(),v}function Gb({tune:e}){var X;const t=Object.keys(e.patterns)[0]||"Tune",[r,n]=C.useState(t),[a,s]=C.useState(e.speed||120),[i,o]=C.useState(70),[l,c]=C.useState(0),[h,u]=C.useState({ls:{enabled:!0,volume:100},ms:{enabled:!0,volume:100},hs:{enabled:!0,volume:100},re:{enabled:!0,volume:85},sn:{enabled:!0,volume:90},ta:{enabled:!0,volume:75},ag:{enabled:!0,volume:25},sh:{enabled:!0,volume:60}});C.useEffect(()=>{const k=Object.keys(e.patterns)[0];k&&!e.patterns[r]&&n(k)},[e,r]);const{isPlaying:f,isAudioLoaded:p,play:g,pause:m,stop:v}=Dh({tune:e,pattern:r,tempo:a,volume:i,instrumentStates:h,onStepChange:c}),y=C.useCallback((k,N)=>{u(T=>({...T,[k]:{...T[k],enabled:N}}))},[]),b=C.useCallback((k,N)=>{u(T=>({...T,[k]:{...T[k],volume:N}}))},[]),w=()=>{f?m():g()},x=e.patterns[r];return x?d.jsxs(d.Fragment,{children:[d.jsx(qb,{}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"street-text text-2xl",children:"D4P Player"})}),d.jsxs(ue,{className:"space-y-6 px-2 sm:px-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Pattern"}),d.jsxs(Oa,{value:r,onValueChange:n,children:[d.jsx(aa,{className:"w-full md:w-64 bg-black border-gray-600 text-white",children:d.jsx(Ia,{placeholder:"Select a pattern"})}),d.jsx(sa,{className:"bg-gray-800 border-gray-600",children:Object.keys(e.patterns).map(k=>d.jsx(Tt,{value:k,className:"text-white hover:bg-gray-700",children:k},k))})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Controls"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx(Ze,{onClick:w,className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:!p&&f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading Audio..."]}):f?d.jsxs(d.Fragment,{children:[d.jsx(cc,{className:"mr-2 h-4 w-4"}),"Pause"]}):d.jsxs(d.Fragment,{children:[d.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Play"]})}),d.jsxs(Ze,{onClick:v,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[d.jsx(f3,{className:"mr-2 h-4 w-4"}),"Stop"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("label",{className:"text-sm font-medium",children:"Tempo:"}),d.jsx(ii,{value:[a],onValueChange:k=>s(k[0]),min:40,max:160,step:1,className:"w-24"}),d.jsx("span",{className:"text-sm w-12",children:a})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("label",{className:"text-sm font-medium",children:"Volume:"}),d.jsx(ii,{value:[i],onValueChange:k=>o(k[0]),min:0,max:100,step:1,className:"w-24"}),d.jsxs("span",{className:"text-sm w-12",children:[i,"%"]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Pattern Visualisation"}),d.jsx(Fb,{pattern:x,currentStep:l,instrumentStates:h}),d.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[d.jsxs("div",{className:"mb-2",children:["Current Pattern: ",d.jsxs("span",{className:"text-white font-semibold",children:[e.displayName||e.name," - ",r]})]}),((X=x.mnemonics)==null?void 0:X.ls)&&d.jsxs("div",{className:"italic",children:['"',x.mnemonics.ls,'"']})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Instruments"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(wt,{instrument:"ls",label:"Low Surdo",description:"Bass drum",enabled:h.ls.enabled,volume:h.ls.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"ms",label:"Mid Surdo",description:"Mid drum",enabled:h.ms.enabled,volume:h.ms.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"hs",label:"High Surdo",description:"High drum",enabled:h.hs.enabled,volume:h.hs.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"re",label:"Repi",description:"Repinique",enabled:h.re.enabled,volume:h.re.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"sn",label:"Snare",description:"Caixa",enabled:h.sn.enabled,volume:h.sn.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"ta",label:"Tamborim",description:"Tam",enabled:h.ta.enabled,volume:h.ta.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"ag",label:"Agog",description:"Bell",enabled:h.ag.enabled,volume:h.ag.volume,onToggle:y,onVolumeChange:b}),d.jsx(wt,{instrument:"sh",label:"Shaker",description:"Chocalho",enabled:h.sh.enabled,volume:h.sh.volume,onToggle:y,onVolumeChange:b})]})]})]})]})]}):null}function $C(){const[e,t]=C.useState("My Custom Beat"),[r,n]=C.useState(120),[a,s]=C.useState(16),[i,o]=C.useState(0),[l,c]=C.useState({ls:{enabled:!0,volume:80},ms:{enabled:!0,volume:75},hs:{enabled:!0,volume:70},re:{enabled:!0,volume:85},sn:{enabled:!0,volume:90},ta:{enabled:!0,volume:75},ag:{enabled:!0,volume:25},sh:{enabled:!0,volume:60}}),[h,u]=C.useState({ls:"X   X   X   X   ",ms:"  X   X   X   X ",hs:"    X       X   ",re:"  X   X   X   X ",sn:". X . X . X . X ",ta:"X X X X X X X X ",ag:"a   o   a   o   ",sh:". . . . . . . . "}),f=[{key:"ls",name:"Low Surdo",description:"Deep bass drum"},{key:"ms",name:"Mid Surdo",description:"Medium bass drum"},{key:"hs",name:"High Surdo",description:"High bass drum"},{key:"re",name:"Repi",description:"Snare-like drum"},{key:"sn",name:"Snare",description:"Sharp snare drum"},{key:"ta",name:"Tamborim",description:"Small high-pitched drum"},{key:"ag",name:"Agogo",description:"Two-tone bell (a=low, o=high)"},{key:"sh",name:"Shaker",description:"Percussion shaker"}],p=C.useCallback((E,M,D)=>{u(j=>{const R=E;return{...j,[R]:j[R].substring(0,M)+D+j[R].substring(M+1)}})},[]),g=C.useCallback(E=>{u(M=>({...M,[E]:" ".repeat(a)}))},[a]),m=C.useCallback(()=>{const E=" ".repeat(a);u({ls:E,ms:E,hs:E,re:E,sn:E,ta:E,ag:E,sh:E}),n(120),t("My Custom Beat")},[a]),v=C.useCallback(E=>{s(E),u(M=>{const D={};return Object.keys(M).forEach(j=>{const R=M[j];E>R.length?D[j]=R+" ".repeat(E-R.length):D[j]=R.substring(0,E)}),D})},[]),y=C.useMemo(()=>({name:"experiment",displayName:e,categories:["custom"],speed:r,time:4,description:"Your custom experimental beat",patterns:{Custom:{loop:!0,...h,mnemonics:{}}}}),[e,r,h]),{play:b,stop:w,isPlaying:x,isAudioLoaded:X}=Dh({tune:y,pattern:"Custom",tempo:r,volume:100,instrumentStates:l,onStepChange:o}),k=C.useCallback(async()=>{try{const M=await zC(y,"Custom",r,{ls:{enabled:!0,volume:80},ms:{enabled:!0,volume:75},hs:{enabled:!0,volume:70},re:{enabled:!0,volume:85},sn:{enabled:!0,volume:90},ta:{enabled:!0,volume:75},ag:{enabled:!0,volume:25},sh:{enabled:!0,volume:60}},8),D=N(M),j=new Blob([D],{type:"audio/wav"}),R=URL.createObjectURL(j),P=document.createElement("a");P.href=R,P.download=`${e.replace(/[^a-zA-Z0-9]/g,"_")}.wav`,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(R)}catch(E){console.error("Error generating audio:",E),alert("Error generating audio file. Please try again.")}},[e,r,y]),N=E=>{const M=E.length,D=E.numberOfChannels,j=E.sampleRate,P=D*2,O=j*P,L=M*P,_=44+L,S=new ArrayBuffer(_),A=new DataView(S),B=(Y,Q)=>{for(let re=0;re<Q.length;re++)A.setUint8(Y+re,Q.charCodeAt(re))};B(0,"RIFF"),A.setUint32(4,_-8,!0),B(8,"WAVE"),B(12,"fmt "),A.setUint32(16,16,!0),A.setUint16(20,1,!0),A.setUint16(22,D,!0),A.setUint32(24,j,!0),A.setUint32(28,O,!0),A.setUint16(32,P,!0),A.setUint16(34,16,!0),B(36,"data"),A.setUint32(40,L,!0);let $=44;for(let Y=0;Y<M;Y++)for(let Q=0;Q<D;Q++){const re=Math.max(-1,Math.min(1,E.getChannelData(Q)[Y]));A.setInt16($,re*32767,!0),$+=2}return S},T=({instrument:E})=>{const M=h[E.key],D=[];for(let j=0;j<a;j+=8)D.push(Array.from({length:Math.min(8,a-j)},(R,P)=>j+P));return d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(be,{className:"text-lg",children:E.name}),d.jsx("p",{className:"text-sm text-gray-400",children:E.description})]}),d.jsx(Ze,{size:"sm",variant:"outline",onClick:()=>g(E.key),className:"text-xs",children:"Clear"})]})}),d.jsxs(ue,{children:[d.jsx("div",{className:"space-y-2",children:D.map((j,R)=>d.jsx("div",{className:"flex items-center justify-between overflow-x-auto px-2 sm:px-4",children:j.map(P=>d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"text-xs text-gray-500 mb-1",children:P+1}),d.jsx("button",{className:`w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 border rounded-full text-xs font-bold transition-all duration-200 ${M[P]===" "?"border-gray-600 bg-gray-800 hover:bg-gray-700 text-gray-400":"border-green-400 bg-green-500 text-white shadow-lg shadow-green-500/30"} focus:ring-2 focus:ring-white focus:outline-none`,onClick:()=>{const O=M[P];let L=" ";E.key==="ag"?O===" "?L="a":O==="a"?L="o":L=" ":E.key==="sn"?O===" "?L=".":O==="."?L="X":L=" ":L=O==="X"?" ":"X",p(E.key,P,L)},children:M[P]===" "?"":M[P]})]},P))},R))}),d.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:E.key==="ag"?"Click:   a  o  ":E.key==="sn"?"Click:   .  X  ":"Click:   X  "})]})]})};return d.jsx("div",{className:"min-h-screen bg-black overflow-x-hidden",children:d.jsxs("div",{className:"w-full max-w-none mx-auto px-2 sm:px-3 lg:px-4 py-8 sm:py-16",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-3xl sm:text-4xl md:text-5xl mb-4",children:"Create Your Own Beat"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Design custom rhythms for Palestinian solidarity"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"tune-name",className:"text-white mb-2",children:"Beat Name"}),d.jsx(zn,{id:"tune-name",value:e,onChange:E=>t(E.target.value),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Enter beat name"})]}),d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"pattern-length",className:"text-white mb-2",children:"Pattern Length"}),d.jsxs(Oa,{value:a.toString(),onValueChange:E=>v(parseInt(E)),children:[d.jsx(aa,{className:"bg-gray-800 border-gray-600 text-white",children:d.jsx(Ia,{})}),d.jsxs(sa,{children:[d.jsx(Tt,{value:"8",children:"8 beats"}),d.jsx(Tt,{value:"16",children:"16 beats"}),d.jsx(Tt,{value:"24",children:"24 beats"}),d.jsx(Tt,{value:"32",children:"32 beats"}),d.jsx(Tt,{value:"40",children:"40 beats"}),d.jsx(Tt,{value:"48",children:"48 beats"}),d.jsx(Tt,{value:"56",children:"56 beats"}),d.jsx(Tt,{value:"64",children:"64 beats"})]})]})]}),d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"tempo",className:"text-white mb-2",children:"Tempo (BPM)"}),d.jsx(zn,{id:"tempo",type:"number",min:"40",max:"200",value:r,onChange:E=>n(parseInt(E.target.value)||120),className:"bg-gray-800 border-gray-600 text-white"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 justify-center",children:[d.jsx(Ze,{onClick:x?w:b,disabled:!X,className:"bg-red-600 hover:bg-red-700 text-white disabled:bg-gray-600",children:X?x?d.jsxs(d.Fragment,{children:[d.jsx(cc,{className:"mr-2 h-4 w-4"}),"Stop"]}):d.jsxs(d.Fragment,{children:[d.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Play"]}):d.jsx(d.Fragment,{children:"Loading..."})}),d.jsxs(Ze,{onClick:m,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[d.jsx(h3,{className:"mr-2 h-4 w-4"}),"Reset All"]}),d.jsxs(Ze,{onClick:k,className:"bg-green-600 hover:bg-green-700 text-white",children:[d.jsx(Pw,{className:"mr-2 h-4 w-4"}),"Download Audio"]})]}),d.jsx("div",{className:"space-y-6 mb-8",children:f.map(E=>d.jsx(T,{instrument:E},E.key))}),d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-4 sm:p-6",children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-4 text-center",children:"Play Your Beat"}),d.jsx(Gb,{tune:y})]}),d.jsxs("div",{className:"mt-12 bg-gray-800 border border-gray-700 rounded-xl p-6",children:[d.jsx("h3",{className:"street-text text-xl font-bold mb-4",children:"How to Use"}),d.jsxs("div",{className:"space-y-4 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Pattern Length:"})," Choose how many beats your pattern should have (8, 16, 24, 32, 40, 48, 56, or 64)."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Pattern Grid:"})," Each row represents an instrument, and each column represents a beat. Click circles to toggle beats on/off."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Agogo:"})," Has two sounds - 'a' for low bell and 'o' for high bell."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Snare:"})," Has two sounds - '.' for ghost notes and 'X' for accent hits."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Other Instruments:"})," Click to toggle between hit (X) and rest ()."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Download:"})," Save your beat as an audio file to share with others."]})]})]})]})})}function HC(){return d.jsxs("div",{className:"min-h-screen",children:[d.jsxs("section",{className:"relative keffiyeh-pattern min-h-screen flex items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-gray-900 to-black opacity-90"}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"street-text font-bold text-4xl md:text-6xl mb-6 leading-tight",children:["Drummers For ",d.jsx("span",{className:"text-white",children:"Palestine"})]}),d.jsx("p",{className:"text-xl md:text-2xl mb-8 text-gray-300",children:"Unite through drumming. Learn resistance rhythms. UK's national drumming movement for Palestine."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(ro,{href:"/tunes",children:d.jsxs(Ze,{size:"lg",className:"bg-red-600 hover:bg-red-700 text-white",children:[d.jsx(Ho,{className:"mr-2 h-5 w-5"}),"Start Playing"]})}),d.jsx(ro,{href:"/about",children:d.jsx(Ze,{variant:"outline",size:"lg",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:"Learn More"})})]})]}),d.jsx("div",{className:"relative flex items-center justify-center p-8",children:d.jsx("img",{src:"/logo.png",alt:"Drummers For Palestine",className:"max-w-lg w-full h-auto opacity-80"})})]})})]}),d.jsx("section",{className:"py-16 bg-gray-800",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"street-text font-bold text-3xl md:text-4xl mb-4",children:"Power Through Drumming"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Professional-grade tools for creating resistance rhythms"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsx(ce,{className:"bg-black border-gray-700",children:d.jsxs(ue,{className:"p-6 text-center",children:[d.jsx(Rd,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),d.jsx("h3",{className:"street-text font-semibold text-xl mb-2",children:"Authentic Rhythms"}),d.jsx("p",{className:"text-gray-300",children:"Traditional percussion instruments with professional-quality samples"})]})}),d.jsx(ce,{className:"bg-black border-gray-700",children:d.jsxs(ue,{className:"p-6 text-center",children:[d.jsx(Aw,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),d.jsx("h3",{className:"street-text font-semibold text-xl mb-2",children:"Protest Beats"}),d.jsx("p",{className:"text-gray-300",children:"Specially crafted rhythms for marches, demonstrations, and solidarity actions"})]})}),d.jsx(ce,{className:"bg-black border-gray-700",children:d.jsxs(ue,{className:"p-6 text-center",children:[d.jsx(Rw,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),d.jsx("h3",{className:"street-text font-semibold text-xl mb-2",children:"Community"}),d.jsx("p",{className:"text-gray-300",children:"Connect with drummers worldwide supporting Palestinian liberation"})]})})]})]})}),d.jsx("footer",{className:"bg-gray-800 border-t border-gray-700 py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[d.jsx(Rd,{className:"h-6 w-6 text-red-600"}),d.jsx("span",{className:"street-text font-bold text-xl",children:"Drummers For Palestine"})]}),d.jsx("p",{className:"text-gray-400 mb-4",children:"Drumming unites us in the struggle for justice"}),d.jsx("p",{className:"text-sm text-gray-400",children:" 2024 Drummers For Palestine. Free Palestine "})]})})]})}function WC(){C.useEffect(()=>{if(window.instgrm)window.instgrm.Embeds.process();else{const t=document.createElement("script");t.src="https://www.instagram.com/embed.js",t.async=!0,document.body.appendChild(t),t.onload=()=>{window.instgrm&&window.instgrm.Embeds.process()}}},[]);const e=[{name:"Manchester Drummers for Palestine",handle:"m.d.4.p",url:"https://www.instagram.com/m.d.4.p/"},{name:"Yorkshire Drummers for Palestine",handle:"y.d.4.p",url:"https://www.instagram.com/y.d.4.p/"},{name:"Blackburn Drummers for Palestine",handle:"b.d.4.p",url:"https://www.instagram.com/b.d.4.p/"},{name:"Liverpool Drummers for Palestine",handle:"l.d.4.p",url:"https://www.instagram.com/l.d.4.p/"}];return d.jsx("div",{className:"min-h-screen bg-black",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsxs("h1",{className:"street-text font-bold text-4xl md:text-5xl mb-4 flex items-center justify-center gap-3",children:[d.jsx(cu,{className:"h-12 w-12 text-white"}),"Regional Groups"]}),d.jsx("p",{className:"text-xl text-gray-300",children:"Connect with Drummers for Palestine groups across the UK"}),d.jsxs("div",{className:"mt-6 p-4 bg-gray-900 border border-red-500 rounded-lg",children:[d.jsx("p",{className:"text-white text-lg font-semibold mb-2",children:"Want to Join a Local Group?"}),d.jsx("p",{className:"text-gray-300",children:"Message the respective Instagram page for your region to connect with local drummers and find out about upcoming protests and training sessions."})]})]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map(t=>d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsxs(ye,{children:[d.jsxs(be,{className:"flex items-center gap-3 text-white",children:[d.jsx(cu,{className:"h-6 w-6"}),t.name]}),d.jsxs("p",{className:"text-gray-400",children:["@",t.handle]})]}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"instagram-embed-container",children:d.jsxs("blockquote",{className:"instagram-media","data-instgrm-permalink":t.url,"data-instgrm-version":"14",style:{background:"#FFF",border:"0",borderRadius:"3px",boxShadow:"0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15)",margin:"1px",maxWidth:"540px",minWidth:"326px",padding:"0",width:"99.375%"},children:[d.jsxs("div",{style:{padding:"16px"},children:[d.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"40px",marginRight:"14px",width:"40px"}}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center"},children:[d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",marginBottom:"6px",width:"100px"}}),d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"60px"}})]})]}),d.jsx("div",{style:{padding:"19% 0"}}),d.jsx("div",{style:{display:"block",height:"50px",margin:"0 auto 12px",width:"50px"},children:d.jsx("svg",{width:"50px",height:"50px",viewBox:"0 0 60 60",version:"1.1",children:d.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:d.jsx("g",{transform:"translate(-511.000000, -20.000000)",fill:"#000000",children:d.jsx("g",{children:d.jsx("path",{d:"M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631"})})})})})}),d.jsx("div",{style:{paddingTop:"8px"},children:d.jsx("div",{style:{color:"#3897f0",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"550",lineHeight:"18px"},children:"View this profile on Instagram"})}),d.jsx("div",{style:{padding:"12.5% 0"}}),d.jsxs("div",{style:{display:"flex",flexDirection:"row",marginBottom:"14px",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),d.jsx("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:"0",marginRight:"14px",marginLeft:"2px"}}),d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}})]}),d.jsxs("div",{style:{marginLeft:"8px"},children:[d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"20px",width:"20px"}}),d.jsx("div",{style:{width:"0",height:"0",borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}})]}),d.jsxs("div",{style:{marginLeft:"auto"},children:[d.jsx("div",{style:{width:"0px",borderTop:"8px solid #F4F4F4",borderRight:"8px solid transparent",transform:"translateY(16px)"}}),d.jsx("div",{style:{backgroundColor:"#F4F4F4",flexGrow:"0",height:"12px",width:"16px",transform:"translateY(-4px)"}}),d.jsx("div",{style:{width:"0",height:"0",borderTop:"8px solid #F4F4F4",borderLeft:"8px solid transparent",transform:"translateY(-4px) translateX(8px)"}})]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center",marginBottom:"24px"},children:[d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",marginBottom:"6px",width:"224px"}}),d.jsx("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"144px"}})]})]}),d.jsx("a",{href:t.url,style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",lineHeight:"17px",textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",children:t.name})]})}),d.jsx("div",{className:"text-center",children:d.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 transform hover:scale-105",children:[d.jsx(cu,{className:"h-5 w-5"}),"Follow @",t.handle]})})]})})]},t.handle))}),d.jsx("div",{className:"mt-16 text-center",children:d.jsx(ce,{className:"bg-gray-800 border-gray-700 max-w-4xl mx-auto",children:d.jsxs(ue,{className:"pt-6",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Join the Movement"}),d.jsx("p",{className:"text-gray-300 mb-6",children:"Connect with local Drummers for Palestine groups in your area. Follow these accounts for updates on protests, actions, and solidarity events across Manchester, Liverpool, Blackburn, and Yorkshire."}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[d.jsxs("div",{className:"bg-gray-700 px-4 py-2 rounded-lg",children:[d.jsx("span",{className:"text-white font-semibold",children:"Manchester:"}),d.jsx("span",{className:"text-gray-300 ml-2",children:"@m.d.4.p"})]}),d.jsxs("div",{className:"bg-gray-700 px-4 py-2 rounded-lg",children:[d.jsx("span",{className:"text-white font-semibold",children:"Yorkshire:"}),d.jsx("span",{className:"text-gray-300 ml-2",children:"@y.d.4.p"})]}),d.jsxs("div",{className:"bg-gray-700 px-4 py-2 rounded-lg",children:[d.jsx("span",{className:"text-white font-semibold",children:"Blackburn:"}),d.jsx("span",{className:"text-gray-300 ml-2",children:"@b.d.4.p"})]}),d.jsxs("div",{className:"bg-gray-700 px-4 py-2 rounded-lg",children:[d.jsx("span",{className:"text-white font-semibold",children:"Liverpool:"}),d.jsx("span",{className:"text-gray-300 ml-2",children:"@l.d.4.p"})]})]})]})})})]})})}function UC(){return d.jsx("div",{className:"min-h-screen bg-black",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-3 lg:px-4 py-8 sm:py-16",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-3xl sm:text-4xl md:text-5xl mb-4",children:"Instruments"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Master the tools of resistance rhythms"})]}),d.jsxs("section",{className:"mb-12",children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Samba Instruments"}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Rd,{className:"h-6 w-6 text-red-500"}),"Surdo (Bass Drums)"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," The heartbeat of the ensemble. Provides the foundational bass rhythm that locks in the groove."]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-600",children:[d.jsx("p",{className:"text-red-400 font-bold text-sm mb-1",children:"Low Surdo (Primeira/1st)"}),d.jsx("p",{className:"text-gray-300 text-xs",children:"Largest drum, deepest tone. Plays on beat 1 and 3, providing the main pulse. Essential for keeping the whole group together."})]}),d.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-600",children:[d.jsx("p",{className:"text-yellow-400 font-bold text-sm mb-1",children:"Medium Surdo (Segunda/2nd)"}),d.jsx("p",{className:"text-gray-300 text-xs",children:"Mid-range tone. Plays on beats 2 and 4, creating the counter-rhythm. Works with Low Surdo to create the fundamental samba groove."})]}),d.jsxs("div",{className:"bg-gray-900 p-3 rounded border border-gray-600",children:[d.jsx("p",{className:"text-blue-400 font-bold text-sm mb-1",children:"High Surdo (Terceira/3rd)"}),d.jsx("p",{className:"text-gray-300 text-xs",children:"Smallest surdo, brightest tone. Adds rhythmic variation and fills. Often plays syncopated patterns that dance around the main beats."})]})]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Use a padded mallet. Strike the center for deep bass, edge for sharper tone. Each surdo has its specific role in the rhythmic foundation."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Protest Role:"})," Creates the powerful foundation that carries chants and unifies the crowd"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Eo,{className:"h-6 w-6 text-red-500"}),"Repinique"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," High-pitched metal drum that cuts through the mix. Often leads breaks and calls in samba arrangements."]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Use one stick and one hand. Stick for sharp accents, hand for controlled tones. Can play rim shots for extra punch."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Drumming Role:"})," Commands attention and signals rhythm changes"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Dw,{className:"h-6 w-6 text-red-500"}),"Snare Drum"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," Provides rhythmic complexity and drive. Essential for pattern variations and fills."]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Use matched grip with drumsticks. Focus on clean, consistent strokes. Master basic rudiments for advanced patterns."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Drumming Role:"})," Adds rhythmic texture and dynamic intensity"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Dd,{className:"h-6 w-6 text-red-500"}),"Tamborim"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," Small frame drum creating intricate patterns and flourishes."]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Hold with non-dominant hand, play with flexible plastic stick. Use wrist motion for rapid-fire patterns."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Drumming Role:"})," Adds texture and maintains rhythmic continuity"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Eo,{className:"h-6 w-6 text-red-500"}),"Agog"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," Double cowbell providing melodic rhythm and tempo reference."]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Strike with wooden stick. High bell for accents, low bell for steady pulse. Creates interlocking patterns with other instruments."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Drumming Role:"})," Keeps tempo and provides melodic rhythm reference"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Dd,{className:"h-6 w-6 text-red-500"}),"Shaker"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Function:"})," Fills rhythmic space with continuous texture and drive."]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"How to Play:"})," Shake in steady 16th note patterns. Vary intensity for dynamics. Can play accents on strong beats."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Drumming Role:"})," Unifies the ensemble, accessible for beginners"]})]})})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Snare Rudiments"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Single Stroke Roll"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Pattern:"})," R L R L R L R L (alternating hands)"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Foundation for all other rudiments. Builds hand coordination and even spacing."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Creates sustained intensity and smooth roll effects"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Double Stroke Roll"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Pattern:"})," RR LL RR LL (two hits per hand)"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Develops wrist control and produces fuller sound. Essential for roll effects."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Builds dramatic tension and creates fuller sound textures"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Paradiddle"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Pattern:"})," R L R R, L R L L (accent on first stroke)"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Combines single and double strokes. Creates natural accent patterns."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Matches natural speech patterns and creates dynamic accents"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Flam"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Pattern:"})," lR (grace note + main stroke, almost simultaneous)"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Creates fuller, more powerful accents. Adds color to basic patterns."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Emphasizes key accents and adds dynamic color"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Drag (Ruff)"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Pattern:"})," ll R (two grace notes + main stroke)"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Creates dramatic build-up effects. Adds textural variation."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Signals important moments and section transitions"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Rim Shot"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Technique:"})," Strike rim and head simultaneously for sharp crack"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Purpose:"})," Maximum volume and attention-getting power. Cuts through crowd noise."]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Application:"})," Maximum volume and attention-getting power"]})]})})]})]}),d.jsxs(ce,{className:"bg-gray-900 border-red-500 mt-8",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-red-400",children:"Practice Tips for Ensemble Drumming"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Start Slow:"})," Master the motion before increasing speed"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Use a Metronome:"})," Consistent timing is crucial for group synchronization"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Practice with Others:"})," Develop listening skills and ensemble awareness"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Build Endurance:"})," Long sessions require stamina - develop gradually"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Listen and Adapt:"})," Watch for conductor signals and dynamic changes"]})]})})]})]})]})})}function VC(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(ce,{className:"w-full max-w-md mx-4",children:d.jsxs(ue,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(d3,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const qC=uc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function GC({className:e,variant:t,...r}){return d.jsx("div",{className:Ne(qC({variant:t}),e),...r})}const Yb=C.forwardRef(({tune:e,autoPlay:t=!1,onPlayStateChange:r},n)=>{const a=Object.keys(e.patterns)[0]||"Tune",[s,i]=C.useState(a),[o,l]=C.useState(e.speed||120),[c,h]=C.useState(70),[u,f]=C.useState(0),[p,g]=C.useState({ls:{enabled:!0,volume:100},ms:{enabled:!0,volume:100},hs:{enabled:!0,volume:100},re:{enabled:!0,volume:85},sn:{enabled:!0,volume:90},ta:{enabled:!0,volume:75},ag:{enabled:!0,volume:25},sh:{enabled:!0,volume:60}});C.useEffect(()=>{const T=Object.keys(e.patterns)[0];T&&!e.patterns[s]&&i(T)},[e,s]);const{isPlaying:m,isAudioLoaded:v,play:y,pause:b,stop:w}=Dh({tune:e,pattern:s,tempo:o,volume:c,instrumentStates:p,onStepChange:f});C.useEffect(()=>{t&&v&&!m&&y()},[t,v,m,y]),C.useEffect(()=>{r&&r(m)},[m,r]),C.useImperativeHandle(n,()=>({play:y,pause:b,stop:w,isPlaying:m}));const x=C.useCallback((T,E)=>{g(M=>({...M,[T]:{...M[T],enabled:E}}))},[]),X=C.useCallback((T,E)=>{g(M=>({...M,[T]:{...M[T],volume:E}}))},[]),k=()=>{m?b():y()},N=e.patterns[s];return N?d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsxs(ye,{children:[d.jsx(be,{className:"text-2xl font-bold text-white",children:e.displayName||e.name}),e.description&&d.jsx("p",{className:"text-gray-300",children:e.description})]}),d.jsxs(ue,{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Controls"}),d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsx(Ze,{onClick:k,className:"bg-red-600 hover:bg-red-700 text-white disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px]",children:!v&&m?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading Audio..."]}):m?d.jsxs(d.Fragment,{children:[d.jsx(cc,{className:"mr-2 h-4 w-4"}),"Pause"]}):d.jsxs(d.Fragment,{children:[d.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Play"]})}),d.jsxs(Ze,{onClick:w,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[d.jsx(f3,{className:"mr-2 h-4 w-4"}),"Stop"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("label",{className:"text-sm font-medium",children:"Tempo:"}),d.jsx(ii,{value:[o],onValueChange:T=>l(T[0]),min:40,max:160,step:1,className:"w-24"}),d.jsx("span",{className:"text-sm w-12",children:o})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("label",{className:"text-sm font-medium",children:"Volume:"}),d.jsx(ii,{value:[c],onValueChange:T=>h(T[0]),min:0,max:100,step:1,className:"w-24"}),d.jsxs("span",{className:"text-sm w-12",children:[c,"%"]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Pattern"}),Object.keys(e.patterns).length>1&&d.jsx("div",{className:"mb-4",children:d.jsxs(Oa,{value:s,onValueChange:i,children:[d.jsx(aa,{className:"w-48 bg-gray-700 border-gray-600",children:d.jsx(Ia,{})}),d.jsx(sa,{children:Object.keys(e.patterns).map(T=>d.jsx(Tt,{value:T,children:T},T))})]})}),d.jsx(Fb,{pattern:N,currentStep:u,instrumentStates:p})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"street-text font-semibold text-lg mb-3",children:"Instruments"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(wt,{instrument:"ls",label:"Low Surdo",description:"Bass foundation",enabled:p.ls.enabled,volume:p.ls.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"ms",label:"Mid Surdo",description:"Rhythmic anchor",enabled:p.ms.enabled,volume:p.ms.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"hs",label:"High Surdo",description:"Melody rhythm",enabled:p.hs.enabled,volume:p.hs.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"re",label:"Repinique",description:"Lead drum",enabled:p.re.enabled,volume:p.re.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"sn",label:"Snare",description:"Sharp accent",enabled:p.sn.enabled,volume:p.sn.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"ta",label:"Tamborim",description:"High percussion",enabled:p.ta.enabled,volume:p.ta.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"ag",label:"Agog",description:"Cowbell melody",enabled:p.ag.enabled,volume:p.ag.volume,onToggle:x,onVolumeChange:X}),d.jsx(wt,{instrument:"sh",label:"Shaker",description:"Chocalho",enabled:p.sh.enabled,volume:p.sh.volume,onToggle:x,onVolumeChange:X})]})]})]})]}):d.jsx("div",{children:"Pattern not found"})});Yb.displayName="ProtestBeatPlayer";const eg=[{id:"level-1",name:"Level 1",description:"Single beat every count",fullDescription:"Basic foundation rhythm - single beat every count. Perfect for beginners and building unified rhythm.",pattern:"X               ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"level-2",name:"Level 2",description:"Double beat on counts 1 and 3",fullDescription:"Double beat on counts 1 and 3. Builds foundation for more complex patterns.",pattern:"X       X       ",difficulty:"Easy",tempo:40,imageUrl:""},{id:"level-3",name:"Level 3",description:"Solid beats on counts 1-3 with tri-beat on count 4",fullDescription:"Solid beats on counts 1-3 with a tri-beat on count 4. Creates powerful momentum.",pattern:"X   X   X XXX   ",difficulty:"Medium",tempo:110,imageUrl:""},{id:"level-4",name:"Level 4",description:"Continuous hi-hat pulse on every count",fullDescription:"Continuous hi-hat pulse on every count. Maximum energy and drive.",pattern:"XXXXXXXXXXXXXXXXX   X   X XXX   ",difficulty:"Medium",tempo:130,imageUrl:""},{id:"level-5",name:"Level 5",description:"Continuous hi-hat pulse on every count",fullDescription:"Continuous hi-hat pulse on every count. Maximum energy and drive.",pattern:"X   XX  X  X   XX  X  X  ",difficulty:"Medium",tempo:110,imageUrl:""},{id:"single-beat",name:"Single Beat",description:"A steady hit every count",fullDescription:"Basic steady rhythm - one hit per count. Foundation for all other patterns.",pattern:"X               ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"double-beat",name:"Double Beat",description:"Hits only on counts 1 and 3",fullDescription:"Emphasis on beats 1 and 3 only. Strong foundation pattern.",pattern:"X       X       ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"quadruple-beat",name:"Quadruple Beat",description:"Hits on all 4 counts",fullDescription:"Emphasis on beats 1 and 3 only. Strong foundation pattern.",pattern:"X   X   X   X   ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"8-beat",name:"8 Beat",description:"8 hits in a 16-step measure (every 2 steps)",fullDescription:"8 evenly spaced hits across 16 steps. Maintains steady energy and easy for crowds to follow.",pattern:"X X X X X X X X ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"clave",name:"Clave",description:"Classic pattern: 'Shut the sys-tem down'",fullDescription:"Traditional clave rhythm: 'Shut the sys-tem down.' Powerful and iconic protest beat.",pattern:"X  X  X   X X   ",difficulty:"Easy",tempo:130,imageUrl:""},{id:"gaza-level1",name:"Gaza - Level 1",description:"Gaza beat",fullDescription:"Gaza solidarity Level 1 - basic beat that everyone can play together.",pattern:"X  X  X X       ",difficulty:"Easy",tempo:110,imageUrl:""},{id:"end-occupation",name:"End The Occupation",description:"Same as Level 5, often used at demos",fullDescription:"Powerful rhythm demanding end to occupation. Everyone plays together for maximum impact.",pattern:"X   XX  X  X   XX  X  X  ",difficulty:"Medium",tempo:110,imageUrl:""},{id:"we-are-people-level1",name:"We Are The People - Level 1",description:"Surdos only",fullDescription:"Foundation rhythm for 'We Are The People' - surdos establish the base rhythm.",pattern:"X X     X X     X X     XX X X X",difficulty:"Easy",tempo:50,imageUrl:""},{id:"tri-hit",name:"1 Tri-Hit",description:"Three rapid hits on count 1",fullDescription:"Three rapid hits creating dramatic emphasis. Great for highlighting chants or calls.",pattern:"XXX             ",difficulty:"Medium",tempo:100,imageUrl:""},{id:"double-tri-hit",name:"Two Tri-Hits",description:"Three rapid hits on count 1",fullDescription:"Three rapid hits creating dramatic emphasis. Great for highlighting chants or calls.",pattern:"XXX     XXX     ",difficulty:"Medium",tempo:100,imageUrl:""},{id:"quadruple-tri-hit",name:"Four Tri-Hits",description:"Three rapid hits on count 1",fullDescription:"Three rapid hits creating dramatic emphasis. Great for highlighting chants or calls.",pattern:"XXX XXX XXX XXX ",difficulty:"Medium",tempo:100,imageUrl:""},{id:"whistle-in",name:"Whistle In",description:"Whistle in short cue pattern",fullDescription:"A short whistle-in cue for starting a piece  translated to a single-layer X/space pattern for reference.",pattern:"X       X       X   X   X   X   ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"whistle-in-long",name:"Whistle In (Long)",description:"Long whistle-in cue pattern",fullDescription:"An extended whistle-in cue, represented here as X and spaces for reference.",pattern:"X               X               X       X       X   X   X   X   ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"whistle-in-short",name:"Whistle In (Short)",description:"Short whistle-in cue pattern",fullDescription:"A rapid whistle-in cue  X marks beats where the whistle sounds.",pattern:"X   X   X   X   ",difficulty:"Easy",tempo:120,imageUrl:""},{id:"karla-break",name:"Karla Break",description:"Karla break pattern",fullDescription:"A break used in the Karla tune  main low surdo line only.",pattern:"XXXXXXXXXXXXXXXXX    X    X    X  XX X XX XXXXXS",difficulty:"Medium",tempo:120,imageUrl:""},{id:"progressive-karla",name:"Progressive Karla",description:"Progressive Karla low surdo",fullDescription:"Low surdo line for the progressive Karla variation.",pattern:"X   X   X   X   X X X X X X X X XXXXXXXXXXXXXXXXX               ",difficulty:"Medium",tempo:120,imageUrl:""},{id:"karla-clave",name:"Karla Clave",description:"Karla pattern combined with clave",fullDescription:"Low surdo line for the Karla Clave combination.",pattern:"XXXXXXXXXXXXXXXXX  X  X   X X   ",difficulty:"Medium",tempo:120,imageUrl:""},{id:"x-break",name:"X Break",description:"X Break low surdo",fullDescription:"Low surdo line for the X Break  driving and assertive.",pattern:"X       X       X X X X X       ",difficulty:"Medium",tempo:120,imageUrl:""},{id:"knock-on-the-door",name:"Knock On The Door",description:"Knock On The Door low surdo",fullDescription:"Low surdo part for the Knock On The Door break.",pattern:"X            XXXX               X  X  X   X X X X               ",difficulty:"Medium",tempo:120,imageUrl:""}];function YC(){const[e,t]=C.useState(eg[0]),[r,n]=C.useState(null),a=C.useRef(null),s=C.useRef(null),i=l=>({name:l.id,displayName:l.name,categories:["protest"],speed:l.tempo,time:4,description:l.fullDescription,patterns:{Beat:{loop:!0,ls:l.pattern,ms:l.pattern,hs:l.pattern,re:l.pattern,sn:l.pattern,ta:l.pattern,ag:l.pattern,sh:l.pattern,mnemonics:{}}}}),o=l=>{r===l.id?(n(null),a.current&&a.current.pause()):(t(l),n(l.id),setTimeout(()=>{s.current&&s.current.scrollIntoView({behavior:"smooth",block:"start"})},100))};return C.useEffect(()=>{r&&r!==e.id&&n(null)},[e.id,r]),d.jsx("div",{className:"min-h-screen bg-black overflow-x-hidden",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-3 lg:px-4 py-8 sm:py-16",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-3xl sm:text-4xl md:text-5xl mb-4",children:"Protest Beats"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Rhythms of resistance and solidarity for Palestinian freedom"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6 sm:gap-8 items-start justify-center",children:[d.jsxs("div",{className:"md:col-span-1",children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-4 text-white",children:"Select Beat"}),d.jsx("div",{className:"space-y-2 sm:space-y-3",children:eg.map(l=>d.jsx(Ze,{variant:e.id===l.id?"default":"outline",className:`w-full p-3 sm:p-4 h-auto text-left justify-start text-sm sm:text-base ${r===l.id?"bg-green-600 hover:bg-green-700 text-white animate-pulse":e.id===l.id?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300 border-gray-600"}`,onClick:()=>o(l),children:d.jsxs("div",{className:"flex flex-col items-start w-full",children:[d.jsx("div",{className:"font-semibold",children:l.name}),d.jsx("div",{className:"text-xs sm:text-sm opacity-75",children:l.description}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx(GC,{variant:"secondary",className:`text-xs ${l.difficulty==="Easy"?"bg-green-600":l.difficulty==="Medium"?"bg-yellow-600":"bg-red-600"}`,children:l.difficulty}),d.jsxs("span",{className:"text-xs text-gray-400",children:[l.tempo," BPM"]})]})]})},l.id))})]}),d.jsx("div",{className:"md:col-span-2",ref:s,children:d.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl p-3 sm:p-6",children:[d.jsxs("div",{className:"mb-4 sm:mb-6",children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-2",children:e.name}),d.jsx("p",{className:"text-gray-300 text-base sm:text-lg mb-2",children:e.description}),d.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:e.fullDescription})]}),d.jsxs("div",{className:"bg-black p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:[d.jsx("h4",{className:"text-white font-semibold mb-4 text-sm sm:text-base",children:"Pattern Visualization:"}),d.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:8},(l,c)=>{const h=c%4===0&&c>0;return d.jsxs("div",{className:"flex items-center",children:[h&&d.jsx("div",{className:"w-0.5 h-4 sm:h-6 bg-yellow-400 mx-1 shadow-lg shadow-yellow-400/50"}),d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${e.pattern[c]&&e.pattern[c]!==" "?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400"}`,title:`Beat ${c+1}`,children:c+1})]},c)})}),d.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:8},(l,c)=>{const h=c+8,u=c%4===0&&c>0;return d.jsxs("div",{className:"flex items-center",children:[u&&d.jsx("div",{className:"w-0.5 h-4 sm:h-6 bg-yellow-400 mx-1 shadow-lg shadow-yellow-400/50"}),d.jsx("div",{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 ${e.pattern[h]&&e.pattern[h]!==" "?"bg-green-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400"}`,title:`Beat ${h+1}`,children:h+1})]},h)})}),d.jsxs("div",{className:"text-center text-gray-400 text-xs sm:text-sm",children:["Pattern: ",d.jsx("span",{className:"font-mono text-xs sm:text-sm",children:e.pattern})]})]}),d.jsx(Yb,{ref:a,tune:i(e),autoPlay:r===e.id,onPlayStateChange:l=>{!l&&r===e.id&&n(null)}})]})})]})]})})}const Kb=C.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Kb.displayName="Textarea";function KC(){const[e,t]=C.useState(""),[r,n]=C.useState(""),[a,s]=C.useState(""),[i,o]=C.useState([{id:"1",itemName:"",color:"",size:"",logoType:"MD4P",appliedMethod:"Not Applicable",quantity:1}]),[l,c]=C.useState(!1),{toast:h}=C3(),u=["XS","S","M","L","XL","XXL"],f=["MD4P","LD4P","YD4P","BD4P"],p=["Embroidered","Vinyl","Not Applicable"],g=()=>{const w={id:Date.now().toString(),itemName:"",color:"",size:"",logoType:"MD4P",appliedMethod:"Not Applicable",quantity:1};o([...i,w])},m=w=>{i.length>1&&o(i.filter(x=>x.id!==w))},v=(w,x,X)=>{o(i.map(k=>k.id===w?{...k,[x]:X}:k))},y=()=>{const w=i.map((X,k)=>`Item ${k+1}:
    Product: ${X.itemName}
    Color: ${X.color}
    Size: ${X.size}
    Logo Type: ${X.logoType}
    Applied Method: ${X.appliedMethod}
    Quantity: ${X.quantity}
   
   `).join(`

`);return`
                    NEW D4P MERCHANDISE ORDER


CUSTOMER DETAILS:

 Name: ${e}
 Email: ${r}

ORDER DETAILS:

${w}

${a.trim()?`CUSTOMER NOTES:

${a}

`:""}IMPORTANT INFORMATION:

 Please confirm total order cost and provide payment arrangement details
 Customer understands personalised items are non-returnable/non-refundable
 Estimated delivery: 2 weeks (shipping included)
 For direct home shipping add 3.99 extra

PRICING NOTES:

 Logo Colors: Black or White come free. Other colors cost 1 extra
 Palestine Flag Design: Red/Black/White/Green is 1 extra
 Direct Home Shipping: Add 3.99 for direct delivery

This order was submitted through the D4P website.
`},b=async()=>{if(!e.trim()||!r.trim()){h({title:"Missing Information",description:"Please fill in your name and email address.",variant:"destructive"});return}if(i.some(x=>!x.itemName.trim()||!x.color.trim()||!x.size.trim())){h({title:"Incomplete Items",description:"Please complete all item details before submitting.",variant:"destructive"});return}c(!0);try{const x=y(),X=`D4P Merchandise Order - ${e}`,k=`mailto:drummers4palestine@gmail.com?subject=${encodeURIComponent(X)}&body=${encodeURIComponent(x)}`;window.open(k,"_self"),h({title:"Order Email Generated",description:"Your email client should open with the order details. Please send the email to complete your order."}),t(""),n(""),s(""),o([{id:Date.now().toString(),itemName:"",color:"",size:"",logoType:"MD4P",appliedMethod:"Not Applicable",quantity:1}])}catch{h({title:"Error",description:"Failed to generate order email. Please try again.",variant:"destructive"})}finally{c(!1)}};return d.jsx("div",{className:"min-h-screen bg-black",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-3 lg:px-4 py-8 sm:py-16",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-3xl sm:text-4xl md:text-5xl mb-4",children:"Shop"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Support the movement - Palestinian solidarity merchandise"})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"street-text text-2xl font-bold mb-6 text-white",children:"Browse Catalogue"}),d.jsx("div",{style:{position:"relative",width:"100%",height:"0",paddingTop:"141.4286%",paddingBottom:"0",boxShadow:"0 2px 8px 0 rgba(63,69,81,0.16)",marginTop:"1.6em",marginBottom:"0.9em",overflow:"hidden",borderRadius:"8px",willChange:"transform"},children:d.jsx("iframe",{loading:"lazy",style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",border:"none",padding:"0",margin:"0"},src:"https://www.canva.com/design/DAGvtyIMrBI/t7xtrv9ft83JLD2FAbcpXw/view?embed",allowFullScreen:!0,allow:"fullscreen"})})]}),d.jsx("div",{children:d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsxs(ye,{children:[d.jsxs(be,{className:"street-text text-2xl flex items-center gap-2",children:[d.jsx(kp,{className:"h-6 w-6"}),"Order Form"]}),d.jsxs("div",{className:"text-sm text-gray-400",children:[d.jsxs("p",{className:"mb-2",children:[" Orders sent to: ",d.jsx("span",{className:"text-red-400",children:"drummers4palestine@gmail.com"})]}),d.jsx("p",{className:"mb-2",children:" Payment arrangement details will be sent once email received"}),d.jsx("p",{className:"mb-2",children:" Delivery: ~2 weeks (shipping included)"}),d.jsx("p",{className:"text-yellow-400",children:" Personalised items are non-returnable/non-refundable"})]})]}),d.jsxs(ue,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-white",children:"Customer Details"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"customerName",className:"text-gray-300",children:"Full Name *"}),d.jsx(zn,{id:"customerName",value:e,onChange:w=>t(w.target.value),className:"bg-black border-gray-600 text-white",placeholder:"Enter your full name",required:!0})]}),d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"customerEmail",className:"text-gray-300",children:"Email Address *"}),d.jsx(zn,{id:"customerEmail",type:"email",value:r,onChange:w=>n(w.target.value),className:"bg-black border-gray-600 text-white",placeholder:"your.email@example.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx(qt,{htmlFor:"customerNotes",className:"text-gray-300",children:"Notes (Optional)"}),d.jsx(Kb,{id:"customerNotes",value:a,onChange:w=>s(w.target.value),className:"bg-black border-gray-600 text-white min-h-[80px]",placeholder:"Any specific requests or notes about your order..."})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold text-white",children:"Order Items"}),d.jsxs(Ze,{onClick:g,variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[d.jsx(Bw,{className:"h-4 w-4 mr-1"}),"Add Item"]})]}),i.map((w,x)=>d.jsx(ce,{className:"bg-black border-gray-600",children:d.jsxs(ue,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h4",{className:"font-medium text-gray-300",children:["Item ",x+1]}),i.length>1&&d.jsx(Ze,{onClick:()=>m(w.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:d.jsx(Lw,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Product Name *"}),d.jsx(zn,{value:w.itemName,onChange:X=>v(w.id,"itemName",X.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm",placeholder:"e.g. Hoodie, T-Shirt",required:!0})]}),d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Color *"}),d.jsx(zn,{value:w.color,onChange:X=>v(w.id,"color",X.target.value),className:"bg-gray-800 border-gray-600 text-white text-sm",placeholder:"e.g. Black, White, Red",required:!0})]}),d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Size *"}),d.jsxs(Oa,{value:w.size,onValueChange:X=>v(w.id,"size",X),children:[d.jsx(aa,{className:"bg-gray-800 border-gray-600 text-white text-sm",children:d.jsx(Ia,{placeholder:"Select size"})}),d.jsx(sa,{className:"bg-gray-800 border-gray-600",children:u.map(X=>d.jsx(Tt,{value:X,className:"text-white hover:bg-gray-700",children:X},X))})]})]}),d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Logo Type"}),d.jsxs(Oa,{value:w.logoType,onValueChange:X=>v(w.id,"logoType",X),children:[d.jsx(aa,{className:"bg-gray-800 border-gray-600 text-white text-sm",children:d.jsx(Ia,{})}),d.jsx(sa,{className:"bg-gray-800 border-gray-600",children:f.map(X=>d.jsx(Tt,{value:X,className:"text-white hover:bg-gray-700",children:X},X))})]})]}),d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Applied Method"}),d.jsxs(Oa,{value:w.appliedMethod,onValueChange:X=>v(w.id,"appliedMethod",X),children:[d.jsx(aa,{className:"bg-gray-800 border-gray-600 text-white text-sm",children:d.jsx(Ia,{})}),d.jsx(sa,{className:"bg-gray-800 border-gray-600",children:p.map(X=>d.jsx(Tt,{value:X,className:"text-white hover:bg-gray-700",children:X},X))})]})]}),d.jsxs("div",{children:[d.jsx(qt,{className:"text-gray-400 text-xs",children:"Quantity"}),d.jsx(zn,{type:"number",min:"1",max:"99",value:w.quantity,onChange:X=>v(w.id,"quantity",parseInt(X.target.value)||1),className:"bg-gray-800 border-gray-600 text-white text-sm w-20"})]})]})]})},w.id))]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-white",children:"Additional Information"}),d.jsxs("div",{className:"text-sm text-gray-400 space-y-2",children:[d.jsxs("p",{children:[" ",d.jsx("span",{className:"text-yellow-400",children:"Logo Colors:"})," Black or White come free. Other colors cost 1 extra."]}),d.jsxs("p",{children:[" ",d.jsx("span",{className:"text-green-400",children:"Palestine Flag Design:"})," Red/Black/White/Green is 1 extra (best on non-red/black/white/green background)."]}),d.jsxs("p",{children:[" ",d.jsx("span",{className:"text-blue-400",children:"Direct Home Shipping:"})," Add 3.99 for direct delivery to your address."]})]})]}),d.jsx(Ze,{onClick:b,disabled:l,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3",children:l?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Email..."]}):d.jsxs(d.Fragment,{children:[d.jsx(kp,{className:"mr-2 h-4 w-4"}),"Send Order Email"]})}),d.jsx("p",{className:"text-xs text-gray-500 text-center",children:'Clicking "Send Order Email" will open your email client with order details pre-filled. Send the email to complete your order.'})]})]})})]})]})})}var QC="6.5.2",JC=QC,ZC=function(e,t){var r=this;if(t||(t={}),r.qpm=t.qpm?parseInt(t.qpm,10):null,!r.qpm){var n=e.metaText?e.metaText.tempo:null;r.qpm=e.getBpm(n)}r.extraMeasuresAtBeginning=t.extraMeasuresAtBeginning?parseInt(t.extraMeasuresAtBeginning,10):0,r.beatCallback=t.beatCallback,r.eventCallback=t.eventCallback,r.lineEndCallback=t.lineEndCallback,r.lineEndAnticipation=t.lineEndAnticipation?parseInt(t.lineEndAnticipation,10):0,r.beatSubdivisions=t.beatSubdivisions?parseInt(t.beatSubdivisions,10):1,r.joggerTimer=null,r.replaceTarget=function(s){r.noteTimings=s.setTiming(r.qpm,r.extraMeasuresAtBeginning),s.noteTimings.length===0&&(r.noteTimings=s.setTiming(0,0)),r.lineEndCallback&&(r.lineEndTimings=ek(s.noteTimings,r.lineEndAnticipation)),r.startTime=null,r.currentBeat=0,r.currentEvent=0,r.currentLine=0,r.currentTime=0,r.isPaused=!1,r.isRunning=!1,r.pausedPercent=null,r.justUnpaused=!1,r.newSeekPercent=0,r.lastTimestamp=0,r.noteTimings.length!==0&&(r.millisecondsPerBeat=1e3/(r.qpm/60)/r.beatSubdivisions,r.lastMoment=r.noteTimings[r.noteTimings.length-1].milliseconds,r.totalBeats=Math.round(r.lastMoment/r.millisecondsPerBeat))},r.replaceTarget(e),r.doTiming=function(s){if(r.lastTimestamp!==s&&(r.lastTimestamp=s,r.startTime||(r.startTime=s),!r.isPaused&&r.isRunning)){for(r.currentTime=s-r.startTime,r.currentTime+=16;r.noteTimings.length>r.currentEvent&&r.noteTimings[r.currentEvent].milliseconds<r.currentTime;){if(r.eventCallback&&r.noteTimings[r.currentEvent].type==="event"){var i=r.startTime;r.eventCallback(r.noteTimings[r.currentEvent]),i!==r.startTime&&(r.currentTime=s-r.startTime)}r.currentEvent++}if(r.lineEndCallback&&r.lineEndTimings.length>r.currentLine&&r.lineEndTimings[r.currentLine].milliseconds<r.currentTime&&r.currentEvent<r.noteTimings.length){var o=r.noteTimings[r.currentEvent].milliseconds===r.currentTime?r.noteTimings[r.currentEvent]:r.noteTimings[r.currentEvent-1];r.lineEndCallback(r.lineEndTimings[r.currentLine],o,{line:r.currentLine,endTimings:r.lineEndTimings,currentTime:r.currentTime}),r.currentLine++}if(r.currentTime<r.lastMoment){if(requestAnimationFrame(r.doTiming),r.currentBeat*r.millisecondsPerBeat<r.currentTime){var l=r.doBeatCallback(s);l!==null&&(r.currentTime=l)}}else if(r.currentBeat<=r.totalBeats&&r.beatCallback){var c=r.doBeatCallback(s);c!==null&&(r.currentTime=c),requestAnimationFrame(r.doTiming)}if(r.currentTime>=r.lastMoment)if(r.eventCallback){var h=r.eventCallback(null);r.shouldStop(h).then(function(u){u&&r.stop()})}else r.stop()}},r.shouldStop=function(s){return new Promise(function(i){if(!s)return i(!0);if(s==="continue")return i(!1);s.then&&s.then(function(o){i(o!=="continue")})})},r.doBeatCallback=function(s){if(r.beatCallback){for(var i=r.currentEvent;i<r.noteTimings.length&&r.noteTimings[i].left===null;)i++;var o,l;if(i<r.noteTimings.length){for(o=r.noteTimings[i].milliseconds,i=Math.max(0,r.currentEvent-1);i>=0&&r.noteTimings[i].left===null;)i--;l=r.noteTimings[i]}var c={},h={};if(l){c.top=l.top,c.height=l.height;var u=Math.max(0,s-r.startTime-l.milliseconds),f=o-l.milliseconds,p=l.endX-l.left,g=f?u*p/f:0;c.left=l.left+g,r.currentEvent===0&&l.milliseconds>s-r.startTime&&(c.left=void 0),h={timestamp:s,startTime:r.startTime,ev:l,endMs:o,offMs:u,offPx:g,gapMs:f,gapPx:p}}else h={timestamp:s,startTime:r.startTime};var m=r.startTime;if(r.beatCallback(r.currentBeat/r.beatSubdivisions,r.totalBeats/r.beatSubdivisions,r.lastMoment,c,h),m!==r.startTime)return s-r.startTime;r.currentBeat++}return null};var a=60;r.animationJogger=function(){r.isRunning&&(r.doTiming(performance.now()),r.joggerTimer=setTimeout(r.animationJogger,a))},r.start=function(s,i){if(r.isRunning=!0,r.isPaused&&(r.isPaused=!1,s===void 0&&(r.justUnpaused=!0)),s)r.setProgress(s,i);else if(s===0)r.reset();else if(r.pausedPercent!==null){var o=performance.now();r.currentTime=r.lastMoment*r.pausedPercent,r.startTime=o-r.currentTime,r.pausedPercent=null,r.reportNext=!0}requestAnimationFrame(r.doTiming),r.joggerTimer=setTimeout(r.animationJogger,a)},r.pause=function(){r.isPaused=!0;var s=performance.now();r.pausedPercent=(s-r.startTime)/r.lastMoment,r.isRunning=!1,r.joggerTimer&&(clearTimeout(r.joggerTimer),r.joggerTimer=null)},r.currentMillisecond=function(){return r.currentTime},r.reset=function(){r.currentBeat=0,r.currentEvent=0,r.currentLine=0,r.startTime=null,r.pausedPercent=null},r.stop=function(){r.pause(),r.reset()},r.setProgress=function(s,i){var o;switch(i){case"seconds":r.currentTime=s*1e3,r.currentTime<0&&(r.currentTime=0),r.currentTime>r.lastMoment&&(r.currentTime=r.lastMoment),o=r.currentTime/r.lastMoment;break;case"beats":r.currentTime=s*r.millisecondsPerBeat*r.beatSubdivisions,r.currentTime<0&&(r.currentTime=0),r.currentTime>r.lastMoment&&(r.currentTime=r.lastMoment),o=r.currentTime/r.lastMoment;break;default:o=s,o<0&&(o=0),o>1&&(o=1),r.currentTime=r.lastMoment*o;break}r.isRunning||(r.pausedPercent=o);var l=performance.now();for(r.startTime=l-r.currentTime,r.currentEvent,r.currentEvent=0;r.noteTimings.length>r.currentEvent&&r.noteTimings[r.currentEvent].milliseconds<r.currentTime;)r.currentEvent++;if(r.lineEndCallback)for(r.currentLine=0;r.lineEndTimings.length>r.currentLine&&r.lineEndTimings[r.currentLine].milliseconds+r.lineEndAnticipation<r.currentTime;)r.currentLine++;var c=r.currentBeat;r.currentBeat=Math.floor(r.currentTime/r.millisecondsPerBeat),r.beatCallback&&c!==r.currentBeat&&r.doBeatCallback(r.startTime+r.currentTime),r.eventCallback&&r.currentEvent>=0&&r.noteTimings[r.currentEvent].type==="event"&&r.eventCallback(r.noteTimings[r.currentEvent]),r.lineEndCallback&&r.lineEndCallback(r.lineEndTimings[r.currentLine],r.noteTimings[r.currentEvent],{line:r.currentLine,endTimings:r.lineEndTimings}),r.joggerTimer=setTimeout(r.animationJogger,a)}};function ek(e,t){for(var r=[],n=null,a=0;a<e.length;a++){var s=e[a];s.type!=="end"&&s.top!==n&&(r.push({measureNumber:s.measureNumber,milliseconds:s.milliseconds-t,top:s.top,bottom:s.top+s.height}),n=s.top)}return r}var Oh=ZC,tk=Oh,cl={};(function(){var e,t;cl.startAnimation=function(r,n,a){e&&(e.stop(),e=void 0),a.showCursor&&(t=r.querySelector(".abcjs-cursor"),t||(t=document.createElement("DIV"),t.className="abcjs-cursor cursor",t.style.position="absolute",r.appendChild(t),r.style.position="relative"));function s(f){for(var p=0;p<f.length;p++){var g=f[p];g.classList.contains("abcjs-bar")||(g.style.display="none")}}var i;function o(f){if(i){var p=r.querySelectorAll(i);s(p)}i=f}function l(f){var p=r.querySelectorAll(f);s(p)}function c(f){a.hideCurrentMeasure?l(f):a.hideFinishedMeasures&&o(f)}function h(f){return".abcjs-l"+f.line+".abcjs-m"+f.measureNumber}function u(f){if(f){if(f.measureStart){var p=h(f);p&&c(p)}t&&(t.style.left=f.left+"px",t.style.top=f.top+"px",t.style.width=f.width+"px",t.style.height=f.height+"px")}else e.stop(),e=void 0}e=new tk(n,{qpm:a.bpm,eventCallback:u}),e.start()},cl.pauseAnimation=function(r){e&&(r?e.pause():e.start())},cl.stopAnimation=function(){e&&(e.stop(),e=void 0)}})();var rk=cl,Xn={};Xn.cloneArray=function(e){for(var t=[],r=0;r<e.length;r++)t.push(Object.assign({},e[r]));return t};Xn.cloneHashOfHash=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=Object.assign({},e[r]));return t};Xn.cloneHashOfArrayOfHash=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=Xn.cloneArray(e[r]));return t};Xn.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")};Xn.startsWith=function(e,t){return e.indexOf(t)===0};Xn.endsWith=function(e,t){var r=e.length-t.length;return r>=0&&e.lastIndexOf(t)===r};Xn.last=function(e){return e.length===0?null:e[e.length-1]};var Sn=Xn,tg=Sn,Ea={};(function(){var e,t,r,n,a;Ea.initialize=function(_,S,A,B,$){e=_,t=S,r=A,n=B,a=$,s()};function s(){r.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},r.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},r.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},r.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},r.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},r.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},r.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},r.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},r.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},n.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},n.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},n.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},n.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},n.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},n.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},n.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},n.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},n.formatting.annotationfont=r.annotationfont,n.formatting.gchordfont=r.gchordfont,n.formatting.historyfont=r.historyfont,n.formatting.infofont=r.infofont,n.formatting.measurefont=r.measurefont,n.formatting.partsfont=r.partsfont,n.formatting.repeatfont=r.repeatfont,n.formatting.textfont=r.textfont,n.formatting.tripletfont=r.tripletfont,n.formatting.vocalfont=r.vocalfont,n.formatting.wordsfont=r.wordsfont}var i={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},o=function(_){switch(_){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},l=function(_,S,A,B,$){function Y(){var lt=parseInt(_[0].token);return _.shift(),S?_.length===0?{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:lt}:_.length===1&&_[0].token==="box"&&i[$]?{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:lt,box:!0}:(t("Extra parameters in font definition.",A,B),{face:S.face,weight:S.weight,style:S.style,decoration:S.decoration,size:lt}):(t("Can't set just the size of the font since there is no default value.",A,B),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:lt})}if(_[0].token==="*"){if(_.shift(),_[0].type==="number")return Y();t("Expected font size number after *.",A,B)}if(_[0].type==="number")return Y();for(var Q=[],re,Pe="normal",ke="normal",ee="none",le=!1,Xe="face",q=!1;_.length;){var ie=_.shift(),J=ie.token.toLowerCase();switch(Xe){case"face":q||J!=="utf"&&ie.type!=="number"&&J!=="bold"&&J!=="italic"&&J!=="underline"&&J!=="box"?Q.length>0&&ie.token==="-"?(q=!0,Q[Q.length-1]=Q[Q.length-1]+ie.token):q?(q=!1,Q[Q.length-1]=Q[Q.length-1]+ie.token):Q.push(ie.token):ie.type==="number"?(re?t("Font size specified twice in font definition.",A,B):re=ie.token,Xe="modifier"):J==="bold"?Pe="bold":J==="italic"?ke="italic":J==="underline"?ee="underline":J==="box"?(i[$]?le=!0:t(`This font style doesn't support "box"`,A,B),Xe="finished"):J==="utf"?(ie=_.shift(),Xe="size"):t("Unknown parameter "+ie.token+" in font definition.",A,B);break;case"size":ie.type==="number"?re?t("Font size specified twice in font definition.",A,B):re=ie.token:t("Expected font size in font definition.",A,B),Xe="modifier";break;case"modifier":J==="bold"?Pe="bold":J==="italic"?ke="italic":J==="underline"?ee="underline":J==="box"?(i[$]?le=!0:t(`This font style doesn't support "box"`,A,B),Xe="finished"):t("Unknown parameter "+ie.token+" in font definition.",A,B);break;case"finished":t('Extra characters found after "box" in font definition.',A,B);break}}re===void 0?S?re=S.size:(t("Must specify the size of the font since there is no default value.",A,B),re=12):re=parseFloat(re),Q=Q.join(" "),Q===""&&(S?Q=S.face:(t("Must specify the name of the font since there is no default value.",A,B),Q="sans-serif"));var oe=o(Q),pe={};return oe?(pe.face=oe.face,pe.weight=oe.weight,pe.style=oe.style,pe.decoration=oe.decoration,pe.size=re,le&&(pe.box=!0),pe):(pe.face=Q,pe.weight=Pe,pe.style=ke,pe.decoration=ee,pe.size=re,le&&(pe.box=!0),pe)},c=function(_,S,A){return S.length===0?'Directive "'+_+'" requires a font as a parameter.':(r[_]=l(S,r[_],A,0,_),r.is_in_header&&(n.formatting[_]=r[_]),null)},h=function(_,S,A){return S.length===0?'Directive "'+_+'" requires a font as a parameter.':(n.formatting[_]=l(S,n.formatting[_],A,0,_),null)},u=function(_,S){var A="";S.forEach(function($){A+=$.token});var B=parseFloat(A);if(isNaN(B)||B===0)return'Directive "'+_+'" requires a number as a parameter.';n.formatting.scale=B},f=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],p=function(_){var S=_.split(/\s+/);if(S.length!==2&&S.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var A=S[0],B=parseInt(S[1],10);if((isNaN(B)||B<35||B>81)&&S[1]&&(B=f.indexOf(S[1].toLowerCase())+35),isNaN(B)||B<35||B>81)return{error:'Expected drum name, received "'+S[1]+'"'};var $={sound:B};return S.length===3&&($.noteHead=S[2]),{key:A,value:$}},g=function(_,S){var A=e.getMeasurement(S);return A.used===0||S.length!==0?{error:'Directive "'+_+'" requires a measurement as a parameter.'}:A.value},m=function(_,S){var A=e.getMeasurement(S);return A.used===0||S.length!==0?'Directive "'+_+'" requires a measurement as a parameter.':(n.formatting[_]=A.value,null)},v=function(_,S,A,B,$){if(A.length!==1||A[0].type!=="number")return'Directive "'+S+'" requires a number as a parameter.';var Y=A[0].intt;return B!==void 0&&Y<B?'Directive "'+S+'" requires a number greater than or equal to '+B+" as a parameter.":$!==void 0&&Y>$?'Directive "'+S+'" requires a number less than or equal to '+$+" as a parameter.":(r[_]=Y,null)},y=function(_,S,A){if(A.length===1&&(A[0].token==="true"||A[0].token==="false"))return r[_]=A[0].token==="true",null;var B=v(_,S,A,0,1);return B!==null?B:(r[_]=r[_]===1,null)},b=function(_,S,A,B){if(A.length!==1)return'Directive "'+S+'" requires one of [ '+B.join(", ")+" ] as a parameter.";for(var $=A[0].token,Y=!1,Q=0;!Y&&Q<B.length;Q++)B[Q]===$&&(Y=!0);return Y?(r[_]=$,null):'Directive "'+S+'" requires one of [ '+B.join(", ")+" ] as a parameter."},w=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],x=["gchord","ptstress","beatstring"],X=["bassvol","chordvol","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc","gchordbars"],k=["program"],N=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],T=["beat"],E=["drone"],M=["portamento"],D=["expand","grace","trim"],j=["drum","chordname"],R=["bassprog","chordprog"],P=function(_,S,A){var B=_.shift().token,$=[];if(w.indexOf(B)>=0)_.length!==0&&t("Unexpected parameter in MIDI "+B,A,0);else if(x.indexOf(B)>=0)_.length!==1?t("Expected one parameter in MIDI "+B,A,0):$.push(_[0].token);else if(X.indexOf(B)>=0)_.length!==1?t("Expected one parameter in MIDI "+B,A,0):_[0].type!=="number"?t("Expected one integer parameter in MIDI "+B,A,0):$.push(_[0].intt);else if(k.indexOf(B)>=0)_.length!==1&&_.length!==2?t("Expected one or two parameters in MIDI "+B,A,0):_[0].type!=="number"||_.length===2&&_[1].type!=="number"?t("Expected integer parameter in MIDI "+B,A,0):($.push(_[0].intt),_.length===2&&$.push(_[1].intt));else if(N.indexOf(B)>=0)_.length!==2?t("Expected two parameters in MIDI "+B,A,0):_[0].type!=="number"||_[1].type!=="number"?t("Expected two integer parameters in MIDI "+B,A,0):($.push(_[0].intt),$.push(_[1].intt));else if(M.indexOf(B)>=0)_.length!==2?t("Expected two parameters in MIDI "+B,A,0):_[0].type!=="alpha"||_[1].type!=="number"?t("Expected one string and one integer parameters in MIDI "+B,A,0):($.push(_[0].token),$.push(_[1].intt));else if(B==="drummap")_.length===2&&_[0].type==="alpha"&&_[1].type==="number"?(S.formatting||(S.formatting={}),S.formatting.midi||(S.formatting.midi={}),S.formatting.midi.drummap||(S.formatting.midi.drummap={}),S.formatting.midi.drummap[_[0].token]=_[1].intt,$=S.formatting.midi.drummap):_.length===3&&_[0].type==="punct"&&_[1].type==="alpha"&&_[2].type==="number"?(S.formatting||(S.formatting={}),S.formatting.midi||(S.formatting.midi={}),S.formatting.midi.drummap||(S.formatting.midi.drummap={}),S.formatting.midi.drummap[_[0].token+_[1].token]=_[2].intt,$=S.formatting.midi.drummap):t("Expected one note name and one integer parameter in MIDI "+B,A,0);else if(D.indexOf(B)>=0)_.length!==3||_[0].type!=="number"||_[1].token!=="/"||_[2].type!=="number"?t("Expected fraction parameter in MIDI "+B,A,0):($.push(_[0].intt),$.push(_[2].intt));else if(T.indexOf(B)>=0)_.length!==4?t("Expected four parameters in MIDI "+B,A,0):_[0].type!=="number"||_[1].type!=="number"||_[2].type!=="number"||_[3].type!=="number"?t("Expected four integer parameters in MIDI "+B,A,0):($.push(_[0].intt),$.push(_[1].intt),$.push(_[2].intt),$.push(_[3].intt));else if(E.indexOf(B)>=0)_.length!==5?t("Expected five parameters in MIDI "+B,A,0):_[0].type!=="number"||_[1].type!=="number"||_[2].type!=="number"||_[3].type!=="number"||_[4].type!=="number"?t("Expected five integer parameters in MIDI "+B,A,0):($.push(_[0].intt),$.push(_[1].intt),$.push(_[2].intt),$.push(_[3].intt),$.push(_[4].intt));else if(k.indexOf(B)>=0)_.length!==1||_.length!==4?t("Expected one or two parameters in MIDI "+B,A,0):_[0].type!=="number"?t("Expected integer parameter in MIDI "+B,A,0):_.length===4?(_[1].token!=="octave"&&t("Expected octave parameter in MIDI "+B,A,0),_[2].token!=="="&&t("Expected octave parameter in MIDI "+B,A,0),_[3].type!=="number"&&t("Expected integer parameter for octave in MIDI "+B,A,0)):($.push(_[0].intt),_.length===4&&$.push(_[3].intt));else if(j.indexOf(B)>=0)if(_.length<2)t("Expected string parameter and at least one integer parameter in MIDI "+B,A,0);else if(_[0].type!=="alpha")t("Expected string parameter and at least one integer parameter in MIDI "+B,A,0);else{var Y=_.shift();for($.push(Y.token);_.length>0;)Y=_.shift(),Y.type!=="number"&&t("Expected integer parameter in MIDI "+B,A,0),$.push(Y.intt)}else if(R.indexOf(B)>=0){if(_.length!==1&&_.length!==2)t("Expected one or two parameters in MIDI "+B,A,0);else if(_[0].type!=="number")t("Expected integer parameter in MIDI "+B,A,0);else if(_.length===2&&_[1].type!=="alpha")t("Expected alpha parameter in MIDI "+B,A,0);else if($.push(_[0].intt),_.length===2){var Q=_[1].token;Q.indexOf("octave=")!=-1?(Q=Q.replace("octave=",""),Q=parseInt(Q),isNaN(Q)?t("Expected octave value in MIDI"+B):(Q<-1&&(t("Expected octave= in MIDI "+B+" to be >= -1 (recv:"+Q+")"),Q=-1),Q>3&&(t("Expected octave= in MIDI "+B+" to be <= 3 (recv:"+Q+")"),Q=3),$.push(Q))):t("Expected octave= in MIDI"+B)}}a.hasBeginMusic()?a.appendElement("midi",-1,-1,{cmd:B,params:$}):(S.formatting.midi===void 0&&(S.formatting.midi={}),S.formatting.midi[B]=$)};Ea.parseFontChangeLine=function(_){_=_.replace(/\$\$/g,"");var S=_.split("$");if(S.length>1&&r.setfont){var A=[];S[0]!==""&&A.push({text:S[0]});for(var B=1;B<S.length;B++)if(S[B][0]==="0")A.push({text:S[B].substring(1).replace(/\x03/g,"$$")});else{var $=parseInt(S[B][0],10);r.setfont[$]?A.push({font:r.setfont[$],text:S[B].substring(1).replace(/\x03/g,"$$")}):A[A.length-1].text+="$"+S[B].replace(/\x03/g,"$$")}return A}return _.replace(/\x03/g,"$$")};var O=["auto","above","below","hidden"];Ea.addDirective=function(_){var S=e.tokenize(_,0,_.length);if(S.length===0||S[0].type!=="alpha")return null;var A=_.substring(_.indexOf(S[0].token)+S[0].token.length);A=e.stripComment(A);var B=S.shift().token.toLowerCase(),$="",Y;switch(B){case"bagpipes":n.formatting.bagpipes=!0;break;case"flatbeams":n.formatting.flatbeams=!0;break;case"jazzchords":n.formatting.jazzchords=!0;break;case"accentAbove":n.formatting.accentAbove=!0;break;case"germanAlphabet":n.formatting.germanAlphabet=!0;break;case"landscape":r.landscape=!0;break;case"papersize":r.papersize=A;break;case"graceslurs":if(S.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(S[0].token==="0"||S[0].token==="false")n.formatting.graceSlurs=!1;else if(S[0].token==="1"||S[0].token==="true")n.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+S[0].token+")";break;case"lineThickness":var Q=L(S);if(Q.value!==void 0&&(n.formatting.lineThickness=Q.value),Q.error)return Q.error;break;case"stretchlast":var re=L(S);if(re.value!==void 0&&(n.formatting.stretchlast=re.value),re.error)return re.error;break;case"titlecaps":r.titlecaps=!0;break;case"titleleft":n.formatting.titleleft=!0;break;case"measurebox":n.formatting.measurebox=!0;break;case"vocal":return b("vocalPosition",B,S,O);case"dynamic":return b("dynamicPosition",B,S,O);case"gchord":return b("chordPosition",B,S,O);case"ornament":return b("ornamentPosition",B,S,O);case"volume":return b("volumePosition",B,S,O);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"stafftopmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return m(B,S);case"voicescale":if(S.length!==1||S[0].type!=="number")return"voicescale requires one float as a parameter";var Pe=S.shift();return r.currentVoice&&(r.currentVoice.scale=Pe.floatt,a.changeVoiceScale(r.currentVoice.scale)),null;case"voicecolor":if(S.length!==1)return"voicecolor requires one string as a parameter";var ke=S.shift();return r.currentVoice&&(r.currentVoice.color=ke.token,a.changeVoiceColor(r.currentVoice.color)),null;case"vskip":var ee=Math.round(g(B,S));return ee.error?ee.error:(a.addSpacing(ee),null);case"scale":u(B,S);break;case"sep":if(S.length===0)a.addSeparator(14,14,85,{startChar:r.iChar,endChar:r.iChar+5});else{var le=e.getMeasurement(S);if(le.used===0)return'Directive "'+B+'" requires 3 numbers: space above, space below, length of line';var Xe=le.value;if(le=e.getMeasurement(S),le.used===0)return'Directive "'+B+'" requires 3 numbers: space above, space below, length of line';var q=le.value;if(le=e.getMeasurement(S),le.used===0||S.length!==0)return'Directive "'+B+'" requires 3 numbers: space above, space below, length of line';var ie=le.value;a.addSeparator(Xe,q,ie,{startChar:r.iChar,endChar:r.iChar+A.length})}break;case"barsperstaff":if($=v("barsperstaff",B,S),$!==null)return $;break;case"staffnonote":if(S.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(S[0].token==="0")r.staffnonote=!0;else if(S[0].token==="1")r.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+S[0].token+")";break;case"printtempo":if($=y("printTempo",B,S),$!==null)return $;break;case"partsbox":if($=y("partsBox",B,S),$!==null)return $;r.partsfont.box=r.partsBox;break;case"freegchord":if($=y("freegchord",B,S),$!==null)return $;break;case"measurenb":case"barnumbers":if($=v("barNumbers",B,S),$!==null)return $;break;case"setbarnb":if(S.length!==1||S[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";r.currBarNumber=a.setBarNumberImmediate(S[0].intt);break;case"keywarn":if(S.length!==1||S[0].type!=="number"||S[0].intt!==1&&S[0].intt!==0)return"Directive "+B+" requires 0 or 1 as a parameter.";r[B]=S[0].intt===1;break;case"begintext":var J="";for(Y=e.nextLine();Y&&Y.indexOf("%%endtext")!==0;){if(tg.startsWith(Y,"%%")){var oe=Y.substring(2);oe=oe.trim()+`
`,J+=oe}else J+=Y.trim()+`
`;Y=e.nextLine()}a.addText(J,{startChar:r.iChar,endChar:r.iChar+J.length+7});break;case"continueall":r.continueall=!0;break;case"beginps":for(Y=e.nextLine();Y&&Y.indexOf("%%endps")!==0;)e.nextLine();t("Postscript ignored",_,0);break;case"deco":A.length>0&&r.ignoredDecorations.push(A.substring(0,A.indexOf(" "))),t("Decoration redefinition ignored",_,0);break;case"text":var pe=e.translateString(A);a.addText(Ea.parseFontChangeLine(pe),{startChar:r.iChar,endChar:r.iChar+A.length+7});break;case"center":var lt=e.translateString(A);a.addCentered(Ea.parseFontChangeLine(lt));break;case"font":break;case"setfont":var Ye=e.tokenize(A,0,A.length);if(Ye.length>=4&&Ye[0].token==="-"&&Ye[1].type==="number"){var gt=parseInt(Ye[1].token);gt>=1&&gt<=9&&(r.setfont||(r.setfont=[]),Ye.shift(),Ye.shift(),r.setfont[gt]=l(Ye,r.setfont[gt],_,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return c(B,S,_);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return h(B,S,_);case"barlabelfont":case"barnumberfont":case"barnumfont":return c("measurefont",S,_);case"staves":case"score":r.score_is_present=!0;for(var Ht=function(En,Zo,ts,wi,e0){(Zo||r.staves.length===0)&&r.staves.push({index:r.staves.length,numVoices:0});var ir=tg.last(r.staves);ts!==void 0&&ir.bracket===void 0&&(ir.bracket=ts),wi!==void 0&&ir.brace===void 0&&(ir.brace=wi),e0&&(ir.connectBarLines="end"),r.voices[En]===void 0&&(r.voices[En]={staffNum:ir.index,index:ir.numVoices},ir.numVoices++)},z=!1,H=!1,G=!1,I=!1,U=!1,te=!1,se=!1,me,ne=function(){if(se=!0,me){var En="start";me.staffNum>0&&(r.staves[me.staffNum-1].connectBarLines==="start"||r.staves[me.staffNum-1].connectBarLines==="continue")&&(En="continue"),r.staves[me.staffNum].connectBarLines=En}};S.length;){var ae=S.shift();switch(ae.token){case"(":z?t("Can't nest parenthesis in %%score",_,ae.start):(z=!0,I=!0);break;case")":!z||I?t("Unexpected close parenthesis in %%score",_,ae.start):z=!1;break;case"[":H?t("Can't nest brackets in %%score",_,ae.start):(H=!0,U=!0);break;case"]":!H||U?t("Unexpected close bracket in %%score",_,ae.start):(H=!1,r.staves[me.staffNum].bracket="end");break;case"{":G?t("Can't nest braces in %%score",_,ae.start):(G=!0,te=!0);break;case"}":!G||te?t("Unexpected close brace in %%score",_,ae.start):(G=!1,r.staves[me.staffNum].brace="end");break;case"|":ne();break;default:for(var De="";(ae.type==="alpha"||ae.type==="number")&&(De+=ae.token,ae.continueId);)ae=S.shift();var Ae=!z||I,de=U?"start":H?"continue":void 0,He=te?"start":G?"continue":void 0;Ht(De,Ae,de,He,se),I=!1,U=!1,te=!1,se=!1,me=r.voices[De],B==="staves"&&ne();break}}break;case"maxstaves":var St=e.getInt(A);St.digits===0?t("Expected number of staves in maxstaves"):St.value>0&&(n.formatting.maxStaves=St.value);break;case"newpage":var Te=e.getInt(A);a.addNewPage(Te.digits===0?-1:Te.value);break;case"abc":var st=A.split(" ");switch(st[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var sr=st.shift();a.addMetaText(B+sr,st.join(" "),{startChar:r.iChar,endChar:r.iChar+A.length+5});break;default:return"Unknown directive: "+B+st[0]}break;case"header":case"footer":var Mt=e.getMeat(A,0,A.length);Mt=A.substring(Mt.start,Mt.end),Mt[0]==='"'&&Mt[Mt.length-1]==='"'&&(Mt=Mt.substring(1,Mt.length-1));var Bt=Mt.split("	"),We={};Bt.length===1?We={left:"",center:Bt[0],right:""}:Bt.length===2?We={left:Bt[0],center:Bt[1],right:""}:We={left:Bt[0],center:Bt[1],right:Bt[2]},Bt.length>3&&t("Too many tabs in "+B+": "+Bt.length+" found.",A,0),a.addMetaTextObj(B,We,{startChar:r.iChar,endChar:r.iChar+_.length});break;case"midi":var Wt=e.tokenize(A,0,A.length,!0);Wt.length>0&&Wt[0].token==="="&&Wt.shift(),Wt.length===0?t("Expected midi command",A,0):P(Wt,n,A);break;case"percmap":var ct=p(A);ct.error?t(ct.error,_,8):(n.formatting.percmap||(n.formatting.percmap={}),n.formatting.percmap[ct.key]=ct.value);break;case"visualtranspose":var es=e.getInt(A);es.digits===0?t("Expected number of half steps in visualTranspose"):r.globalTranspose=es.value;break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":n.formatting[B]=A;break;default:return"Unknown directive: "+B}return null},Ea.globalFormatting=function(_){for(var S in _)if(_.hasOwnProperty(S)){var A=""+_[S],B=e.tokenize(A,0,A.length),$;switch(S){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":c(S,B,A);break;case"scale":u(S,B);break;case"partsbox":$=y("partsBox",S,B),$!==null&&t($),r.partsfont.box=r.partsBox;break;case"freegchord":$=y("freegchord",S,B),$!==null&&t($);break;case"fontboxpadding":(B.length!==1||B[0].type!=="number")&&t('Directive "'+S+'" requires a number as a parameter.'),n.formatting.fontboxpadding=B[0].floatt;break;case"stafftopmargin":(B.length!==1||B[0].type!=="number")&&t('Directive "'+S+'" requires a number as a parameter.'),n.formatting.stafftopmargin=B[0].floatt;break;case"stretchlast":var Y=L(B);if(Y.value!==void 0&&(n.formatting.stretchlast=Y.value),Y.error)return Y.error;break;default:t("Formatting directive unrecognized: ",S,0)}}};function L(_){if(_.length===0)return{value:1};if(_.length===1)if(_[0].type==="number"){if(_[0].floatt>=0||_[0].floatt<=1)return{value:_[0].floatt}}else{if(_[0].token==="false")return{value:0};if(_[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+_[0].token+")"}}})();var Ih=Ea,Fh={};const Qb=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];Fh.pitchIndex=function(e){return Qb.indexOf(e)};Fh.noteName=function(e){return Qb[e]};var nk=Fh,E0=["C","C","D","D","E","F","F","G","G","A","A","B"],T0=["C","D","D","E","E","F","G","G","A","A","B","B"],_0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],j0=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function ak(e,t,r,n){if(!t||t%12===0)return e;for(;t<0;)t+=12;t>11&&(t=t%12);var a=e.match(/^([A-G][b#]?)([^\/]+)?\/?([A-G][b#]?)?(.+)?/);if(!a)return e;var s=a[1],i=a[2],o=a[3],l=a[4],c=E0.indexOf(s);if(c<0&&(c=T0.indexOf(s)),c<0&&(c=_0.indexOf(s)),c<0&&(c=j0.indexOf(s)),c<0)return e;c+=t,c=c%12,r?n?e=j0[c]:e=T0[c]:n?e=_0[c]:e=E0[c];var h=i&&(i.indexOf("dim")>=0||i.indexOf("")>=0);if(h&&e==="A#"&&(e="Bb"),h&&e==="D#"&&(e="Eb"),h&&e==="A"&&(e="B"),h&&e==="D"&&(e="E"),i&&(e+=i),o){var c=E0.indexOf(o);c<0&&(c=T0.indexOf(o)),c<0&&(c=_0.indexOf(o)),c<0&&(c=j0.indexOf(o)),e+="/",c>=0?(c+=t,c=c%12,r?n?e+=j0[c]:e+=T0[c]:n?e+=_0[c]:e+=E0[c]):e+=o}return l&&(e+=l),e}var Jb=ak,Pa={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},ao=null;function sk(){ao={};for(var e=Object.keys(Pa),t=0;t<e.length;t++){var r=Pa[e[t]];ao[e[t].toLowerCase()]=e[t];for(var n=0;n<r.modes.length;n++){var a=r.modes[n].toLowerCase();ao[a]=e[t]}}}function ik(e){ao||sk();var t=e.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!t||!t[2])return e;t=t[1]+t[2];var r=ao[t];return r||e}function ok(e,t){var r=Pa[e];if(!r||t==="")return e;var n=t.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!n)return e;for(var a=n[1],s=0;s<r.modes.length;s++){var i=r.modes[s],o=i.toLowerCase().indexOf(a);if(o!==-1&&o===i.length-a.length)return i.substring(0,i.length-a.length)}return e}function lk(e,t){var r=Pa[e];if(!r)return e;for(;t<0;)t+=12;for(var n=(r.stepsFromC+t)%12,a=0;a<Object.keys(Pa).length;a++){var s=Object.keys(Pa)[a];if(Pa[s].stepsFromC===n)return s}return e}var Zb={relativeMajor:ik,relativeMode:ok,transposeKey:lk},{relativeMajor:ck}=Zb,xa={acc:"sharp",note:"f"},is={acc:"sharp",note:"c"},Ai={acc:"sharp",note:"g"},P0={acc:"sharp",note:"d"},ku={acc:"sharp",note:"A"},rg={acc:"sharp",note:"e"},uk={acc:"sharp",note:"B"},or={acc:"flat",note:"B"},$r={acc:"flat",note:"e"},Pn={acc:"flat",note:"A"},Mi={acc:"flat",note:"d"},Su={acc:"flat",note:"G"},ng={acc:"flat",note:"c"},dk={acc:"flat",note:"F"},fk={"C#":[xa,is,Ai,P0,ku,rg,uk],"F#":[xa,is,Ai,P0,ku,rg],B:[xa,is,Ai,P0,ku],E:[xa,is,Ai,P0],A:[xa,is,Ai],D:[xa,is],G:[xa],C:[],F:[or],Bb:[or,$r],Eb:[or,$r,Pn],Cm:[or,$r,Pn],Ab:[or,$r,Pn,Mi],Db:[or,$r,Pn,Mi,Su],Gb:[or,$r,Pn,Mi,Su,ng],Cb:[or,$r,Pn,Mi,Su,ng,dk],"A#":[or,$r],"B#":[],"D#":[or,$r,Pn],"E#":[or],"G#":[or,$r,Pn,Mi],none:[]};function hk(e){var t=fk[ck(e)];return t?JSON.parse(JSON.stringify(t)):null}var ex=hk,ag=nk,pk=Jb,Nu=ex,Sc={},gk={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},mk=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],vk=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];Sc.keySignature=function(e,t,r,n,a){if(e.clef.type==="perc"||e.clef.type==="none")return{accidentals:Nu(t),root:r,acc:n};a||(a=0),e.localTransposeVerticalMovement=0,e.localTransposePreferFlats=!1;var s=Nu(t);if(!s)return e.key;if(e.localTranspose=(e.globalTranspose?e.globalTranspose:0)+a,!e.localTranspose)return{accidentals:s,root:r,acc:n};if(e.globalTransposeOrigKeySig=s,e.localTranspose%12===0)return e.localTransposeVerticalMovement=e.localTranspose/12*7,{accidentals:s,root:r,acc:n};var i=t[0];t[1]==="b"||t[1]==="#"?(i+=t[1],t=t.substr(2)):t=t.substr(1);var o=gk[i],l=o!==void 0;l||(o=0,i="C",t="");for(var c=o+e.localTranspose;c<0;)c+=12;c>11&&(c=c%12);var h=t[0]==="m"?vk[c]:mk[c],u=h+t,f=Nu(u);(f.length===0||f[0].acc==="flat")&&(e.localTransposePreferFlats=!0);var p=u.charCodeAt(0)-i.charCodeAt(0);return e.localTranspose>0?(p<0||p===0&&(i[1]==="#"||u[1]==="b"))&&(p+=7):e.localTranspose<0&&(p>0||p===0&&(i[1]==="b"||u[1]==="#"))&&(p-=7),e.localTranspose>0?e.localTransposeVerticalMovement=p+Math.floor(e.localTranspose/12)*7:e.localTransposeVerticalMovement=p+Math.ceil(e.localTranspose/12)*7,l?{accidentals:f,root:h[0],acc:h.length>1?h[1]:""}:{accidentals:[],root:r,acc:n}};Sc.chordName=function(e,t){return pk(t,e.localTranspose,e.localTransposePreferFlats,e.freegchord)};var sg=["c","d","e","f","g","a","b"];function yk(e,t,r,n,a){for(var s=sg[(e+49)%7],i=0,o=0;o<n.length;o++)n[o].note.toLowerCase()===s&&(i=Eu[n[o].acc]);for(var l=Eu[r],c=l-i,h=sg[(t+49)%7],u=0,f=0;f<a.accidentals.length;f++)a.accidentals[f].note.toLowerCase()===h&&(u=Eu[a.accidentals[f].acc]);var p=c+u;return p<-2&&(t--,p+=h==="c"||h==="f"?1:2),p>2&&(t++,p-=h==="b"||h==="e"?1:2),[t,p]}var Eu={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},bk={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},xk={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};Sc.note=function(e,t){if(!(!e.localTranspose||e.clef.type==="perc")){var r=t.pitch;if(e.localTransposeVerticalMovement&&(t.pitch=t.pitch+e.localTransposeVerticalMovement,t.name)){var n=t.accidental?t.name.substring(1):t.name,a=t.accidental?t.name[0]:"",s=ag.pitchIndex(n);t.name=a+ag.noteName(s+e.localTransposeVerticalMovement)}if(t.accidental){var i=yk(r,t.pitch,t.accidental,e.globalTransposeOrigKeySig,e.targetKey);t.pitch=i[0],t.accidental=bk[i[1]],t.name&&(t.name=xk[i[1]]+t.name.replace(/[_^=]/g,""))}}};var tx=Sc,ig=Ih,wk=tx,Lt={};(function(){var e,t,r,n;Lt.initialize=function(h,u,f,p,g){e=h,t=u,r=f,n=g},Lt.standardKey=function(h,u,f,p){return wk.keySignature(r,h,u,f,p)};var a={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},s=function(h,u){var f=a[h],p=f?f.mid:0;return p+u};Lt.fixClef=function(h){var u=a[h.type];u&&(h.clefPos=u.pitch,h.type=u.clef)},Lt.deepCopyKey=function(h){var u={accidentals:[],root:h.root,acc:h.acc,mode:h.mode};return h.accidentals.forEach(function(f){u.accidentals.push(Object.assign({},f))}),u};var i={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};Lt.addPosToKey=function(h,u){var f=h.verticalPos;u.accidentals.forEach(function(p){var g=i[p.note];g=g-f,p.verticalPos=g}),u.impliedNaturals&&u.impliedNaturals.forEach(function(p){var g=i[p.note];g=g-f,p.verticalPos=g}),f<-10?(u.accidentals.forEach(function(p){p.verticalPos-=7,(p.verticalPos>=11||p.verticalPos===10&&p.acc==="flat")&&(p.verticalPos-=7),p.note==="A"&&p.acc==="sharp"&&(p.verticalPos-=7),(p.note==="G"||p.note==="F")&&p.acc==="flat"&&(p.verticalPos-=7)}),u.impliedNaturals&&u.impliedNaturals.forEach(function(p){p.verticalPos-=7,(p.verticalPos>=11||p.verticalPos===10&&p.acc==="flat")&&(p.verticalPos-=7),p.note==="A"&&p.acc==="sharp"&&(p.verticalPos-=7),(p.note==="G"||p.note==="F")&&p.acc==="flat"&&(p.verticalPos-=7)})):f<-4?(u.accidentals.forEach(function(p){p.verticalPos-=7,f===-8&&(p.note==="f"||p.note==="g")&&p.acc==="sharp"&&(p.verticalPos-=7)}),u.impliedNaturals&&u.impliedNaturals.forEach(function(p){p.verticalPos-=7,f===-8&&(p.note==="f"||p.note==="g")&&p.acc==="sharp"&&(p.verticalPos-=7)})):f>=7&&(u.accidentals.forEach(function(p){p.verticalPos+=7}),u.impliedNaturals&&u.impliedNaturals.forEach(function(p){p.verticalPos+=7}))},Lt.fixKey=function(h,u){var f=Object.assign({},u);return Lt.addPosToKey(h,f),f};var o=function(h){var u=0,f=h[u++];(f==="^"||f==="_")&&(f=h[u++]);var p=i[f];for(p===void 0&&(p=6);u<h.length;u++)if(h[u]===",")p-=7;else if(h[u]==="'")p+=7;else break;return{mid:p-6,str:h.substring(u)}},l=function(h){for(var u=0;u<h.length;u++)h[u].note==="b"?h[u].note="B":h[u].note==="a"?h[u].note="A":h[u].note==="F"?h[u].note="f":h[u].note==="E"?h[u].note="e":h[u].note==="D"?h[u].note="d":h[u].note==="C"?h[u].note="c":h[u].note==="G"&&h[u].acc==="sharp"?h[u].note="g":h[u].note==="g"&&h[u].acc==="flat"&&(h[u].note="G")};Lt.parseKey=function(h,u){h.length===0&&(h="none");var f=e.tokenize(h,0,h.length),p={};if(f.length===0)return t("Must pass in key signature.",h,0),p;switch(f[0].token){case"HP":ig.addDirective("bagpipes"),r.key={root:"HP",accidentals:[],acc:"",mode:""},p.foundKey=!0,f.shift();break;case"Hp":ig.addDirective("bagpipes"),r.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},p.foundKey=!0,f.shift();break;case"none":r.key={root:"none",accidentals:[],acc:"",mode:""},p.foundKey=!0,f.shift();break;default:var g=e.getKeyPitch(f[0].token);if(g.len>0){p.foundKey=!0;var m="",v="";f[0].token.length>1?f[0].token=f[0].token.substring(1):f.shift();var y=g.token;if(f.length>0){var b=e.getSharpFlat(f[0].token);if(b.len>0&&(f[0].token.length>1?f[0].token=f[0].token.substring(1):f.shift(),y+=b.token,m=b.token),f.length>0){var w=e.getMode(f[0].token);w.len>0&&(f.shift(),y+=w.token,v=w.token)}if(Lt.standardKey(y,g.token,m,0)===void 0)return t("Unsupported key signature: "+y,h,0),p}var x=Lt.deepCopyKey(r.key),X=!u&&r.globalTranspose?-r.globalTranspose:0,k;if(u&&(k=r.globalTransposeOrigKeySig),r.key=Lt.deepCopyKey(Lt.standardKey(y,g.token,m,X)),u&&(r.globalTransposeOrigKeySig=k),r.key.mode=v,x&&r.keywarn!==!1){for(var N,T=0;T<r.key.accidentals.length;T++)for(N=0;N<x.accidentals.length;N++)x.accidentals[N].note&&r.key.accidentals[T].note.toLowerCase()===x.accidentals[N].note.toLowerCase()&&(x.accidentals[N].note=null);for(N=0;N<x.accidentals.length;N++)x.accidentals[N].note&&(r.key.impliedNaturals||(r.key.impliedNaturals=[]),r.key.impliedNaturals.push({acc:"natural",note:x.accidentals[N].note}))}}break}if(f.length===0||(f[0].token==="exp"&&f.shift(),f.length===0)||(f[0].token==="oct"&&f.shift(),f.length===0))return p;var E=e.getKeyAccidentals2(f);if(E.warn&&t(E.warn,h,0),E.accs){p.foundKey||(p.foundKey=!0,r.key={root:"none",acc:"",mode:"",accidentals:[]}),l(E.accs);for(var M=0;M<E.accs.length;M++){for(var D=!1,j=0;j<r.key.accidentals.length&&!D;j++)r.key.accidentals[j].note===E.accs[M].note&&(D=!0,r.key.accidentals[j].acc!==E.accs[M].acc&&(r.key.accidentals[j].acc=E.accs[M].acc,r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(E.accs[M])));if(!D&&(r.key.explicitAccidentals||(r.key.explicitAccidentals=[]),r.key.explicitAccidentals.push(E.accs[M]),r.key.accidentals.push(E.accs[M]),r.key.impliedNaturals))for(var R=0;R<r.key.impliedNaturals.length;R++)r.key.impliedNaturals[R].note===E.accs[M].note&&r.key.impliedNaturals.splice(R,1)}}for(var P;f.length>0;)switch(f[0].token){case"m":case"middle":if(f.shift(),f.length===0)return t("Expected = after middle",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after middle",h,P.start);break}if(f.length===0)return t("Expected parameter after middle=",h,0),p;var O=e.getPitchFromTokens(f);O.warn&&t(O.warn,h,0),O.position&&(r.clef.verticalPos=O.position-6);break;case"transpose":if(f.shift(),f.length===0)return t("Expected = after transpose",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after transpose",h,P.start);break}if(f.length===0)return t("Expected parameter after transpose=",h,0),p;if(f[0].type!=="number"){t("Expected number after transpose",h,f[0].start);break}r.clef.transpose=f[0].intt,f.shift();break;case"stafflines":if(f.shift(),f.length===0)return t("Expected = after stafflines",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after stafflines",h,P.start);break}if(f.length===0)return t("Expected parameter after stafflines=",h,0),p;if(f[0].type!=="number"){t("Expected number after stafflines",h,f[0].start);break}r.clef.stafflines=f[0].intt,f.shift();break;case"staffscale":if(f.shift(),f.length===0)return t("Expected = after staffscale",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after staffscale",h,P.start);break}if(f.length===0)return t("Expected parameter after staffscale=",h,0),p;if(f[0].type!=="number"){t("Expected number after staffscale",h,f[0].start);break}r.clef.staffscale=f[0].floatt,f.shift();break;case"octave":if(f.shift(),f.length===0)return t("Expected = after octave",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after octave",h,P.start);break}if(f.length===0)return t("Expected parameter after octave=",h,0),p;if(f[0].type!=="number"){t("Expected number after octave",h,f[0].start);break}r.octave=f[0].intt,f.shift();break;case"style":if(f.shift(),f.length===0)return t("Expected = after style",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after style",h,P.start);break}if(f.length===0)return t("Expected parameter after style=",h,0),p;switch(f[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":r.style=f[0].token,f.shift();break;default:t("error parsing style element: "+f[0].token,h,f[0].start);break}break;case"clef":if(f.shift(),f.length===0)return t("Expected = after clef",h,0),p;if(P=f.shift(),P.token!=="="){t("Expected = after clef",h,P.start);break}if(f.length===0)return t("Expected parameter after clef=",h,0),p;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var L=f.shift();switch(L.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":L.token="alto";break;case"F":L.token="bass";break;case"G":L.token="treble";break;case"c":L.token="alto";break;case"f":L.token="bass";break;case"g":L.token="treble";break;default:t("Expected clef name. Found "+L.token,h,L.start);break}f.length>0&&f[0].type==="number"&&(L.token+=f[0].token,f.shift()),f.length>1&&(f[0].token==="-"||f[0].token==="+"||f[0].token==="^"||f[0].token==="_")&&f[1].token==="8"&&(L.token+=f[0].token+f[1].token,f.shift(),f.shift()),r.clef={type:L.token,verticalPos:s(L.token,0)},r.currentVoice&&r.currentVoice.transpose!==void 0&&(r.clef.transpose=r.currentVoice.transpose),p.foundClef=!0;break;default:t("Unknown parameter: "+f[0].token,h,f[0].start),f.shift()}return p};var c=function(h){var u=r.voices[h];if(!(r.currentVoice&&r.currentVoice.index===u.index&&r.currentVoice.staffNum===u.staffNum))return r.currentVoice=u,n.setCurrentVoice(u.staffNum,u.index,h)};Lt.parseVoice=function(h,u,f){var p=e.getMeat(h,u,f),g=p.start,m=p.end,v=e.getToken(h,g,m);if(v.length===0){t("Expected a voice id",h,g);return}var y=!1;r.voices[v]===void 0&&(r.voices[v]={},y=!0,r.score_is_present&&t("Can't have an unknown V: id when the %score directive is present",h,g)),g+=v.length,g+=e.eatWhiteSpace(h,g);for(var b={startStaff:y},w=function(O){var L=e.getVoiceToken(h,g,m);L.warn!==void 0?t("Expected value for "+O+" in voice: "+L.warn,h,g):L.err!==void 0?t("Expected value for "+O+" in voice: "+L.err,h,g):L.token.length===0&&h[g]!=='"'?t("Expected value for "+O+" in voice",h,g):b[O]=L.token,g+=L.len},x=function(O,L,_){var S=e.getVoiceToken(h,g,m);S.warn!==void 0?t("Expected value for "+L+" in voice: "+S.warn,h,g):S.err!==void 0?t("Expected value for "+L+" in voice: "+S.err,h,g):S.token.length===0&&h[g]!=='"'?t("Expected value for "+L+" in voice",h,g):(S.token=parseFloat(S.token),r.voices[O][L]=S.token),g+=S.len},X=function(O,L){var _=e.getVoiceToken(h,g,m);if(_.warn!==void 0)t("Expected value for "+O+" in voice: "+_.warn,h,g);else if(_.err!==void 0)t("Expected value for "+O+" in voice: "+_.err,h,g);else if(_.token.length===0&&h[g]!=='"')t("Expected value for "+O+" in voice",h,g);else return _.token;g+=_.len},k=function(O,L){var _={_B:2,_E:9,_b:-10,_e:-3},S=e.getVoiceToken(h,g,m);if(S.warn!==void 0)t("Expected one of (_B, _E, _b, _e) for "+L+" in voice: "+S.warn,h,g);else if(S.token.length===0&&h[g]!=='"')t("Expected one of (_B, _E, _b, _e) for "+L+" in voice",h,g);else{var A=_[S.token];A?r.voices[O][L]=A:t("Expected one of (_B, _E, _b, _e) for "+L+" in voice",h,g)}g+=S.len};g<m;){var N=e.getVoiceToken(h,g,m);if(g+=N.len,N.warn)t("Error parsing voice: "+N.warn,h,g);else{var T=null;switch(N.token){case"clef":case"cl":w("clef");var E=0;b.clef!==void 0&&(b.clef=b.clef.replace(/[',]/g,""),b.clef.indexOf("+16")!==-1&&(E+=14,b.clef=b.clef.replace("+16","")),b.verticalPos=s(b.clef,E));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":case"treble+8":case"treble-8":case"treble^8":case"treble_8":case"treble1":case"treble2":case"treble3":case"treble4":case"treble5":case"bass+8":case"bass-8":case"bass^8":case"bass_8":case"bass+16":case"bass-16":case"bass^16":case"bass_16":case"bass1":case"bass2":case"bass3":case"bass4":case"bass5":case"tenor1":case"tenor2":case"tenor3":case"tenor4":case"tenor5":case"alto1":case"alto2":case"alto3":case"alto4":case"alto5":case"alto+8":case"alto-8":case"alto^8":case"alto_8":var M=0;b.clef=N.token.replace(/[',]/g,""),b.verticalPos=s(b.clef,M),r.voices[v].clef=N.token;break;case"staves":case"stave":case"stv":w("staves");break;case"brace":case"brc":w("brace");break;case"bracket":case"brk":w("bracket");break;case"name":case"nm":w("name");break;case"subname":case"sname":case"snm":w("subname");break;case"merge":b.startStaff=!1;break;case"stem":case"stems":T=e.getVoiceToken(h,g,m),T.warn!==void 0?t("Expected value for stems in voice: "+T.warn,h,g):T.err!==void 0?t("Expected value for stems in voice: "+T.err,h,g):T.token==="up"||T.token==="down"?r.voices[v].stem=T.token:t("Expected up or down for voice stem",h,g),g+=T.len;break;case"up":case"down":r.voices[v].stem=N.token;break;case"middle":case"m":w("verticalPos"),b.verticalPos=o(b.verticalPos).mid;break;case"gchords":case"gch":r.voices[v].suppressChords=!0,T=e.getVoiceToken(h,g,m),T.token==="0"&&(g=g+T.len);break;case"space":case"spc":w("spacing");break;case"scale":x(v,"scale");break;case"score":k(v,"scoreTranspose");break;case"transpose":x(v,"transpose");break;case"stafflines":x(v,"stafflines");break;case"staffscale":x(v,"staffscale");break;case"octave":x(v,"octave");break;case"volume":x(v,"volume");break;case"cue":var D=X("cue");D==="on"?r.voices[v].scale=.6:r.voices[v].scale=1;break;case"style":T=e.getVoiceToken(h,g,m),T.warn!==void 0?t("Expected value for style in voice: "+T.warn,h,g):T.err!==void 0?t("Expected value for style in voice: "+T.err,h,g):T.token==="normal"||T.token==="harmonic"||T.token==="rhythm"||T.token==="x"||T.token==="triangle"?r.voices[v].style=T.token:t("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",h,g),g+=T.len;break}}g+=e.eatWhiteSpace(h,g)}if((b.startStaff||r.staves.length===0)&&(r.staves.push({index:r.staves.length,meter:r.origMeter}),r.score_is_present||(r.staves[r.staves.length-1].numVoices=0)),r.voices[v].staffNum===void 0){r.voices[v].staffNum=r.staves.length-1;var j=0;for(var R in r.voices)r.voices.hasOwnProperty(R)&&r.voices[R].staffNum===r.voices[v].staffNum&&j++;r.voices[v].index=j-1}var P=r.staves[r.voices[v].staffNum];return r.score_is_present||P.numVoices++,b.clef&&(P.clef={type:b.clef,verticalPos:b.verticalPos}),b.spacing&&(P.spacing_below_offset=b.spacing),b.verticalPos&&(P.verticalPos=b.verticalPos),b.name&&(P.name?P.name.push(b.name):P.name=[b.name]),b.subname&&(P.subname?P.subname.push(b.subname):P.subname=[b.subname]),c(v)}})();var zh=Lt,A0=Sn,Hr=Ih,Wr=zh,Xk=function(e,t,r,n,a){this.reset=function(o,l,c,h){Wr.initialize(o,l,c,h,a),Hr.initialize(o,l,c,h,a)},this.reset(e,t,r,n),this.setTitle=function(o,l){r.hasMainTitle?a.addSubtitle(o,{startChar:r.iChar,endChar:r.iChar+l+2}):(a.addMetaText("title",o,{startChar:r.iChar,endChar:r.iChar+l+2}),r.hasMainTitle=!0)},this.setMeter=function(o){if(o=e.stripComment(o),o==="C")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"common_time"};if(o==="C|")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"cut_time"};if(o==="o")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_perfectum"};if(o==="c")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_imperfectum"};if(o==="o.")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(o==="c.")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(o.length===0||o.toLowerCase()==="none")return r.havent_set_length===!0&&(r.default_length=.125,r.havent_set_length=!1),null;var l=e.tokenize(o,0,o.length);try{var c=function(){var m={value:0,num:""},v=l.shift();for(v.token==="("&&(v=l.shift());;){if(v.type!=="number")throw"Expected top number of meter";if(m.value+=parseInt(v.token),m.num+=v.token,l.length===0||l[0].token==="/")return m;if(v=l.shift(),v.token===")"){if(l.length===0||l[0].token==="/")return m;throw"Unexpected paren in meter"}if(v.token!=="."&&v.token!=="+"||(m.num+=v.token,l.length===0))throw"Expected top number of meter";v=l.shift()}return m},h=function(){var m=c();if(l.length===0)return m;var v=l.shift();if(v.token!=="/")throw"Expected slash in meter";if(v=l.shift(),v.type!=="number")throw"Expected bottom number of meter";return m.den=v.token,m.value=m.value/parseInt(m.den),m};if(l.length===0)throw"Expected meter definition in M: line";for(var u={type:"specified",value:[]},f=0;;){var p=h();f+=p.value;var g={num:p.num};if(p.den!==void 0&&(g.den=p.den),u.value.push(g),l.length===0)break}return r.havent_set_length===!0&&(r.default_length=f<.75?.0625:.125,r.havent_set_length=!1),u}catch(m){t(m,o,0)}return null},this.calcTempo=function(o){var l=.25;r.meter&&r.meter.type==="specified"?l=1/parseInt(r.meter.value[0].den):r.origMeter&&r.origMeter.type==="specified"&&(l=1/parseInt(r.origMeter.value[0].den));for(var c=0;c<o.duration;c++)o.duration[c]=l*o.duration[c];return o},this.resolveTempo=function(){r.tempo&&(this.calcTempo(r.tempo),n.metaText.tempo=r.tempo,delete r.tempo)},this.addUserDefinition=function(o,l,c){var h=o.indexOf("=",l);if(h===-1){t("Need an = in a macro definition",o,l);return}var u=A0.strip(o.substring(l,h)),f=A0.strip(o.substring(h+1));if(u.length!==1){t("Macro definitions can only be one character",o,l);return}var p="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(p.indexOf(u)===-1){t("Macro definitions must be H-Y, h-w, or tilde",o,l);return}if(f.length===0){t("Missing macro definition",o,l);return}r.macros===void 0&&(r.macros={}),r.macros[u]=f},this.setDefaultLength=function(o,l,c){var h=o.substring(l,c).replace(/ /g,""),u=h.split("/");if(u.length===2){var f=parseInt(u[0]),p=parseInt(u[1]);p>0&&(r.default_length=f/p,r.havent_set_length=!1)}else u.length===1&&u[0]==="1"&&(r.default_length=1,r.havent_set_length=!1)};var s={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(o,l,c,h){try{var u=e.tokenize(o,l,c);if(u.length===0)throw"Missing parameter in Q: field";var f={startChar:h+l-2,endChar:h+c},p=!0,g=u.shift();if(g.type==="quote"&&(f.preString=g.token,g=u.shift(),u.length===0))return s[f.preString.toLowerCase()]&&(f.bpm=s[f.preString.toLowerCase()],f.suppressBpm=!0),{type:"immediate",tempo:f};if(g.type==="alpha"&&g.token==="C"){if(u.length===0)throw"Missing tempo after C in Q: field";if(g=u.shift(),g.type==="punct"&&g.token==="="){if(u.length===0)throw"Missing tempo after = in Q: field";if(g=u.shift(),g.type!=="number")throw"Expected number after = in Q: field";f.duration=[1],f.bpm=parseInt(g.token)}else if(g.type==="number"){if(f.duration=[parseInt(g.token)],u.length===0)throw"Missing = after duration in Q: field";if(g=u.shift(),g.type!=="punct"||g.token!=="=")throw"Expected = after duration in Q: field";if(u.length===0)throw"Missing tempo after = in Q: field";if(g=u.shift(),g.type!=="number")throw"Expected number after = in Q: field";f.bpm=parseInt(g.token)}else throw"Expected number or equal after C in Q: field"}else if(g.type==="number"){var m=parseInt(g.token);if(u.length===0||u[0].type==="quote")f.duration=[1],f.bpm=m;else{if(p=!1,g=u.shift(),g.type!=="punct"&&g.token!=="/"||(g=u.shift(),g.type!=="number"))throw"Expected fraction in Q: field";var v=parseInt(g.token);for(f.duration=[m/v];u.length>0&&u[0].token!=="="&&u[0].type!=="quote";){if(g=u.shift(),g.type!=="number"||(m=parseInt(g.token),g=u.shift(),g.type!=="punct"&&g.token!=="/")||(g=u.shift(),g.type!=="number"))throw"Expected fraction in Q: field";v=parseInt(g.token),f.duration.push(m/v)}if(g=u.shift(),g.type!=="punct"&&g.token!=="=")throw"Expected = in Q: field";if(g=u.shift(),g.type!=="number")throw"Expected tempo in Q: field";f.bpm=parseInt(g.token)}}else throw"Unknown value in Q: field";if(u.length!==0&&(g=u.shift(),g.type==="quote"&&(f.postString=g.token,g=u.shift()),u.length!==0))throw"Unexpected string at end of Q: field";return r.printTempo===!1&&(f.suppress=!0),{type:p?"delaySet":"immediate",tempo:f}}catch(y){return t(y,o,l),{type:"none"}}},this.letter_to_inline_header=function(o,l,c){var h=!1,u=e.eatWhiteSpace(o,l);if(l+=u,o.length>=l+5&&o[l]==="["&&o[l+2]===":"){var f=o.indexOf("]",l),p=r.iChar+l,g=r.iChar+f+1;switch(o.substring(l,l+3)){case"[I:":var m=Hr.addDirective(o.substring(l+3,f));return m&&t(m,o,l),[f-l+1+u];case"[M:":var v=this.setMeter(o.substring(l+3,f));return a.hasBeginMusic()&&v?a.appendStartingElement("meter",p,g,v):r.meter=v,[f-l+1+u];case"[K:":var y=Wr.parseKey(o.substring(l+3,f),!0);return y.foundClef&&a.hasBeginMusic()&&a.appendStartingElement("clef",p,g,r.clef),y.foundKey&&a.hasBeginMusic()&&a.appendStartingElement("key",p,g,Wr.fixKey(r.clef,r.key)),[f-l+1+u];case"[P:":var b=Hr.parseFontChangeLine(o.substring(l+3,f));return c||n.lines.length<=n.lineNum?r.partForNextLine={title:b,startChar:p,endChar:g}:a.appendElement("part",p,g,{title:b}),[f-l+1+u];case"[L:":return this.setDefaultLength(o,l+3,f),[f-l+1+u];case"[Q:":if(f>0){var w=this.setTempo(o,l+3,f,r.iChar);return w.type==="delaySet"?a.hasBeginMusic()?a.appendElement("tempo",p,g,this.calcTempo(w.tempo)):r.tempoForNextLine=["tempo",p,g,this.calcTempo(w.tempo)]:w.type==="immediate"&&(!c&&a.hasBeginMusic()?a.appendElement("tempo",p,g,w.tempo):r.tempoForNextLine=["tempo",p,g,w.tempo]),[f-l+1+u,o[l+1],o.substring(l+3,f)]}break;case"[V:":if(f>0)return h=Wr.parseVoice(o,l+3,f),[f-l+1+u,o[l+1],o.substring(l+3,f),h];break;case"[r:":return[f-l+1+u]}}return[0]},this.letter_to_body_header=function(o,l){var c=!1;if(o.length>=l+3)switch(o.substring(l,l+2)){case"I:":var h=Hr.addDirective(o.substring(l+2));return h&&t(h,o,l),[o.length];case"M:":var u=this.setMeter(o.substring(l+2));return a.hasBeginMusic()&&u&&a.appendStartingElement("meter",r.iChar+l,r.iChar+o.length,u),[o.length];case"K:":var f=Wr.parseKey(o.substring(l+2),a.hasBeginMusic());return f.foundClef&&a.hasBeginMusic()&&r.keywarn!==!1&&a.appendStartingElement("clef",r.iChar+l,r.iChar+o.length,r.clef),f.foundKey&&a.hasBeginMusic()&&r.keywarn!==!1&&a.appendStartingElement("key",r.iChar+l,r.iChar+o.length,Wr.fixKey(r.clef,r.key)),[o.length];case"P:":return a.hasBeginMusic()&&a.appendElement("part",r.iChar+l,r.iChar+o.length,{title:o.substring(l+2)}),[o.length];case"L:":return this.setDefaultLength(o,l+2,o.length),[o.length];case"Q:":var p=o.indexOf("",l+2);p===-1&&(p=o.length);var g=this.setTempo(o,l+2,p,r.iChar);return g.type==="delaySet"?a.appendElement("tempo",r.iChar+l,r.iChar+o.length,this.calcTempo(g.tempo)):g.type==="immediate"&&a.appendElement("tempo",r.iChar+l,r.iChar+o.length,g.tempo),[p,o[l],A0.strip(o.substring(l+2))];case"V:":return c=Wr.parseVoice(o,l+2,o.length),[o.length,o[l],A0.strip(o.substring(l+2)),c]}return[0]};var i={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(o){var l=i[o[0]],c=o.length-2,h=e.translateString(e.stripComment(o.substring(2)));if(l==="unalignedWords"||l==="notes")a.addMetaTextArray(l,Hr.parseFontChangeLine(h),{startChar:r.iChar,endChar:r.iChar+o.length});else if(l!==void 0)a.addMetaText(l,Hr.parseFontChangeLine(h),{startChar:r.iChar,endChar:r.iChar+o.length});else{var u=r.iChar,f=u+o.length;switch(o[0]){case"H":for(a.addMetaTextArray("history",Hr.parseFontChangeLine(h),{startChar:r.iChar,endChar:r.iChar+o.length}),o=e.peekLine();o&&o[1]!==":";)e.nextLine(),a.addMetaTextArray("history",Hr.parseFontChangeLine(e.translateString(e.stripComment(o))),{startChar:r.iChar,endChar:r.iChar+o.length}),o=e.peekLine();break;case"K":this.resolveTempo();var p=Wr.parseKey(o.substring(2),!1);!r.is_in_header&&a.hasBeginMusic()&&r.keywarn!==!1&&(p.foundClef&&a.appendStartingElement("clef",u,f,r.clef),p.foundKey&&a.appendStartingElement("key",u,f,Wr.fixKey(r.clef,r.key))),r.is_in_header=!1;break;case"L":this.setDefaultLength(o,2,o.length);break;case"M":r.origMeter=r.meter=this.setMeter(o.substring(2));break;case"P":r.is_in_header?a.addMetaText("partOrder",Hr.parseFontChangeLine(h),{startChar:r.iChar,endChar:r.iChar+o.length}):r.partForNextLine={title:h,startChar:u,endChar:f};break;case"Q":var g=this.setTempo(o,2,o.length,r.iChar);g.type==="delaySet"?r.tempo=g.tempo:g.type==="immediate"&&(n.metaText.tempo?r.tempoForNextLine=["tempo",u,f,g.tempo]:n.metaText.tempo=g.tempo);break;case"T":r.titlecaps&&(h=h.toUpperCase()),this.setTitle(Hr.parseFontChangeLine(e.theReverser(h)),c);break;case"U":this.addUserDefinition(o,2,o.length);break;case"V":if(Wr.parseVoice(o,2,o.length),!r.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":t("Ignored header",o,0);break;default:return{regular:!0}}}return{}}},Ck=Xk,vr={};vr.legalAccents=["trill","trillh","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];vr.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];vr.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];vr.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];vr.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];vr.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";vr.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];vr.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};vr.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};vr.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};vr.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var og=zh,rx=tx,qe,tt,F,Ar,_r,Vi,{legalAccents:lg,volumeDecorations:cg,dynamicDecorations:ug,accentPseudonyms:dg,accentDynamicPseudonyms:fg,nonDecorations:kk,durations:Sk,pitches:Nk,rests:Ek,accMap:hg,tripletQ:Tk}=vr,$h=function(e,t,r,n,a,s){qe=e,tt=t,F=r,Ar=n,_r=a,Vi=s,this.lineContinuation=!1},pg=function(e,t,r){if(e.inTie[t]===void 0)return!1;var n=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;return!!(e.inTie[t][n]&&(r.pitches!==void 0||r.rest.type!=="spacer"))},W={};$h.prototype.parseMusic=function(e){Vi.resolveTempo(),F.is_in_header=!1;for(var t=0,r=F.iChar;qe.isWhiteSpace(e[t])&&t<e.length;)t++;if(!(t===e.length||e[t]==="%")){var n=F.start_new_line;F.continueall===void 0?F.start_new_line=!0:F.start_new_line=!1;var a=0,s=Vi.letter_to_body_header(e,t);s[0]>0&&(t+=s[0],s[1]==="V"&&this.startNewLine());for(var i=0;t<e.length;){var o=t;if(e[t]==="%")break;var l=Vi.letter_to_inline_header(e,t,n);if(l[0]>0)t+=l[0],l[1]==="V"&&(n=!0);else{(!_r.hasBeginMusic()||n&&!this.lineContinuation)&&(this.startNewLine(),n=!1);for(var c;;)if(c=qe.eatWhiteSpace(e,t),c>0&&(t+=c),t>0&&e[t-1]===""&&(c=Vi.letter_to_body_header(e,t),c[0]>0&&(c[1]==="V"&&this.startNewLine(),t=c[0],F.start_new_line=!1)),c=Ak(e,t),c[0]>0&&(t+=c[0]),c=_k(e,t),c[0]>0){W.chord||(W.chord=[]);var h=qe.translateString(c[1]);h=h.replace(/;/g,`
`);for(var u=!1,f=0;f<W.chord.length;f++)W.chord[f].position===c[2]&&(u=!0,W.chord[f].name+=`
`+h);u===!1&&(c[2]===null&&c[3]?W.chord.push({name:h,rel_position:c[3]}):W.chord.push({name:h,position:c[2]})),t+=c[0];var p=qe.skipWhiteSpace(e.substring(t));p>0&&(W.force_end_beam_last=!0),t+=p}else if(kk.indexOf(e[t])===-1?c=mg(e,t):c=[0],c[0]>0)c[1]===null?t+1<e.length&&this.startNewLine():c[1].length>0&&(c[1].indexOf("style=")===0?W.style=c[1].substr(6):(W.decoration===void 0&&(W.decoration=[]),c[1]==="beambr1"?W.beambr=1:c[1]==="beambr2"?W.beambr=2:W.decoration.push(c[1]))),t+=c[0];else if(c=jk(e,t),c[0]>0)W.gracenotes=c[1],t+=c[0];else break;if(c=Mk(e,t),c[0]>0){i=0,W.gracenotes!==void 0&&(W.rest={type:"spacer"},W.duration=.125,F.addFormattingOptions(W,Ar.formatting,"note"),_r.appendElement("note",r+t,r+t+c[0],W),F.measureNotEmpty=!0,W={});var g={type:c[1]};g.type.length===0?tt("Unknown bar type",e,t):(F.inEnding&&g.type!=="bar_thin"&&(g.endEnding=!0,F.inEnding=!1),c[2]&&(g.startEnding=c[2],F.inEnding&&(g.endEnding=!0),F.inEnding=!0,c[1]==="bar_right_repeat"?F.restoreStartEndingHoldOvers():F.duplicateStartEndingHoldOvers()),W.decoration!==void 0&&(g.decoration=W.decoration),W.chord!==void 0&&(g.chord=W.chord),g.startEnding&&F.barFirstEndingNum===void 0?F.barFirstEndingNum=F.currBarNumber:g.startEnding&&g.endEnding&&F.barFirstEndingNum?F.currBarNumber=F.barFirstEndingNum:g.endEnding&&(F.barFirstEndingNum=void 0),g.type!=="bar_invisible"&&F.measureNotEmpty&&nf()&&(F.currBarNumber++,F.barNumbers&&F.currBarNumber%F.barNumbers===0&&(g.barNumber=F.currBarNumber)),F.addFormattingOptions(W,Ar.formatting,"bar"),_r.appendElement("bar",r+o,r+t+c[0],g),F.measureNotEmpty=!1,W={}),t+=c[0]}else if(e[t]==="&")c=Pk(e,t),c[0]>0&&(_r.appendElement("overlay",r,r+1,{}),t+=1,i++);else{if(c=Bk(e,t),c.consumed>0&&(c.startSlur!==void 0&&(W.startSlur=c.startSlur),c.dottedSlur&&(W.dottedSlur=!0),c.triplet!==void 0&&(a>0?tt("Can't nest triplets",e,t):(W.startTriplet=c.triplet,W.tripletMultiplier=c.tripletQ/c.triplet,W.tripletR=c.num_notes,a=c.num_notes===void 0?c.triplet:c.num_notes)),t+=c.consumed),e[t]==="["){t++;for(var m=null,v=!1,y=!1;!y;){var b=mg(e,t);b[0]>0&&(t+=b[0]);var w=rf(e,t,{},!1);if(w!==null&&w.pitch!==void 0)b[0]>0&&b[1].indexOf("style=")!==0&&(W.decoration===void 0&&(W.decoration=[]),W.decoration.push(b[1])),w.end_beam&&(W.end_beam=!0,delete w.end_beam),W.pitches===void 0?(W.duration=w.duration,W.pitches=[w]):W.pitches.push(w),delete w.duration,b[0]>0&&b[1].indexOf("style=")===0&&(W.pitches[W.pitches.length-1].style=b[1].substr(6)),F.inTieChord[W.pitches.length]&&(w.endTie=!0,F.inTieChord[W.pitches.length]=void 0),w.startTie&&(F.inTieChord[W.pitches.length]=!0),t=w.endChar,delete w.endChar;else if(e[t]===" ")tt("Spaces are not allowed in chords",e,t),t++;else{if(t<e.length&&e[t]==="]"){t++,F.next_note_duration!==0&&(W.duration=W.duration*F.next_note_duration,F.next_note_duration=0),pg(F,i,W)&&(W.pitches.forEach(function(D){D.endTie=!0}),Bi(F,i,!1)),a>0&&!(W.rest&&W.rest.type==="spacer")&&(a--,a===0&&(W.endTriplet=!0));for(var x=!1;t<e.length&&!x;){switch(e[t]){case" ":case"	":so(W);break;case")":W.endSlur===void 0?W.endSlur=1:W.endSlur++;break;case"-":W.pitches.forEach(function(D){D.startTie={}}),Bi(F,i,!0);break;case">":case"<":var X=nx(e,t);t+=X[0]-1,F.next_note_duration=X[2],m?m=m*X[1]:m=X[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var k=qe.getFraction(e,t);m=k.value,t=k.index;var N=e[t];N===" "&&(v=!0),N==="-"||N===")"||N===" "||N==="<"||N===">"?t--:x=!0;break;case"0":m=0;break;default:x=!0;break}x||t++}}else tt("Expected ']' to end the chords",e,t);W.pitches!==void 0&&(m!==null&&(W.duration=W.duration*m,v&&so(W)),F.addFormattingOptions(W,Ar.formatting,"note"),_r.appendElement("note",r+o,r+t,W),F.measureNotEmpty=!0,W={}),y=!0}}}else{var T={},E=rf(e,t,T,!0);if(T.endTie!==void 0&&Bi(F,i,!0),E!==null){E.pitch!==void 0?(W.pitches=[{}],E.accidental!==void 0&&(W.pitches[0].accidental=E.accidental),W.pitches[0].pitch=E.pitch,W.pitches[0].name=E.name,(E.midipitch||E.midipitch===0)&&(W.pitches[0].midipitch=E.midipitch),E.endSlur!==void 0&&(W.pitches[0].endSlur=E.endSlur),E.endTie!==void 0&&(W.pitches[0].endTie=E.endTie),E.startSlur!==void 0&&(W.pitches[0].startSlur=E.startSlur),W.startSlur!==void 0&&(W.pitches[0].startSlur=W.startSlur),W.dottedSlur!==void 0&&(W.pitches[0].dottedSlur=!0),E.startTie!==void 0&&(W.pitches[0].startTie=E.startTie),W.startTie!==void 0&&(W.pitches[0].startTie=W.startTie)):(W.rest=E.rest,E.rest.type==="multimeasure"&&nf()&&(F.currBarNumber+=E.rest.text-1),E.endSlur!==void 0&&(W.endSlur=E.endSlur),E.endTie!==void 0&&(W.rest.endTie=E.endTie),E.startSlur!==void 0&&(W.startSlur=E.startSlur),E.startTie!==void 0&&(W.rest.startTie=E.startTie),W.startTie!==void 0&&(W.rest.startTie=W.startTie)),E.chord!==void 0&&(W.chord=E.chord),E.duration!==void 0&&(W.duration=E.duration),E.decoration!==void 0&&(W.decoration=E.decoration),E.graceNotes!==void 0&&(W.graceNotes=E.graceNotes),delete W.startSlur,delete W.dottedSlur,pg(F,i,W)&&(W.pitches!==void 0?W.pitches[0].endTie=!0:W.rest.type!=="spacer"&&(W.rest.endTie=!0),Bi(F,i,!1)),(E.startTie||W.startTie)&&Bi(F,i,!0),t=E.endChar,a>0&&!(E.rest&&E.rest.type==="spacer")&&(a--,a===0&&(W.endTriplet=!0)),E.end_beam&&so(W),W.rest&&W.rest.type==="rest"&&W.duration===1&&gg(F)<=1&&(W.rest.type="whole",W.duration=gg(F)),W.duration<1&&Sk.indexOf(W.duration)===-1&&W.duration!==0&&(!W.rest||W.rest.type!=="spacer")&&tt("Duration not representable: "+e.substring(o,t),e,t),F.addFormattingOptions(W,Ar.formatting,"note");var M=_r.appendElement("note",r+o,r+t,W);M||(this.startNewLine(),_r.appendElement("note",r+o,r+t,W)),F.measureNotEmpty=!0,W={}}}t===o&&(e[t]!==" "&&e[t]!=="`"&&tt("Unknown character ignored",e,t),t++)}}}this.lineContinuation=e.indexOf("")>=0||s[0]>0,this.lineContinuation||(W={})}};var Bi=function(e,t,r){var n=e.currentVoice?e.currentVoice.staffNum*100+e.currentVoice.index:0;e.inTie[t]===void 0&&(e.inTie[t]=[]),e.inTie[t][n]=r},_k=function(e,t){if(e[t]==='"'){var r=qe.getBrackettedSubstring(e,t,5);if(r[2]||tt("Missing the closing quote while parsing the chord symbol",e,t),r[0]>0&&r[1].length>0&&r[1][0]==="^")r[1]=r[1].substring(1),r[2]="above";else if(r[0]>0&&r[1].length>0&&r[1][0]==="_")r[1]=r[1].substring(1),r[2]="below";else if(r[0]>0&&r[1].length>0&&r[1][0]==="<")r[1]=r[1].substring(1),r[2]="left";else if(r[0]>0&&r[1].length>0&&r[1][0]===">")r[1]=r[1].substring(1),r[2]="right";else if(r[0]>0&&r[1].length>0&&r[1][0]==="@"){r[1]=r[1].substring(1);var n=qe.getFloat(r[1]);if(n.digits===0)return tt("Missing first position in absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;if(r[1]=r[1].substring(n.digits),r[1][0]!==",")return tt("Missing comma absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;r[1]=r[1].substring(1);var a=qe.getFloat(r[1]);if(a.digits===0)return tt("Missing second position in absolutely positioned annotation.",e,t),r[1]=r[1].replace("@",""),r[2]="above",r;r[1]=r[1].substring(a.digits);var s=qe.skipWhiteSpace(r[1]);r[1]=r[1].substring(s),r[2]=null,r[3]={x:n.value,y:a.value}}else F.freegchord!==!0&&(r[1]=r[1].replace(/([ABCDEFG0-9])b/g,"$1"),r[1]=r[1].replace(/([ABCDEFG0-9])#/g,"$1"),r[1]=r[1].replace(/^([ABCDEFG])([]?)o([^A-Za-z])/g,"$1$2$3"),r[1]=r[1].replace(/^([ABCDEFG])([]?)o$/g,"$1$2"),r[1]=r[1].replace(/^([ABCDEFG])([]?)0([^A-Za-z])/g,"$1$2$3"),r[1]=r[1].replace(/^([ABCDEFG])([]?)\^([^A-Za-z])/g,"$1$2$3")),r[2]="default",r[1]=rx.chordName(F,r[1]);return r}return[0,""]},jk=function(e,t){if(e[t]==="{"){var r=qe.getBrackettedSubstring(e,t,1,"}");r[2]||tt("Missing the closing '}' while parsing grace note",e,t),e[t+r[0]]===")"&&(r[0]++,r[1]+=")");for(var n=[],a=0,s=!1;a<r[1].length;){var i=!1;r[1][a]==="/"&&(i=!0,a++);var o=rf(r[1],a,{},!1);o!==null?(o.duration=o.duration/(F.default_length*8),i&&(o.acciaccatura=!0),o.rest?tt("Rests not allowed as grace notes '"+r[1][a]+"' while parsing grace note",e,t):n.push(o),s&&(o.endTie=!0,s=!1),o.startTie&&(s=!0),a=o.endChar,delete o.endChar,o.end_beam&&(o.endBeam=!0,delete o.end_beam)):(r[1][a]===" "?n.length>0&&(n[n.length-1].endBeam=!0):tt("Unknown character '"+r[1][a]+"' while parsing grace note",e,t),a++)}if(n.length)return[r[0],n]}return[0]};function Pk(e,t){if(e[t]==="&"){for(var r=t;e[t]&&e[t]!==":"&&e[t]!=="|";)t++;return[t-r,e.substring(r+1,t)]}return[0]}function gg(e){var t=e.origMeter;return!t||t.type!=="specified"||!t.value||t.value.length===0?1:parseInt(t.value[0].num,10)/parseInt(t.value[0].den,10)}var mg=function(e,t){var r=F.macros[e[t]];if(r!==void 0)return(r[0]==="!"||r[0]==="+")&&(r=r.substring(1)),(r[r.length-1]==="!"||r[r.length-1]==="+")&&(r=r.substring(0,r.length-1)),lg.includes(r)?[1,r]:cg.includes(r)?(F.volumePosition==="hidden"&&(r=""),[1,r]):ug.includes(r)?(F.dynamicPosition==="hidden"&&(r=""),[1,r]):(F.ignoredDecorations.includes(r)||tt("Unknown macro: "+r,e,t),[1,""]);switch(e[t]){case".":if(e[t+1]==="("||e[t+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var n=qe.getBrackettedSubstring(e,t,5);if(n[1].length>1&&(n[1][0]==="^"||n[1][0]==="_")&&(n[1]=n[1].substring(1)),lg.includes(n[1]))return n;if(cg.includes(n[1]))return F.volumePosition==="hidden"&&(n[1]=""),n;if(ug.includes(n[1]))return F.dynamicPosition==="hidden"&&(n[1]=""),n;var a=dg.findIndex(function(s){return n[1]===s[0]});return a>=0?(n[1]=dg[a][1],n):(a=fg.findIndex(function(s){return n[1]===s[0]}),a>=0?(n[1]=fg[a][1],F.dynamicPosition==="hidden"&&(n[1]=""),n):e[t]==="!"&&(n[0]===1||e[t+n[0]-1]!=="!")?[1,null]:(tt("Unknown decoration: "+n[1],e,t),n[1]="",n));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"];case"t":return[1,"trillh"]}return[0,0]},Ak=function(e,t){for(var r=t;qe.isWhiteSpace(e[t]);)t++;return[t-r]},Mk=function(e,t){var r=qe.getBarLine(e,t);if(r.len===0)return[0,""];if(r.warn)return tt(r.warn,e,t),[r.len,""];for(var n=0;n<e.length&&e[t+r.len+n]===" ";n++);var a=r.len;if(e[t+r.len+n]==="["&&(r.len+=n+1),e[t+r.len]==='"'&&e[t+r.len-1]==="["){var s=qe.getBrackettedSubstring(e,t+r.len,5);return[r.len+s[0],r.token,s[1]]}var i=qe.getTokenOf(e.substring(t+r.len),"1234567890-,");return i.len===0||i.token[0]==="-"?[a,r.token]:[r.len+i.len,r.token,i.token]},Bk=function(e,t){var r={},n=t;for(e[t]==="."&&e[t+1]==="("&&(r.dottedSlur=!0,t++);e[t]==="("||qe.isWhiteSpace(e[t]);)e[t]==="("&&(t+1<e.length&&e[t+1]>="2"&&e[t+1]<="9"?(r.triplet!==void 0?tt("Can't nest triplets",e,t):(r.triplet=e[t+1]-"0",r.tripletQ=Tk[r.triplet],r.num_notes=r.triplet,t+2<e.length&&e[t+2]===":"&&(t+3<e.length&&e[t+3]===":"?t+4<e.length&&e[t+4]>="1"&&e[t+4]<="9"?(r.num_notes=e[t+4]-"0",t+=3):tt("expected number after the two colons after the triplet to mark the duration",e,t):t+3<e.length&&e[t+3]>="1"&&e[t+3]<="9"?(r.tripletQ=e[t+3]-"0",t+4<e.length&&e[t+4]===":"?t+5<e.length&&e[t+5]>="1"&&e[t+5]<="9"&&(r.num_notes=e[t+5]-"0",t+=4):t+=2):tt("expected number after the triplet to mark the duration",e,t))),t++):r.startSlur===void 0?r.startSlur=1:r.startSlur++),t++;return r.consumed=t-n,r};$h.prototype.startNewLine=function(){var e={startChar:-1,endChar:-1};F.partForNextLine.title&&(e.part=F.partForNextLine),e.clef=F.currentVoice&&F.staves[F.currentVoice.staffNum].clef!==void 0?Object.assign({},F.staves[F.currentVoice.staffNum].clef):Object.assign({},F.clef);var t=F.currentVoice?F.currentVoice.scoreTranspose:0;if(e.key=og.standardKey(F.key.root+F.key.acc+F.key.mode,F.key.root,F.key.acc,t),e.key.mode=F.key.mode,F.key.impliedNaturals&&(e.key.impliedNaturals=F.key.impliedNaturals),F.key.explicitAccidentals)for(var r=0;r<F.key.explicitAccidentals.length;r++){for(var n=!1,a=0;a<e.key.accidentals.length;a++)e.key.accidentals[a].note===F.key.explicitAccidentals[r].note&&(e.key.accidentals[a].acc=F.key.explicitAccidentals[r].acc,n=!0);n||e.key.accidentals.push(F.key.explicitAccidentals[r])}if(F.targetKey=e.key,e.key.explicitAccidentals&&delete e.key.explicitAccidentals,og.addPosToKey(e.clef,e.key),F.meter!==null?(F.currentVoice?(F.staves.forEach(function(l){l.meter=F.meter}),e.meter=F.staves[F.currentVoice.staffNum].meter,F.staves[F.currentVoice.staffNum].meter=null):e.meter=F.meter,F.meter=null):F.currentVoice&&F.staves[F.currentVoice.staffNum].meter&&(e.meter=F.staves[F.currentVoice.staffNum].meter,F.staves[F.currentVoice.staffNum].meter=null),F.currentVoice&&F.currentVoice.name&&(e.name=F.currentVoice.name),F.vocalfont&&(e.vocalfont=F.vocalfont),F.tripletfont&&(e.tripletfont=F.tripletfont),F.gchordfont&&(e.gchordfont=F.gchordfont),F.style&&(e.style=F.style),F.currentVoice){var s=F.staves[F.currentVoice.staffNum];s.brace&&(e.brace=s.brace),s.bracket&&(e.bracket=s.bracket),s.connectBarLines&&(e.connectBarLines=s.connectBarLines),s.name&&(e.name=s.name[F.currentVoice.index]),s.subname&&(e.subname=s.subname[F.currentVoice.index]),F.currentVoice.stem&&(e.stem=F.currentVoice.stem),F.currentVoice.stafflines&&(e.stafflines=F.currentVoice.stafflines),F.currentVoice.staffscale&&(e.staffscale=F.currentVoice.staffscale),F.currentVoice.scale&&(e.scale=F.currentVoice.scale),F.currentVoice.color&&(e.color=F.currentVoice.color),F.currentVoice.style&&(e.style=F.currentVoice.style),F.currentVoice.transpose&&(e.clef.transpose=F.currentVoice.transpose),e.currentVoice=F.currentVoice;for(var i=Object.keys(F.voices),o=0;o<i.length;o++)e.currentVoice.staffNum===F.voices[i[o]].staffNum&&e.currentVoice.index===F.voices[i[o]].index&&(e.currentVoiceName=i[o])}F.barNumbers===0&&nf()&&F.currBarNumber!==1&&(e.barNumber=F.currBarNumber),_r.startNewLine(e),F.key.impliedNaturals&&delete F.key.impliedNaturals,F.partForNextLine={},F.tempoForNextLine.length===4&&_r.appendElement(F.tempoForNextLine[0],F.tempoForNextLine[1],F.tempoForNextLine[2],F.tempoForNextLine[3]),F.tempoForNextLine=[]};var so=function(e){return e.duration!==void 0&&e.duration<.25&&(e.end_beam=!0),e},rf=function(e,t,r,n){var a=function(f){return f==="octave"||f==="duration"||f==="Zduration"||f==="broken_rhythm"||f==="end_slur"},s;e[t]==="."&&e[t+1]==="-"&&(s=!0,t++);for(var i="startSlur",o=!1;;){switch(e[t]){case"(":if(i==="startSlur")r.startSlur===void 0?r.startSlur=1:r.startSlur++;else return a(i)?(r.endChar=t,r):null;break;case")":if(a(i))r.endSlur===void 0?r.endSlur=1:r.endSlur++;else return null;break;case"^":if(i==="startSlur")r.accidental="sharp",i="sharp2";else if(i==="sharp2")r.accidental="dblsharp",i="pitch";else return a(i)?(r.endChar=t,r):null;break;case"_":if(i==="startSlur")r.accidental="flat",i="flat2";else if(i==="flat2")r.accidental="dblflat",i="pitch";else return a(i)?(r.endChar=t,r):null;break;case"=":if(i==="startSlur")r.accidental="natural",i="pitch";else return a(i)?(r.endChar=t,r):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(i==="startSlur"||i==="sharp2"||i==="flat2"||i==="pitch"){if(r.pitch=Nk[e[t]],r.pitch+=7*(F.currentVoice&&F.currentVoice.octave!==void 0?F.currentVoice.octave:F.octave),r.name=e[t],r.accidental&&(r.name=hg[r.accidental]+r.name),rx.note(F,r),i="octave",n&&F.next_note_duration!==0?(r.duration=F.default_length*F.next_note_duration,F.next_note_duration=0,o=!0):r.duration=F.default_length,F.clef&&F.clef.type==="perc"||F.currentVoice&&F.currentVoice.clef==="perc"){var l=e[t];r.accidental&&(l=hg[r.accidental]+l),Ar.formatting&&Ar.formatting.midi&&Ar.formatting.midi.drummap&&(r.midipitch=Ar.formatting.midi.drummap[l])}}else return a(i)?(r.endChar=t,r):null;break;case",":if(i==="octave")r.pitch-=7,r.name+=",";else return a(i)?(r.endChar=t,r):null;break;case"'":if(i==="octave")r.pitch+=7,r.name+="'";else return a(i)?(r.endChar=t,r):null;break;case"x":case"X":case"y":case"z":case"Z":if(i==="startSlur")r.rest={type:Ek[e[t]]},delete r.accidental,delete r.startSlur,delete r.startTie,delete r.endSlur,delete r.endTie,delete r.end_beam,delete r.grace_notes,r.rest.type.indexOf("multimeasure")>=0?(r.duration=Ar.getBarLength(),r.rest.text=1,i="Zduration"):(n&&F.next_note_duration!==0?(r.duration=F.default_length*F.next_note_duration,F.next_note_duration=0,o=!0):r.duration=F.default_length,i="duration");else return a(i)?(r.endChar=t,r):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(i==="octave"||i==="duration"){var c=qe.getFraction(e,t);for(r.duration=r.duration*c.value,r.endChar=c.index;c.index<e.length&&(qe.isWhiteSpace(e[c.index])||e[c.index]==="-");)e[c.index]==="-"?r.startTie={}:r=so(r),c.index++;t=c.index-1,i="broken_rhythm"}else if(i==="sharp2")r.accidental="quartersharp",i="pitch";else if(i==="flat2")r.accidental="quarterflat",i="pitch";else if(i==="Zduration"){var h=qe.getNumber(e,t);return r.duration=h.num*Ar.getBarLength(),r.rest.text=h.num,r.endChar=h.index,r}else return null;break;case"-":if(i==="startSlur")_r.addTieToLastNote(s),r.endTie=!0;else if(i==="octave"||i==="duration"||i==="end_slur")if(r.startTie={},!o&&n)i="broken_rhythm";else return qe.isWhiteSpace(e[t+1])&&so(r),r.endChar=t+1,r;else return i==="broken_rhythm"?(r.endChar=t,r):null;break;case" ":case"	":if(a(i)){r.end_beam=!0,s=!1;do e[t]==="."&&e[t+1]==="-"&&(s=!0,t++),e[t]==="-"&&(r.startTie={},s&&(r.startTie.style="dotted")),t++;while(t<e.length&&(qe.isWhiteSpace(e[t])||e[t]==="-")||e[t]==="."&&e[t+1]==="-");if(r.endChar=t,!o&&n&&(e[t]==="<"||e[t]===">"))t--,i="broken_rhythm";else return r}else return null;break;case">":case"<":if(a(i))if(n){var u=nx(e,t);t+=u[0]-1,F.next_note_duration=u[2],r.duration=u[1]*r.duration,i="end_slur"}else return r.endChar=t,r;else return null;break;default:return a(i)?(r.endChar=t,r):null}if(t++,t===e.length)return a(i)?(r.endChar=t,r):null}return null},nx=function(e,t){switch(e[t]){case">":return t<e.length-2&&e[t+1]===">"&&e[t+2]===">"?[3,1.875,.125]:t<e.length-1&&e[t+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return t<e.length-2&&e[t+1]==="<"&&e[t+2]==="<"?[3,.125,1.875]:t<e.length-1&&e[t+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null};function nf(){return F.currentVoice===void 0||F.currentVoice.staffNum===0&&F.currentVoice.index===0}var Lk=$h,bt=Sn,Hh=function(e,t){this.lineIndex=0,this.lines=e,this.multilineVars=t,this.skipWhiteSpace=function(u){for(var f=0;f<u.length;f++)if(!this.isWhiteSpace(u[f]))return f;return u.length};var r=function(u,f){return f>=u.length};this.eatWhiteSpace=function(u,f){for(var p=f;p<u.length;p++)if(!this.isWhiteSpace(u[p]))return p-f;return p-f},this.getKeyPitch=function(u){var f=this.skipWhiteSpace(u);if(r(u,f))return{len:0};switch(u[f]){case"A":return{len:f+1,token:"A"};case"B":return{len:f+1,token:"B"};case"C":return{len:f+1,token:"C"};case"D":return{len:f+1,token:"D"};case"E":return{len:f+1,token:"E"};case"F":return{len:f+1,token:"F"};case"G":return{len:f+1,token:"G"}}return{len:0}},this.getSharpFlat=function(u){if(u==="bass")return{len:0};switch(u[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(u){var f=function(m,v){for(;v<m.length&&(m[v]>="a"&&m[v]<="z"||m[v]>="A"&&m[v]<="Z");)v++;return v},p=this.skipWhiteSpace(u);if(r(u,p))return{len:0};var g=u.substring(p,p+3).toLowerCase();switch((g.length>1&&g[1]===" "||g[1]==="^"||g[1]==="_"||g[1]==="=")&&(g=g[0]),g){case"mix":return{len:f(u,p),token:"Mix"};case"dor":return{len:f(u,p),token:"Dor"};case"phr":return{len:f(u,p),token:"Phr"};case"lyd":return{len:f(u,p),token:"Lyd"};case"loc":return{len:f(u,p),token:"Loc"};case"aeo":return{len:f(u,p),token:"m"};case"maj":return{len:f(u,p),token:""};case"ion":return{len:f(u,p),token:""};case"min":return{len:f(u,p),token:"m"};case"m":return{len:f(u,p),token:"m"}}return{len:0}},this.getClef=function(u,f){var p=u,g=this.skipWhiteSpace(u);if(r(u,g))return{len:0};var m=!1,v=u.substring(g);if(bt.startsWith(v,"clef=")&&(m=!0,v=v.substring(5),g+=5),v.length===0&&m)return{len:g+5,warn:"No clef specified: "+p};var y=this.skipWhiteSpace(v);if(r(v,y))return{len:0};y>0&&(g+=y,v=v.substring(y));var b=null;if(bt.startsWith(v,"treble"))b="treble";else if(bt.startsWith(v,"bass3"))b="bass3";else if(bt.startsWith(v,"bass"))b="bass";else if(bt.startsWith(v,"tenor"))b="tenor";else if(bt.startsWith(v,"alto2"))b="alto2";else if(bt.startsWith(v,"alto1"))b="alto1";else if(bt.startsWith(v,"alto"))b="alto";else if(!f&&m&&bt.startsWith(v,"none"))b="none";else if(bt.startsWith(v,"perc"))b="perc";else if(!f&&m&&bt.startsWith(v,"C"))b="tenor";else if(!f&&m&&bt.startsWith(v,"F"))b="bass";else if(!f&&m&&bt.startsWith(v,"G"))b="treble";else return{len:g+5,warn:"Unknown clef specified: "+p};return v=v.substring(b.length),y=this.isMatch(v,"+8"),y>0?b+="+8":(y=this.isMatch(v,"-8"),y>0&&(b+="-8")),{len:g+b.length,token:b,explicit:m}},this.getBarLine=function(u,f){switch(u[f]){case"]":switch(++f,u[f]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++f,u[f]>="1"&&u[f]<="9"||u[f]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++f,u[f]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++f,u[f]){case"]":switch(++f,u[f]){case"|":return++f,u[f]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++f,u[f]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++f,u[f]==="|")switch(++f,u[f]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return u[f]>="1"&&u[f]<="9"||u[f]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++f,u[f]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++f,u[f]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var p=0;u[f+p]===":";)p++;return{len:1+p,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(u,f){for(var p=0;p<u.length;p++)if(f.indexOf(u[p])<0)return{len:p,token:u.substring(0,p)};return{len:p,token:u}},this.getToken=function(u,f,p){for(var g=f;g<p&&!this.isWhiteSpace(u[g]);)g++;return u.substring(f,g)},this.isMatch=function(u,f){var p=this.skipWhiteSpace(u);return r(u,p)?0:bt.startsWith(u.substring(p),f)?p+f.length:0},this.getPitchFromTokens=function(u){var f={},p={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(f.position=p[u[0].token],f.position===void 0)return{warn:"Pitch expected. Found: "+u[0].token};for(u.shift();u.length;)switch(u[0].token){case",":f.position-=7,u.shift();break;case"'":f.position+=7,u.shift();break;default:return f}return f},this.getKeyAccidentals2=function(u){for(var f;u.length>0;){var p;if(u[0].token==="^"){if(p="sharp",u.shift(),u.length===0)return{accs:f,warn:"Expected note name after "+p};switch(u[0].token){case"^":p="dblsharp",u.shift();break;case"/":p="quartersharp",u.shift();break}}else if(u[0].token==="=")p="natural",u.shift();else if(u[0].token==="_"){if(p="flat",u.shift(),u.length===0)return{accs:f,warn:"Expected note name after "+p};switch(u[0].token){case"_":p="dblflat",u.shift();break;case"/":p="quarterflat",u.shift();break}}else return{accs:f};if(u.length===0)return{accs:f,warn:"Expected note name after "+p};switch(u[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":f===void 0&&(f=[]),f.push({acc:p,note:u[0].token[0]}),u[0].token.length===1?u.shift():u[0].token=u[0].token.substring(1);break;default:return{accs:f,warn:"Expected note name after "+p+" Found: "+u[0].token}}}return{accs:f}},this.getKeyAccidental=function(u){var f={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},p=this.skipWhiteSpace(u);if(r(u,p))return{len:0};var g=null;switch(u[p]){case"^":case"_":case"=":g=u[p];break;default:return{len:0}}if(p++,r(u,p))return{len:1,warn:"Expected note name after accidental"};switch(u[p]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:p+1,token:{acc:f[g],note:u[p]}};case"^":case"_":case"/":if(g+=u[p],p++,r(u,p))return{len:2,warn:"Expected note name after accidental"};switch(u[p]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:p+1,token:{acc:f[g],note:u[p]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(u){return u===" "||u==="	"||u===""},this.getMeat=function(u,f,p){var g=u.indexOf("%",f);for(g>=0&&g<p&&(p=g);f<p&&(u[f]===" "||u[f]==="	"||u[f]==="");)f++;for(;f<p&&(u[p-1]===" "||u[p-1]==="	"||u[p-1]==="");)p--;return{start:f,end:p}};var n=function(u){return u>="A"&&u<="Z"||u>="a"&&u<="z"},a=function(u){return u>="0"&&u<="9"};this.tokenize=function(u,f,p,g){var m=this.getMeat(u,f,p);f=m.start,p=m.end;for(var v=[],y;f<p;){if(u[f]==='"'){for(y=f+1;y<p&&u[y]!=='"';)y++;v.push({type:"quote",token:u.substring(f+1,y),start:f+1,end:y}),y++}else if(n(u[f])){if(y=f+1,g)for(;y<p&&!this.isWhiteSpace(u[y]);)y++;else for(;y<p&&n(u[y]);)y++;v.push({type:"alpha",token:u.substring(f,y),continueId:a(u[y]),start:f,end:y}),f=y+1}else if(u[f]==="."&&a(u[y+1])){y=f+1;for(var b=null,w=null;y<p&&a(u[y]);)y++;w=parseFloat(u.substring(f,y)),v.push({type:"number",token:u.substring(f,y),intt:b,floatt:w,continueId:n(u[y]),start:f,end:y}),f=y+1}else if(a(u[f])||u[f]==="-"&&a(u[y+1])){y=f+1;for(var x=null,X=null;y<p&&a(u[y]);)y++;if(u[y]==="."&&a(u[y+1]))for(y++;y<p&&a(u[y]);)y++;else x=parseInt(u.substring(f,y));X=parseFloat(u.substring(f,y)),v.push({type:"number",token:u.substring(f,y),intt:x,floatt:X,continueId:n(u[y]),start:f,end:y}),f=y+1}else u[f]===" "||u[f]==="	"||v.push({type:"punct",token:u[f],start:f,end:f+1}),y=f+1;f=y}return v},this.getVoiceToken=function(u,f,p){for(var g=f;g<p&&this.isWhiteSpace(u[g])||u[g]==="=";)g++;if(u[g]==='"'){var m=u.indexOf('"',g+1);return m===-1||m>=p?{len:1,err:"Missing close quote"}:{len:m-f+1,token:this.translateString(u.substring(g+1,m))}}else{for(var v=g;v<p&&!this.isWhiteSpace(u[v])&&u[v]!=="=";)v++;return{len:v-f+1,token:u.substring(g,v)}}};var s={"`a":"","'a":"","^a":"","~a":"",'"a':"",oa:"",aa:"","=a":"",ua:"",";a":"","`e":"","'e":"","^e":"",'"e':"","=e":"",ue:"",";e":"",".e":"","`i":"","'i":"","^i":"",'"i':"","=i":"",ui:"",";i":"","`o":"","'o":"","^o":"","~o":"",'"o':"","=o":"",uo:"","/o":"","`u":"","'u":"","^u":"","~u":"",'"u':"",ou:"","=u":"",uu:"",";u":"","`A":"","'A":"","^A":"","~A":"",'"A':"",oA:"",AA:"","=A":"",uA:"",";A":"","`E":"","'E":"","^E":"",'"E':"","=E":"",uE:"",";E":"",".E":"","`I":"","'I":"","^I":"","~I":"",'"I':"","=I":"",uI:"",";I":"",".I":"","`O":"","'O":"","^O":"","~O":"",'"O':"","=O":"",uO:"","/O":"","`U":"","'U":"","^U":"","~U":"",'"U':"",oU:"","=U":"",uU:"",";U":"",ae:"",AE:"",oe:"",OE:"",ss:"","'c":"","^c":"",uc:"",cc:"",".c":"",cC:"","'C":"","^C":"",uC:"",".C":"","~N":"","~n":"","=s":"",vs:"",DH:"",dh:"",HO:"",Ho:"",HU:"",Hu:"","'Y":"","'y":"","^Y":"","^y":"",'"Y':"",'"y':"",vS:"",vZ:"",vz:""},i={"#":"",b:"","=":""},o={201:"",202:"",203:"",241:"",242:"",252:"a",262:"2",272:"o",302:"",312:"",322:"",332:"",342:"",352:"",362:"",372:"",243:"",253:"",263:"3",273:"",303:"",313:"",323:"",333:"",343:"",353:"",363:"",373:"",244:"",254:"",264:"  ",274:"14",304:"",314:"",324:"",334:"",344:"",354:"",364:"",374:"",245:"",255:"-",265:"",275:"12",305:"",315:"",325:"",335:"",345:"",355:"",365:"",375:"",246:"",256:"",266:"",276:"34",306:"",316:"",326:"",336:"",346:"",356:"",366:"",376:"",247:"",257:" ",267:"",277:"",307:"",317:"",327:"",337:"",347:"",357:"",367:"",377:"",250:" ",260:"",270:" ",300:"",310:"",320:"",330:"",340:"",350:"",360:"",370:"",251:"",261:"",271:"1",301:"",311:"",321:"",331:"",341:"",351:"",361:"",371:""};this.translateString=function(u){var f=u.split("\\");if(f.length===1)return u;var p=null;return f.forEach(function(g){if(p===null)p=g;else{var m=s[g.substring(0,2)];m!==void 0?p+=m+g.substring(2):(m=o[g.substring(0,3)],m!==void 0?p+=m+g.substring(3):(m=i[g.substring(0,1)],m!==void 0?p+=m+g.substring(1):p+="\\"+g))}}),p},this.getNumber=function(u,f){for(var p=0;f<u.length;)switch(u[f]){case"0":p=p*10,f++;break;case"1":p=p*10+1,f++;break;case"2":p=p*10+2,f++;break;case"3":p=p*10+3,f++;break;case"4":p=p*10+4,f++;break;case"5":p=p*10+5,f++;break;case"6":p=p*10+6,f++;break;case"7":p=p*10+7,f++;break;case"8":p=p*10+8,f++;break;case"9":p=p*10+9,f++;break;default:return{num:p,index:f}}return{num:p,index:f}},this.getFraction=function(u,f){var p=1,g=1;if(u[f]!=="/"){var m=this.getNumber(u,f);p=m.num,f=m.index}if(u[f]==="/")if(f++,u[f]==="/"){for(var v=.5;u[f++]==="/";)v=v/2;return{value:p*v,index:f-1}}else{var y=f,b=this.getNumber(u,f);b.num===0&&y===f&&(b.num=2),b.num!==0&&(g=b.num),f=b.index}return{value:p/g,index:f}};function l(u){const p=/^(\d+)\./.exec(u);return p?p[1]:null}var c=[{match:/,\s*The$/,replace:"The "},{match:/,\s*the$/,replace:"the "},{match:/,\s*A$/,replace:"A "},{match:/,\s*a$/,replace:"a "},{match:/,\s*An$/,replace:"An "},{match:/,\s*an$/,replace:"an "},{match:/,\s*Da$/,replace:"Da "},{match:/,\s*La$/,replace:"La "},{match:/,\s*Le$/,replace:"Le "},{match:/,\s*Les$/,replace:"Les "},{match:/,\s*Ye$/,replace:"Ye "}];this.theReverser=function(u){for(var f=0;f<c.length;f++){var p=c[f],g=u.match(p.match);if(g){var m=l(u);m&&(u=u.replace(m+".",""),u=u.trim());var v=g[0].length,y=p.replace+u.substring(0,u.length-v);return m&&(y=m+". "+y),y}}return u},this.stripComment=function(u){var f=u.indexOf("%");return f>=0?bt.strip(u.substring(0,f)):bt.strip(u)},this.getInt=function(u){var f=parseInt(u);if(isNaN(f))return{digits:0};var p=""+f,g=u.indexOf(p);return{value:f,digits:g+p.length}},this.getFloat=function(u){var f=parseFloat(u);if(isNaN(f))return{digits:0};var p=""+f,g=u.indexOf(p);return{value:f,digits:g+p.length}},this.getMeasurement=function(u){if(u.length===0)return{used:0};var f=1,p="";if(u[0].token==="-")u.shift(),p="-",f++;else if(u[0].type!=="number")return{used:0};if(p+=u.shift().token,u.length===0)return{used:1,value:parseInt(p)};var g=u.shift();if(g.token==="."){if(f++,u.length===0)return{used:f,value:parseInt(p)};if(u[0].type==="number"&&(g=u.shift(),p=p+"."+g.token,f++,u.length===0))return{used:f,value:parseFloat(p)};g=u.shift()}switch(g.token){case"pt":return{used:f+1,value:parseFloat(p)};case"px":return{used:f+1,value:parseFloat(p)};case"cm":return{used:f+1,value:parseFloat(p)/2.54*72};case"in":return{used:f+1,value:parseFloat(p)*72};default:return u.unshift(g),{used:f,value:parseFloat(p)}}};var h=function(u){return u=u.replace(/\\n/g,`
`),u=u.replace(/\\"/g,'"'),u};this.getBrackettedSubstring=function(u,f,p,g){for(var m=g||u[f],v=f+1,y=!1;v<u.length&&(y||u[v]!==m);)y=u[v]==="\\",++v;return u[v]===m?[v-f+1,h(u.substring(f+1,v)),!0]:(v=f+p,v>u.length-1&&(v=u.length-1),[v-f+1,h(u.substring(f+1,v)),!1])}};Hh.prototype.peekLine=function(){return this.lines[this.lineIndex]};Hh.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var e=this.lines[this.lineIndex];return this.lineIndex++,e}return null};var Rk=Hh;function Dk(e,t,r){if(!(!t||e.lines.length===0)){var n=e.deline({lineBreaks:!1}),a=Ik(n,t);e.lines=Ok(n,a,r),e.lineBreaks=a}}function Ok(e,t,r){for(var n=[],a=[],s=[],i=1,o=0;o<t.length;o++){var l=t[o];if(e[l.ogLine].staff){var c=e[l.ogLine].staff[l.staff];if(n[l.line]||(n[l.line]={staff:[]}),!n[l.line].staff[l.staff]){n[l.line].staff[l.staff]={voices:[]},r!==void 0&&l.staff===0&&l.line>0&&(n[l.line].staff[l.staff].barNumber=i);for(var h=Object.keys(c),u=0;u<h.length;u++){var f=h[u]==="voices";h[u]==="meter"&&l.line!==0&&(f=!0),f||(n[l.line].staff[l.staff][h[u]]=c[h[u]])}a[l.staff]&&(n[l.line].staff[l.staff].key=a[l.staff])}n[l.line].staff[l.staff].voices[l.voice]||(n[l.line].staff[l.staff].voices[l.voice]=[]),n[l.line].staff[l.staff].voices[l.voice]=e[l.ogLine].staff[l.staff].voices[l.voice].slice(l.start,l.end+1),s[l.staff*10+l.voice]&&n[l.line].staff[l.staff].voices[l.voice].unshift({el_type:"stem",direction:s[l.staff*10+l.voice].direction});for(var p=n[l.line].staff[l.staff].voices[l.voice],g=p.length-1;g>=0;g--)if(p[g].el_type==="key"){a[l.staff]={root:p[g].root,acc:p[g].acc,mode:p[g].mode,accidentals:p[g].accidentals.filter(function(v){return v.acc!=="natural"})};break}for(g=p.length-1;g>=0;g--)if(p[g].el_type==="stem"){s[l.staff*10+l.voice]={direction:p[g].direction};break}if(r!==void 0&&l.staff===0&&l.voice===0)for(g=0;g<p.length;g++)p[g].el_type==="bar"&&(i++,g===p.length-1?delete p[g].barNumber:p[g].barNumber=i)}else n[l.line]=e[l.ogLine]}for(var m=0;m<n.length;m++)n[m].staff&&(n[m].staff=n[m].staff.filter(function(v){return v!=null}));return n}function Ik(e,t){for(var r=[],n=0,a=0,s=0,i=0;i<e.length;i++){var o=e[i];if(o.staff){var l=a,c=t[n];n++;for(var h=0;h<o.staff.length;h++)for(var u=o.staff[h],f=0;f<u.voices.length;f++){s=l;for(var p=0,g=0,m=u.voices[f],v=0,y=0;y<m.length;y++){var b=m[y];b.el_type==="bar"&&(c[g]===p&&(r.push({ogLine:i,line:s,staff:h,voice:f,start:v,end:y}),v=y+1,s++,a=Math.max(a,s),g++),p++)}r.push({ogLine:i,line:s,staff:h,voice:f,start:v,end:m.length}),s++,a=Math.max(a,s)}}else r.push({ogLine:i,line:s}),s++,a=Math.max(a,s)}return r}function Fk(e,t){for(var r=[],n=[],a=0,s=0;s<e.length;s++){var i=e[s],o=a+i;if(o<t)a=o;else{var l=t-a,c=o-t;l<c&&a>0?(r.push(s-1),n.push(Math.round(a-i)),a=i):s<e.length-1&&(r.push(s),n.push(Math.round(a)),a=0)}}return n.push(Math.round(a)),{lineBreaks:r,totals:n}}function M0(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}function zk(e,t,r,n,a,s,i,o,l,c,h){for(var u=c;u<e.length;u++){var f=e[u];r+=f,n+=f;var p=Math.abs(r-t[o]),g=Math.abs(p-s)<t[0]/10;if(g)if(p<s){var m=M0(a),v=M0(l);v.push(u-1),m.push(n-f),h.push({accumulator:r,lineAccumulator:f,lineWidths:m,lastVariance:Math.abs(r-t[o+1]),highestVariance:Math.max(i,s),currLine:o+1,lineBreaks:v,startIndex:u+1})}else p>s&&u<e.length-1&&(m=M0(a),v=M0(l),h.push({accumulator:r,lineAccumulator:n,lineWidths:m,lastVariance:p,highestVariance:Math.max(i,p),currLine:o,lineBreaks:v,startIndex:u+1}));p>s?(l.push(u-1),o++,i=Math.max(i,s),s=Math.abs(r-t[o]),a.push(n-f),n=f):s=p}a.push(n)}function $k(e,t,r,n){for(var a=Math.ceil(e.total/t),s=Math.floor(e.total/a),i=[],o=0;o<a;o++)i.push(s*(o+1));var l=[];l.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var c=0;c<l.length;)zk(e.measureWidths,i,l[c].accumulator,l[c].lineAccumulator,l[c].lineWidths,l[c].lastVariance,l[c].highestVariance,l[c].currLine,l[c].lineBreaks,l[c].startIndex,l),c++;for(o=0;o<l.length;o++){var h=l[o];h.variances=[],h.aveVariance=0;for(var u=0;u<h.lineWidths.length;u++){var f=h.lineWidths[u];h.variances.push(f-i[0]),h.aveVariance+=Math.abs(f-i[0])}h.aveVariance=h.aveVariance/h.lineWidths.length,n.attempts.push({type:"optimizeLineWidths",lineBreaks:h.lineBreaks,variances:h.variances,aveVariance:h.aveVariance,widths:e.measureWidths})}var p=9999999,g=-1;for(o=0;o<l.length;o++)h=l[o],h.aveVariance<p&&(p=h.aveVariance,g=o);return{failed:!1,lineBreaks:l[g].lineBreaks,variance:l[g].highestVariance}}function Hk(e,t,r){for(var n=[],a=[],s=0,i=!1,o=0;o<e.length;o++)s+=e[o],s>t&&(i=!0),o%r===r-1&&(o!==e.length-1&&n.push(o),a.push(Math.round(s)),s=0);return{failed:i,totals:a,lineBreaks:n}}function Wk(e,t,r){var n={lineBreaks:e,staffwidth:t};for(var a in r)r.hasOwnProperty(a)&&a!=="wrap"&&a!=="staffwidth"&&(n[a]=r[a]);return{revisedParams:n}}function Uk(e,t,r){if(t.length===0||r.staffwidth<t[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:r};var n=r.scale?Math.max(r.scale,.1):1,a=r.wrap.minSpacing?Math.max(parseFloat(r.wrap.minSpacing),1):1,s=r.wrap.minSpacingLimit?Math.max(parseFloat(r.wrap.minSpacingLimit),1):a-.1,i=r.wrap.maxSpacing?Math.max(parseFloat(r.wrap.maxSpacing),1):void 0;r.wrap.lastLineLimit&&!i&&(i=Math.max(parseFloat(r.wrap.lastLineLimit),1));for(var o=r.wrap.preferredMeasuresPerLine?Math.max(parseInt(r.wrap.preferredMeasuresPerLine,10),0):void 0,l=[],c=[],h=0;h<t.length;h++){var u=t[h],f=r.staffwidth-u.left,p=f/a/n,g=f/i/n,m=f/s/n,v={widths:u,lineBreakPoint:p,minLineSize:g,attempts:[],staffWidth:r.staffwidth,minWidth:Math.round(m)},y=null;if(o){var b=Hk(u.measureWidths,p,o);v.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:o,lineBreaks:b.lineBreaks,failed:b.failed,totals:b.totals}),b.failed||(y=b.lineBreaks)}if(!y){var w=Fk(u.measureWidths,p);v.attempts.push({type:"Free Form",lineBreaks:w.lineBreaks,totals:w.totals}),y=w.lineBreaks,y.length>0&&u.measureWidths.length<25&&(w=$k(u,p,y,v),v.attempts.push({type:"Optimize",failed:w.failed,reason:w.reason,lineBreaks:w.lineBreaks,totals:w.totals}),w.failed||(y=w.lineBreaks))}l.push(y),c.push(v)}var x=r.staffwidth,X=Wk(l,x,r);return X.explanation=c,X.reParse=!0,X}var ax={wrapLines:Dk,calcLineWraps:Uk},Cn={};Cn.FONTEM=360;Cn.FONTSIZE=30;Cn.STEP=Cn.FONTSIZE*93/720;Cn.SPACE=10;Cn.TOPNOTE=15;Cn.STAVEHEIGHT=100;Cn.INDENT=50;var $t=Cn,sx,B0=Sn;(function(){var e=1,t=128;sx=function(p,g){g=g||{};var m,v=g.program||0,y=g.midiTranspose||0;p.visualTranspose&&(y-=p.visualTranspose);var b=g.channel||0,w=!1,x=g.drum||"",X=g.drumBars||1,k=g.drumIntro||0,N=x!=="",T=!!g.drumOff,E=[],M=50;v=parseInt(v,10),y=parseInt(y,10),b=parseInt(b,10),b===10&&(v=t),x=x.split(" "),X=parseInt(X,10),k=parseInt(k,10);var D=p.formatting.bagpipes;D&&(v=71);var j=[];if(p.formatting.midi){var R=p.formatting.midi;R.program&&R.program.length>0&&(v=R.program[0],R.program.length>1&&(v=R.program[1],b=R.program[0]),w=!0),R.transpose&&(y=R.transpose[0]),R.channel&&(b=R.channel[0],w=!0),R.drum&&(x=R.drum),R.drumbars&&(X=R.drumbars[0]),R.drumon&&(N=!0),b===10&&(v=t),R.beat&&j.push({el_type:"beat",beats:R.beat}),R.nobeataccents&&j.push({el_type:"beataccents",value:!1})}g.qpm?m=parseInt(g.qpm,10):p.metaText.tempo?m=o(p.metaText.tempo,p.getBeatLength()):g.defaultQpm?m=g.defaultQpm:m=180;var P=[];D&&P.push({el_type:"bagpipes"}),P.push({el_type:"instrument",program:v}),b&&P.push({el_type:"channel",channel:b}),y&&P.push({el_type:"transpose",transpose:y}),P.push({el_type:"tempo",qpm:m});for(var O=0;O<j.length;O++)P.push(j[O]);var L=[],_=[],S=[],A=[],B=[0],$={};$[0]={el_type:"tempo",qpm:m,timing:0};for(var Y,Q=[],re=[],Pe=!1,ke=p.lines,ee=0;ee<ke.length;ee++){var le=ke[ee];if(le.staff){let Bt=function(We){var Wt={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},ct;if(We.decoration){if(We.decoration.indexOf("pppp")>=0?ct="pppp":We.decoration.indexOf("ppp")>=0?ct="ppp":We.decoration.indexOf("pp")>=0?ct="pp":We.decoration.indexOf("p")>=0?ct="p":We.decoration.indexOf("mp")>=0?ct="mp":We.decoration.indexOf("mf")>=0?ct="mf":We.decoration.indexOf("f")>=0?ct="f":We.decoration.indexOf("ff")>=0?ct="ff":We.decoration.indexOf("fff")>=0?ct="fff":We.decoration.indexOf("ffff")>=0&&(ct="ffff"),ct){Y=Wt[ct].slice(0);let ir=[Y];Array.isArray(We.decoration)&&(ir=[],We.decoration.forEach(l1=>{l1 in Wt&&ir.push(Wt[l1].slice(0))})),L[q].push({el_type:"beat",beats:Y.slice(0),volumesPerNotePitch:ir}),S[oe]=!1,A[oe]=!1}if(We.decoration.indexOf("crescendo(")>=0){var es=r(pe,G,"crescendo)"),En=Math.min(127,Y[0]+M),Zo=n(pe,G+es+1,Object.keys(Wt));Zo&&(En=Wt[Zo][0]),es>0?S[oe]=Math.floor((En-Y[0])/es):S[oe]=!1,A[oe]=!1}else if(We.decoration.indexOf("crescendo)")>=0)S[oe]=!1;else if(We.decoration.indexOf("diminuendo(")>=0){var ts=r(pe,G,"diminuendo)"),wi=Math.max(15,Y[0]-M),e0=n(pe,G+ts+1,Object.keys(Wt));e0&&(wi=Wt[e0][0]),S[oe]=!1,ts>0?A[oe]=Math.floor((wi-Y[0])/ts):A[oe]=!1}else We.decoration.indexOf("diminuendo)")>=0&&(A[oe]=!1)}};for(var Mt=Bt,Xe=le.staff,q=0,ie=0;ie<Xe.length;ie++){var J=Xe[ie];if(!(J.clef&&J.clef.type==="TAB"))for(var oe=0;oe<J.voices.length;oe++){var pe=J.voices[oe];if(!L[q]){L[q]=[].concat(JSON.parse(JSON.stringify(P)));var lt=i(le.staff,q);lt&&L[q].unshift({el_type:"name",trackName:lt})}if(y&&J.clef.type==="perc"&&L[q].push({el_type:"transpose",transpose:0}),J.clef&&J.clef.type==="perc"&&!w)for(var Ye=0;Ye<L[q].length;Ye++)L[q][Ye].el_type==="instrument"&&(L[q][Ye].program=t);else J.key&&h(L[q],J.key);J.meter&&u(L[q],J.meter),!Pe&&N&&(L[q].push({el_type:"drum",params:{pattern:x,bars:X,on:N,intro:k}}),Pe=!0),J.clef&&J.clef.type!=="perc"&&J.clef.transpose&&(J.clef.el_type="clef",L[q].push({el_type:"transpose",transpose:J.clef.transpose}),_[q]=!1),J.clef&&J.clef.type&&(J.clef.type.indexOf("-8")>=0?(L[q].push({el_type:"transpose",transpose:-12}),_[q]=!0):J.clef.type.indexOf("+8")>=0?(L[q].push({el_type:"transpose",transpose:12}),_[q]=!0):_[q]&&(L[q].push({el_type:"transpose",transpose:0}),_[q]=!1)),p.formatting.midi&&p.formatting.midi.drumoff&&(L[q].push({el_type:"bar"}),L[q].push({el_type:"drum",params:{pattern:"",on:!1}}));var gt=0,Ht=0,z=0,H=0;Y=[105,95,85,1];for(var G=0;G<pe.length;G++){var I=pe[G];switch(I.el_type){case"note":if(S[oe]&&(Y[0]+=S[oe],Y[1]+=S[oe],Y[2]+=S[oe],L[q].push({el_type:"beat",beats:Y.slice(0)})),A[oe]&&(Y[0]+=A[oe],Y[1]+=A[oe],Y[2]+=A[oe],L[q].push({el_type:"beat",beats:Y.slice(0)})),Bt(I),!I.rest||I.rest.type!=="spacer"){var U={elem:I,el_type:"note",timing:B[q]};if(I.style?U.style=I.style:E[q]&&(U.style=E[q]),U.duration=I.duration===0?.25:I.duration,I.startTriplet){if(Ht=I.tripletMultiplier,z=I.startTriplet*Ht*I.duration,I.startTriplet!==I.tripletR&&G+I.tripletR<=pe.length){for(var te=0,se=G;se<G+I.tripletR;se++)te+=pe[se].duration;z=Ht*te}U.duration=U.duration*Ht,U.duration=Math.round(U.duration*1e6)/1e6,H=U.duration}else Ht&&(I.endTriplet?(Ht=0,U.duration=Math.round((z-H)*1e6)/1e6):(U.duration=U.duration*Ht,U.duration=Math.round(U.duration*1e6)/1e6,H+=U.duration));I.rest&&(U.rest=I.rest),I.decoration&&(U.decoration=I.decoration.slice(0)),I.pitches&&(U.pitches=B0.cloneArray(I.pitches)),I.gracenotes&&(U.gracenotes=B0.cloneArray(I.gracenotes)),I.chord&&(U.chord=B0.cloneArray(I.chord)),L[q].push(U),I.style==="rhythm"&&s(L),gt++,B[q]+=U.duration}break;case"key":case"keySignature":h(L[q],I);break;case"meter":u(L[q],I);break;case"clef":I.transpose&&L[q].push({el_type:"transpose",transpose:I.transpose}),I.type&&(I.type.indexOf("-8")>=0?L[q].push({el_type:"transpose",transpose:-12}):I.type.indexOf("+8")>=0&&L[q].push({el_type:"transpose",transpose:12}));break;case"tempo":m=o(I,p.getBeatLength()),L[q].push({el_type:"tempo",qpm:m,timing:B[q]}),$[""+B[q]]={el_type:"tempo",qpm:m,timing:B[q]};break;case"bar":gt>0&&L[q].push({el_type:"bar"}),Bt(I),gt=0;var me=I.type==="bar_right_repeat"||I.type==="bar_dbl_repeat",ne=I.startEnding==="1",ae=I.type==="bar_left_repeat"||I.type==="bar_dbl_repeat"||I.type==="bar_right_repeat";if(me){var De=Q[q];De||(De=0);var Ae=re[q];Ae||(Ae=L[q].length);for(var de=De;de<Ae;de++){var He=Object.assign({},L[q][de]);He.pitches&&(He.pitches=B0.cloneArray(He.pitches)),L[q].push(He)}re[q]=void 0,Q[q]=void 0}ne&&(re[q]=L[q].length),ae&&(Q[q]=L[q].length);break;case"style":E[q]=I.head;break;case"timeSignature":L[q].push(l(I));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var St=!1;switch(I.cmd){case"drumon":N=!0,St=!0;break;case"drumoff":N=!1,St=!0;break;case"drum":x=I.params,St=!0;break;case"drumbars":X=I.params[0],St=!0;break;case"drummap":break;case"channel":I.params[0]===10&&L[q].push({el_type:"instrument",program:t});break;case"program":f(L[q],{el_type:"instrument",program:I.params[0]}),w=!0;break;case"transpose":L[q].push({el_type:"transpose",transpose:I.params[0]});break;case"gchordoff":L[q].push({el_type:"gchordOn",tacet:!0});break;case"gchordon":L[q].push({el_type:"gchordOn",tacet:!1});break;case"beat":L[q].push({el_type:"beat",beats:I.params});break;case"nobeataccents":L[q].push({el_type:"beataccents",value:!1});break;case"beataccents":L[q].push({el_type:"beataccents",value:!0});break;case"vol":case"volinc":L[q].push({el_type:I.cmd,volume:I.params[0]});break;case"swing":case"gchord":case"bassvol":case"chordvol":L[q].push({el_type:I.cmd,param:I.params[0]});break;case"bassprog":case"chordprog":L[q].push({el_type:I.cmd,value:I.params[0],octaveShift:I.params[1]});break;case"gchordbars":L[q].push({el_type:I.cmd,param:I.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",I.cmd,I)}St&&(L[0].push({el_type:"drum",params:{pattern:x,bars:X,intro:k,on:N}}),Pe=!0);break;default:console.log("MIDI: element type "+I.el_type+" not handled.")}}q++,B[q]||(B[q]=0)}}}}if(a(L,$),k)for(var Te=p.getPickupLength(),st=0;st<L.length;st++){for(var sr=0;L[st][sr].el_type!=="note"&&L[st].length>sr;)sr++;if(L[st].length>sr){for(var se=0;se<k;se++)Te===0||se<k-1?(L[st].splice(sr,0,{el_type:"note",rest:{type:"rest"},duration:e},{el_type:"bar"}),sr+=2):L[st].splice(sr++,0,{el_type:"note",rest:{type:"rest"},duration:e-Te});T&&(N=!1,L[st].splice(sr++,0,{el_type:"drum",params:{pattern:x,bars:X,intro:k,on:N}}),T=!1)}}return L.length>0&&L[0].length>0&&(L[0][0].pickupLength=p.getPickupLength()),L};function r(p,g,m){for(var v=0,y=g+1;y<p.length;y++)if(p[y].el_type==="note"&&v++,p[y].decoration&&p[y].decoration.indexOf(m)>=0)return v;return v}function n(p,g,m){for(var v=Math.min(p.length,g+3),y=g;y<v;y++)if(p[y].el_type==="note"&&p[y].decoration){for(var b=0;b<p[y].decoration.length;b++)if(m.indexOf(p[y].decoration[b])>=0)return p[y].decoration[b]}return null}function a(p,g){if(!(!g||g.length===0))for(var m=Object.keys(g),v=0;v<p.length;v++)for(var y=p[v],b=g[0]?g[0].qpm:0,w=0;w<y.length;w++){var x=y[w];x.el_type==="tempo"&&(b=x.qpm),m.indexOf(""+x.timing)>=0&&b!==g[""+x.timing].qpm&&(b=g[""+x.timing].qpm,x.el_type==="tempo"?(x.qpm=g[""+x.timing].qpm,w++):(p[v].splice(w,0,{el_type:"tempo",qpm:g[""+x.timing].qpm,timing:x.timing}),w+=2))}}function s(p){for(var g=0;g<p.length;g++)for(var m=p[g],v=m.length-1;v>=0&&m[v].el_type!=="bar";)m[v].noChordVoice=!0,v--}function i(p,g){if(!(!p||p.length<=g||!p[g].title))return p[g].title.join(" ")}function o(p,g){var m=.25;p.duration&&(m=p.duration[0]);var v=60;return p.bpm&&(v=p.bpm),m*v/g}function l(p){var g;switch(p.type){case"common_time":g={el_type:"meter",num:4,den:4};break;case"cut_time":g={el_type:"meter",num:2,den:2};break;case"specified":g={el_type:"meter",num:p.value[0].num,den:p.value[0].den};break;default:g={el_type:"meter"}}return e=g.num/g.den,g}function c(p){for(var g=[],m=0;m<p.length;m++)p[m].acc!=="natural"&&g.push(p[m]);return g}function h(p,g){var m;g.root==="HP"?m={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:m={el_type:"key",accidentals:c(g.accidentals)},f(p,m)}function u(p,g){var m=l(g);f(p,m)}function f(p,g){for(var m=p.length-1;m>=0;m--)if(p[m].el_type===g.el_type){JSON.stringify(p[m])!==JSON.stringify(g)&&p.push(g);return}p.push(g)}})();var ix=sx,Ge=function(t,r,n,a){this.chordTrack=[],this.chordTrackFinished=!1,this.chordChannel=t,this.currentChords=[],this.lastChord,this.chordLastBar,this.chordsOff=!!r,this.gChordTacet=this.chordsOff,this.hasRhythmHead=!1,this.transpose=0,this.lastBarTime=0,this.meter=a,this.tempoChangeFactor=1,this.bassInstrument=n.bassprog&&n.bassprog.length>=1?n.bassprog[0]:0,this.chordInstrument=n.chordprog&&n.chordprog.length>=1?n.chordprog[0]:0,this.bassOctaveShift=n.bassprog&&n.bassprog.length===2?n.bassprog[1]:0,this.chordOctaveShift=n.chordprog&&n.chordprog.length===2?n.chordprog[1]:0,this.boomVolume=n.bassvol&&n.bassvol.length===1?n.bassvol[0]:64,this.chickVolume=n.chordvol&&n.chordvol.length===1?n.chordvol[0]:48,n.gchord&&n.gchord.length>0?this.overridePattern=ox(n.gchord[0]):this.overridePattern=void 0};Ge.prototype.setMeter=function(e){this.meter=e};Ge.prototype.setTempoChangeFactor=function(e){this.tempoChangeFactor=e};Ge.prototype.setLastBarTime=function(e){this.lastBarTime=e};Ge.prototype.setTranspose=function(e){this.transpose=e};Ge.prototype.setRhythmHead=function(e,t){this.hasRhythmHead=e;var r=[];if(e&&this.lastChord&&this.lastChord.chick)for(var n=0;n<this.lastChord.chick.length;n++){var a=Object.assign({},t.pitches[0]);a.actualPitch=this.lastChord.chick[n],r.push(a)}return r};Ge.prototype.barEnd=function(e){this.chordTrack.length>0&&!this.chordTrackFinished&&(this.resolveChords(this.lastBarTime,af(e.time)),this.currentChords=[]),this.chordLastBar=this.lastChord};Ge.prototype.gChordOn=function(e){this.chordsOff||(this.gChordTacet=e.tacet)};Ge.prototype.paramChange=function(e){switch(e.el_type){case"gchord":e.param&&e.param.length>0?this.overridePattern=ox(e.param):this.overridePattern=void 0;break;case"bassprog":this.bassInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.bassOctaveShift=e.octaveShift:this.bassOctaveShift=0;break;case"chordprog":this.chordInstrument=e.value,e.octaveShift!=null&&e.octaveShift!=null?this.chordOctaveShift=e.octaveShift:this.chordOctaveShift=0;break;case"bassvol":this.boomVolume=e.param;break;case"chordvol":this.chickVolume=e.param;break;default:console.log("unhandled midi param",e)}};Ge.prototype.finish=function(){this.chordTrackEmpty()||(this.chordTrackFinished=!0)};Ge.prototype.addTrack=function(e){this.chordTrackEmpty()||e.push(this.chordTrack)};Ge.prototype.findChord=function(e){if(this.gChordTacet)return"break";if(this.chordTrackFinished||!e.chord||e.chord.length===0)return null;for(var t=0;t<e.chord.length;t++){var r=e.chord[t];if(r.position==="default")return r.name;if(this.breakSynonyms.indexOf(r.name.toLowerCase())>=0)return"break"}return null};Ge.prototype.interpretChord=function(e){if(e.length!==0){if(e==="break")return{chick:[]};var t=e.substring(0,1);if(t==="("){if(e=e.substring(1,e.length-1),e.length===0)return;t=e.substring(0,1)}var r=this.basses[t];if(r){for(var n=this.transpose;n<-8;)n+=12;for(;n>8;)n-=12;r+=n,r<33?r+=12:r>44&&(r-=12);var a=r;r+=this.bassOctaveShift*12;var s=r-5,i;e.length===1&&(i=this.chordNotes(r,""));var o=e.substring(1),l=o.substring(0,1);l==="b"||l===""?(a--,r--,s--,o=o.substring(1)):(l==="#"||l==="")&&(a++,r++,s++,o=o.substring(1));var c=o.split("/");if(i=this.chordNotes(a,c[0]),i.length>=3){var h=i[2]-i[0];s=s+h-7}if(c.length===2){var u=this.basses[c[1].substring(0,1)];if(u){var f=c[1].substring(1),p={"#":1,"":1,b:-1,"":-1}[f]||0;r=this.basses[c[1].substring(0,1)]+p+n,r+=this.bassOctaveShift*12,s=r}}return{boom:r,boom2:s,chick:i}}}};Ge.prototype.chordNotes=function(e,t){var r=this.chordIntervals[t];r||(t.slice(0,2).toLowerCase()==="ma"||t[0]==="M"?r=this.chordIntervals.M:t[0]==="m"||t[0]==="-"?r=this.chordIntervals.m:r=this.chordIntervals.M),e+=12,e+=this.chordOctaveShift*12;for(var n=[],a=0;a<r.length;a++)n.push(e+r[a]);return n};Ge.prototype.writeNote=function(e,t,r,n,a,s){e!==void 0&&this.chordTrack.push({cmd:"note",pitch:e,volume:r,start:this.lastBarTime+n*vg(t,this.tempoChangeFactor),duration:vg(a,this.tempoChangeFactor),gap:0,instrument:s})};Ge.prototype.chordTrackEmpty=function(){for(var e=!0,t=0;t<this.chordTrack.length&&e;t++)this.chordTrack[t].cmd==="note"&&(e=!1);return e};Ge.prototype.resolveChords=function(e,t){if(!this.hasRhythmHead){var r=this.meter.num,n=this.meter.den,a=1/n,s=a/2,i=parseInt(r,10)/parseInt(n,10),o=i-(t-e)/this.tempoChangeFactor;Math.abs(o)<1e-5&&(o=0),(this.currentChords.length===0||this.currentChords[0].beat!==0)&&this.currentChords.unshift({beat:0,chord:this.chordLastBar});var l=qk(this.currentChords,8*r/n),c=this.overridePattern?this.overridePattern:this.rhythmPatterns[r+"/"+n];if(o){c=[];for(var h=(t-e)/this.tempoChangeFactor*8,u=0;u<h/2;u+=2)c.push("chick"),c.push("")}if(!c){c=[];for(var u=0;u<8*r/n/2;u++)c.push("chick"),c.push("")}for(var f=!0,p=Math.min(c.length,l.length),u=0;u<p;u++){u>0&&l[u-1]&&l[u]&&l[u-1].boom!==l[u].boom&&(f=!0);var g=c[u],m=g.indexOf("boom")>=0,v=!m&&u!==0&&c[0].indexOf("boom")>=0&&(!l[u-1]||l[u-1].boom!==l[u].boom),y=Vk(l[u],g,f,v);m&&(f=!1);for(var b=0;b<y.length;b++)this.writeNote(y[b],.125,m||v?this.boomVolume:this.chickVolume,u,s,m||v?this.bassInstrument:this.chordInstrument),v?v=!1:m=!1}}};Ge.prototype.processChord=function(e){if(!this.chordTrackFinished){var t=this.findChord(e);if(t){var r=this.interpretChord(t);if(r){this.chordTrack.length===0&&this.chordTrack.push({cmd:"program",channel:this.chordChannel,instrument:this.chordInstrument}),this.lastChord=r;var n=Gk(this.lastBarTime,af(e.time));this.currentChords.push({chord:this.lastChord,beat:n,start:af(e.time)})}}}};function Vk(e,t,r,n){var a=[];if(!e)return a;t.indexOf("boom")>=0?a.push(r?e.boom:e.boom2):n&&a.push(e.boom);var s=e.chick.length;if(t.indexOf("chick")>=0)for(var i=0;i<s;i++)a.push(e.chick[i]);switch(t){case"DO":a.push(e.chick[0]);break;case"MI":a.push(e.chick[1]);break;case"SOL":a.push(os(e,2));break;case"TI":a.push(os(e,3));break;case"TOP":a.push(os(e,4));break;case"do":a.push(e.chick[0]+12);break;case"mi":a.push(e.chick[1]+12);break;case"sol":a.push(os(e,2)+12);break;case"ti":a.push(os(e,3)+12);break;case"top":a.push(os(e,4)+12);break}return a}function os(e,t){var r=Math.floor(t/e.chick.length),n=e.chick[t%e.chick.length];return n+r*12}function ox(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n){case"z":t.push("");break;case"2":t.push("");break;case"c":t.push("chick");break;case"b":t.push("boom&chick");break;case"f":t.push("boom");break;case"G":t.push("DO");break;case"H":t.push("MI");break;case"I":t.push("SOL");break;case"J":t.push("TI");break;case"K":t.push("TOP");break;case"g":t.push("do");break;case"h":t.push("mi");break;case"i":t.push("sol");break;case"j":t.push("ti");break;case"k":t.push("top");break}}return t}function qk(e,t,r){var n=[];if(e.length===0)return n;for(var a=e[0].chord,s=1;s<e.length;s++){for(var i=e[s];n.length<i.beat;)n.push(a);a=i.chord}for(;n.length<t;)n.push(a);return n}function Gk(e,t){var r=t-e;return r*8}Ge.prototype.breakSynonyms=["break","(break)","no chord","n.c.","tacet"];Ge.prototype.basses={A:33,B:35,C:36,D:38,E:40,F:41,G:43};Ge.prototype.chordIntervals={dim:[0,3,6],"":[0,3,6],"":[0,3,6],dim7:[0,3,6,9],"7":[0,3,6,9],"7":[0,3,6,9],7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m75":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"75":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"79":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"7":[0,4,7,11],7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"75":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"95":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21],5:[0,7],"5(8)":[0,7,12],"5add8":[0,7,12]};Ge.prototype.rhythmPatterns={"2/2":["boom","","","","chick","","",""],"3/2":["boom","","","","chick","","","","chick","","",""],"4/2":["boom","","","","chick","","","","boom","","","","chick","","",""],"2/4":["boom","","chick",""],"3/4":["boom","","chick","","chick",""],"4/4":["boom","","chick","","boom","","chick",""],"5/4":["boom","","chick","","chick","","boom","","chick",""],"6/4":["boom","","chick","","boom","","chick","","boom","","chick",""],"3/8":["boom","","chick"],"5/8":["boom","chick","chick","boom","chick"],"6/8":["boom","","chick","boom","","chick"],"7/8":["boom","chick","chick","boom","chick","boom","chick"],"9/8":["boom","","chick","boom","","chick","boom","","chick"],"10/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick"],"11/8":["boom","chick","chick","boom","chick","chick","boom","chick","boom","chick","chick"],"12/8":["boom","","chick","boom","","chick","boom","","chick","boom","","chick"]};function af(e){return e/1e6}function vg(e,t){return Math.round(e*t*1e6)/1e6}var Yk=Ge,Kk={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function Qk(e){var t=(e.accidental?e.accidental[0]:"x")+e.verticalPos;return Kk[t]}var lx=Qk,cx,Jk=Yk,yg=lx;(function(){var e,t,r,n,a,s=1,i,o,l,c,h,u,f={num:4,den:4},p=128,g,m=!0,v=105,y=95,b=85,w=[[v,y,b]],x=.25,X,k,N=0,T,E={},M,D=0,j,R=0,P=-.001,O=.4;cx=function(z,H,G,I){H||(H={}),I||(I={}),e=[],t=[0,0,0,0,0,0,0],n=[],a=H.qpm,s=1,i=void 0,o=void 0,l=void 0,c=void 0,h=0,j=G,f={num:4,den:4},m=!0,v=105,y=95,b=85,w=[],x=.25,X=void 0,k=void 0,N=0,T=[],E={},M=1,z.length>0&&z[0].length>0&&(D=z[0][0].pickupLength),H.bassprog!==void 0&&!I.bassprog&&(I.bassprog=[H.bassprog]),H.bassvol!==void 0&&!I.bassvol&&(I.bassvol=[H.bassvol]),H.chordprog!==void 0&&!I.chordprog&&(I.chordprog=[H.chordprog]),H.chordvol!==void 0&&!I.chordvol&&(I.chordvol=[H.chordvol]),H.gchord!==void 0&&!I.gchord&&(I.gchord=[H.gchord]),u=new Jk(z.length,H.chordsOff,I,f),A(z,H);for(var U=0;U<z.length;U++){r=0,u.setTranspose(r);var te=z[U];l=[{cmd:"program",channel:U,instrument:i}],c=void 0,g=0,u.setLastBarTime(0);var se=!1;(H.voicesOff===!0||H.voicesOff&&H.voicesOff.length&&H.voicesOff.indexOf(U)>=0)&&(se=!0);for(var me=0;me<te.length;me++){var ne=te[me];switch(ne.el_type){case"name":c={cmd:"text",type:"name",text:ne.trackName};break;case"note":Pe(ne,se);break;case"key":t=Xe(ne);break;case"meter":f=ne,u.setMeter(f),x=B(f),Ye();break;case"tempo":a?s=ne.qpm?a/ne.qpm:1:a=ne.qpm,u.setTempoChangeFactor(s);break;case"transpose":r=ne.transpose,u.setTranspose(r);break;case"bar":u.barEnd(ne),e=[],U===0&&gt(z.length+1),u.setRhythmHead(!1),g=_(ne.time),u.setLastBarTime(g);break;case"bagpipes":break;case"instrument":if(i===void 0&&(i=ne.program),o=ne.program,l.length>0&&l[l.length-1].cmd==="program")l[l.length-1].instrument=ne.program;else{var ae;for(ae=l.length-1;ae>=0&&l[ae].cmd!=="program";ae--);(ae<0||l[ae].instrument!==ne.program)&&l.push({cmd:"program",channel:0,instrument:ne.program})}break;case"channel":L(ne.channel);break;case"drum":E=lt(ne.params),Ye();break;case"gchordOn":u.gChordOn(ne);break;case"beat":v=ne.beats[0],y=ne.beats[1],b=ne.beats[2],ne.volumesPerNotePitch?w=ne.volumesPerNotePitch:w=[];break;case"vol":X=ne.volume;break;case"volinc":k=ne.volume;break;case"beataccents":m=ne.value;break;case"gchord":case"bassprog":case"chordprog":case"bassvol":case"chordvol":case"gchordbars":u.paramChange(ne);break;default:console.log("MIDI creation. Unknown el_type: "+ne.el_type+`
`);break}}l[0].instrument===void 0&&(l[0].instrument=i||0),c&&l.unshift(c),n.push(l),u.finish(),T.length>0}return H.detuneOctave&&Ht(n,parseInt(H.detuneOctave,10)),u.addTrack(n),T.length>0&&n.push(T),{tempo:a,instrument:i,tracks:n,totalDuration:h}};function L(z){for(var H=l.length-1;H>=0;H--)if(l[H].cmd==="program"){l[H].channel=z;return}}function _(z){return z/1e6}function S(z){return Math.round(z*s*1e6)/1e6}function A(z,H){for(var G=0;G<z.length;G++){for(var I=z[G],U={},te=H.qpm,se=0,me=1,ne=0;ne<I.length;ne++){var ae=I[ne];if(ae.el_type==="tempo"){te?me=ae.qpm?te/ae.qpm:1:te=ae.qpm;continue}ae.time=se;var De=ae.duration?ae.duration:0;if(se+=Math.round(De*me*1e6),ae.pitches){for(var Ae=0;Ae<ae.pitches.length;Ae++){var de=ae.pitches[Ae];if(de){if(de.duration=ae.duration,de.startTie)U[de.pitch]===void 0?U[de.pitch]={el:ne,pitch:Ae}:(I[U[de.pitch].el].pitches[U[de.pitch].pitch].duration+=de.duration,ae.pitches[Ae]=null);else if(de.endTie){var He=U[de.pitch];if(He){var St=de.duration;delete I[He.el].pitches[He.pitch].startTie,I[He.el].pitches[He.pitch].duration+=St,ae.pitches[Ae]=null,delete U[de.pitch]}else delete de.endTie}}}delete ae.duration}}for(var Te in U)if(U.hasOwnProperty(Te)){var st=U[Te];delete I[st.el].pitches[st.pitch].startTie}}}function B(z){switch(parseInt(z.den,10)){case 2:return .5;case 4:return .25;case 8:return z.num%3===0?.375:.125;case 16:return .125}return .25}function $(z,H,G){var I=G-z;return I/H}function Y(z,H,G){if(H)return 0;let I=v,U=y,te=b;G!==void 0&&w.length>=G+1&&(I=w[G][0],U=w[G][1],te=w[G][2]);var se;if(X!==void 0)se=X,X=void 0;else if(!m)se=U;else if(D>z)se=te;else{var me=$(g,B(f),z);me===0?se=I:parseInt(me,10)===me?se=U:se=te}return k&&(se+=k,k=void 0),se<0&&(se=0),se>127&&(se=127),H?0:se}function Q(z,H){var G={};if(z.decoration)for(var I=0;I<z.decoration.length;I++)z.decoration[I]==="staccato"?G.thisBreakBetweenNotes="staccato":z.decoration[I]==="tenuto"?G.thisBreakBetweenNotes="tenuto":z.decoration[I]==="accent"?G.velocity=Math.min(127,H*1.5):z.decoration[I]==="trill"?G.noteModification="trill":z.decoration[I]==="lowermordent"?G.noteModification="lowermordent":z.decoration[I]==="uppermordent"?G.noteModification="pralltriller":z.decoration[I]==="mordent"?G.noteModification="mordent":z.decoration[I]==="turn"?G.noteModification="turn":z.decoration[I]==="roll"?G.noteModification="roll":z.decoration[I]==="pralltriller"?G.noteModification="pralltriller":z.decoration[I]==="trillh"&&(G.noteModification="trillh");return G}function re(z,H){var G=H.start,I=H.duration,U=S(1/32);switch(z){case"trill":for(var te=2;I>0;)l.push({cmd:"note",pitch:H.pitch+te,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),te=te===2?0:2,I-=U,G+=U;break;case"trillh":for(var te=1;I>0;)l.push({cmd:"note",pitch:H.pitch+te,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),te=te===1?0:1,I-=U,G+=U;break;case"pralltriller":l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),I-=U,G+=U,l.push({cmd:"note",pitch:H.pitch+2,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),I-=U,G+=U,l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G,duration:I,gap:0,instrument:o});break;case"mordent":case"lowermordent":l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),I-=U,G+=U,l.push({cmd:"note",pitch:H.pitch-2,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),I-=U,G+=U,l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G,duration:I,gap:0,instrument:o});break;case"turn":U=H.duration/4,l.push({cmd:"note",pitch:H.pitch+2,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G+U,duration:U,gap:0,instrument:o,style:"decoration"}),l.push({cmd:"note",pitch:H.pitch-1,volume:H.volume,start:G+U*2,duration:U,gap:0,instrument:o,style:"decoration"}),l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G+U*3,duration:U,gap:0,instrument:o,style:"decoration"});break;case"roll":for(;I>0;)l.push({cmd:"note",pitch:H.pitch,volume:H.volume,start:G,duration:U,gap:0,instrument:o,style:"decoration"}),I-=U*2,G+=U*2;break}}function Pe(z,H){var G=Y(_(z.time),H);u.processChord(z);var I;if(z.gracenotes&&z.pitches&&z.pitches.length>0&&z.pitches[0]&&(I=q(z.gracenotes,z.pitches[0].duration),z.elem&&(z.elem.midiGraceNotePitches=ie(I,_(z.time),G*2/3,o))),z.elem){var U=_(z.time),te=U/x/a*60*1e3;if(z.elem.currentTrackMilliseconds===void 0)z.elem.currentTrackMilliseconds=te,z.elem.currentTrackWholeNotes=U;else if(z.elem.currentTrackMilliseconds.length===void 0)z.elem.currentTrackMilliseconds!==te&&(z.elem.currentTrackMilliseconds=[z.elem.currentTrackMilliseconds,te],z.elem.currentTrackWholeNotes=[z.elem.currentTrackWholeNotes,U]);else{for(var se=!1,me=0;me<z.elem.currentTrackMilliseconds.length;me++)z.elem.currentTrackMilliseconds[me]===te&&(se=!0);se||(z.elem.currentTrackMilliseconds.push(te),z.elem.currentTrackWholeNotes.push(U))}}if(z.pitches){var ne="",ae=Q(z,G);ae.thisBreakBetweenNotes&&(ne=ae.thisBreakBetweenNotes),ae.velocity&&(G=ae.velocity);var De=z.pitches;z.style==="rhythm"&&(De=u.setRhythmHead(!0,z)),z.elem&&(z.elem.midiPitches=[]);for(var Ae=0;Ae<De.length;Ae++){let Mt=G;!ae.velocity&&Array.isArray(z.decoration)&&z.decoration.length>Ae&&(Mt=Y(_(z.time),H,Ae));var de=De[Ae];if(de){de.startSlur&&(N+=de.startSlur.length),de.endSlur&&(N-=de.endSlur.length);var He=de.actualPitch?de.actualPitch:le(de);if(o===p&&j){var St=yg(de);St&&j[St]&&(He=j[St].sound)}var Te={cmd:"note",pitch:He,volume:Mt,start:_(z.time),duration:S(de.duration),instrument:o,startChar:z.elem.startChar,endChar:z.elem.endChar};if(Te=J(Te),z.gracenotes&&(Te.duration=Te.duration/2,Te.start=Te.start+Te.duration),z.elem&&z.elem.midiPitches.push(Te),ae.noteModification)re(ae.noteModification,Te);else{switch(N>0?Te.endType="tenuto":ne&&(Te.endType=ne),Te.endType){case"tenuto":Te.gap=P;break;case"staccato":var st=Te.duration*O;Te.gap=a/60*st;break;default:Te.gap=R;break}l.push(Te)}}}l.length-1}var sr=ke(z);h=Math.max(h,_(z.time)+S(sr))}function ke(z){return z.pitches&&z.pitches.length>0&&z.pitches[0]?z.pitches[0].duration:z.elem?z.elem.duration:z.duration}var ee=[0,2,4,5,7,9,11];function le(z){if(z.midipitch!==void 0)return z.midipitch;var H=z.pitch;if(z.accidental)switch(z.accidental){case"sharp":e[H]=1;break;case"flat":e[H]=-1;break;case"natural":e[H]=0;break;case"dblsharp":e[H]=2;break;case"dblflat":e[H]=-2;break;case"quartersharp":e[H]=.25;break;case"quarterflat":e[H]=-.25;break}var G=oe(H)*12+ee[pe(H)]+60;return e[H]!==void 0?G+=e[H]:G+=t[pe(H)],G+=r,G}function Xe(z){var H=[0,0,0,0,0,0,0];if(!z.accidentals)return H;for(var G=0;G<z.accidentals.length;G++){var I=z.accidentals[G],U;switch(I.acc){case"flat":U=-1;break;case"quarterflat":U=-.25;break;case"sharp":U=1;break;case"quartersharp":U=.25;break;default:U=0;break}var te=I.note.toLowerCase(),se=pe(te.charCodeAt(0)-99);H[se]+=U}return H}function q(z,H){for(var G=0,I=[],U,te=0;te<z.length;te++)U=z[te],G+=U.duration;var se=H/2/G;for(te=0;te<z.length;te++){U=z[te];var me=le(U);if(o===p&&j){var ne=yg(U);ne&&j[ne]&&(me=j[ne].sound)}var ae={pitch:me,duration:U.duration*se};ae=J(ae),I.push(ae)}return I}function ie(z,H,G,I){var U=[];G=Math.round(G);for(var te=0;te<z.length;te++){var se=z[te];l.push({cmd:"note",pitch:se.pitch,volume:G,start:H,duration:se.duration,gap:0,instrument:I,style:"grace"}),U.push({pitch:se.pitch,durationInMeasures:se.duration,volume:G,instrument:I}),H+=se.duration}return U}function J(z){var H=""+z.pitch;return H.indexOf(".75")>=0?(z.pitch=Math.round(z.pitch),z.cents=-50):H.indexOf(".25")>=0&&(z.pitch=Math.round(z.pitch),z.cents=50),z}function oe(z){return Math.floor(z/7)}function pe(z){return z=z%7,z<0&&(z+=7),z}function lt(z){if(z.pattern.length===0||z.on===!1)return{on:!1};for(var H=z.pattern[0],G=[],I="",U=0,te=0;te<H.length;te++)if(H[te]==="d"&&U++,H[te]==="d"||H[te]==="z")I.length!==0?(G.push(I),I=H[te]):I=I+H[te];else{if(I.length===0)return{on:!1};I=I+H[te]}if(I.length!==0&&G.push(I),z.pattern.length!==U*2+1)return{on:!1};for(var se={on:!0,bars:z.bars,pattern:[]},me=B(f),ne=0,ae=0;ae<G.length;ae++){I=G[ae];for(var De=1,Ae=!1,de=0,He=1;He<I.length;He++)switch(I[He]){case"/":de!==0&&(De*=de),de=0,Ae=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":de=de*10+I[He];break;default:return{on:!1}}Ae?(de===0&&(de=2),De/=de):de&&(De*=de),I[0]==="d"?(se.pattern.push({len:De*me,pitch:z.pattern[1+ne],velocity:z.pattern[1+ne+U]}),ne++):se.pattern.push({len:De*me,pitch:null})}return M=z.bars?z.bars:1,se}function Ye(){if(!(!E||!E.pattern)){for(var z=E,H=0,G=f.num/f.den,I=0;I<z.pattern.length;I++)H+=z.pattern[I].len;var U=H/M/G;for(I=0;I<z.pattern.length;I++)z.pattern[I].len=z.pattern[I].len/U;E=z}}function gt(z){if(!(T.length===0&&!E.on)){var H=f.num/f.den;if(T.length===0){if(h<H)return;T.push({cmd:"program",channel:z,instrument:p})}if(E.on)for(var G=g,I=0;I<E.pattern.length;I++){var U=S(E.pattern[I].len);E.pattern[I].pitch&&T.push({cmd:"note",pitch:E.pattern[I].pitch,volume:E.pattern[I].velocity,start:G,duration:U,gap:0,instrument:p}),G+=U}}}function Ht(z,H){for(var G={},I=0;I<z.length;I++)for(var U=0;U<z[I].length;U++){var te=z[I][U];te.cmd==="note"&&(G[te.start]===void 0&&(G[te.start]=[]),G[te.start].push({track:I,event:U,pitch:te.pitch}))}var se=Object.keys(G);for(I=0;I<se.length;I++){var me=G[se[I]];if(me.length>1){me=me.sort(function(de,He){return de.pitch-He.pitch});var ne=me[me.length-1],ae=ne.pitch%12,De=!1;for(U=0;!De&&U<me.length-1;U++)me[U].pitch%12===ae&&(De=!0);if(De){var Ae=z[ne.track][ne.event];Ae.cents||(Ae.cents=0),Ae.cents+=H}}}}})();var Zk=cx;function eS(e,t){t||(t={});for(var r=!!t.lineBreaks,n=[],a=!1,s=[],i=[],o=[],l=[],c=[],h=[],u=[],f=0;f<e.length;f++){var p=e[f];if(p.staff){if(a&&!p.vskip)for(var g=n[n.length-1],m=0;m<g.staff.length;m++){var v=p.staff[m],y=g.staff[m];if(v&&(wa(v.meter,s[m])||(tS(v.meter,v.voices),s[m]=v.meter,delete v.meter),wa(v.key,i[m])||(rS(v.key,v.voices),i[m]=v.key,delete v.key),v.title&&(y.abbrevTitle=v.title),wa(v.clef,o[m])||(nS(v.clef,v.voices),o[m]=v.clef,delete v.clef),wa(v.vocalfont,l[m])||(L0(v.vocalfont,v.voices,"vocalfont"),l[m]=v.vocalfont,delete v.vocalfont),wa(v.gchordfont,c[m])||(L0(v.gchordfont,v.voices,"gchordfont"),c[m]=v.gchordfont,delete v.gchordfont),wa(v.tripletfont,h[m])||(L0(v.tripletfont,v.voices,"tripletfont"),h[m]=v.tripletfont,delete v.tripletfont),wa(v.annotationfont,u[m])||(L0(v.annotationfont,v.voices,"annotationfont"),u[m]=v.annotationfont,delete v.annotationfont)),v)for(var b=0;b<y.voices.length;b++){var w=y.voices[b],x=v.voices[b];r&&w.push({el_type:"break"}),x&&(y.voices[b]=w.concat(x))}}else{for(var X=0;X<p.staff.length;X++)i[X]=p.staff[X].key,s[X]=p.staff[X].meter,o[X]=p.staff[X].clef;n.push(aS(p))}a=!0}else a=!1,n.push(p)}return n}function bg(e,t){return e==="abselem"?"abselem":t}function tS(e,t){e.el_type="meter",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function rS(e,t){e.el_type="key",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function nS(e,t){e.el_type="clef",e.startChar=-1,e.endChar=-1;for(var r=0;r<t.length;r++)t[r].unshift(e)}function L0(e,t,r){e.el_type="font",e.type=r,e.startChar=-1,e.endChar=-1;for(var n=0;n<t.length;n++)t[n].unshift(e)}function wa(e,t){if(!e)return!0;var r=JSON.stringify(e,bg),n=JSON.stringify(t,bg);return r===n}function aS(e){for(var t={},r=Object.keys(e),n=0;n<r.length;n++)if(r[n]!=="staff")t[r[n]]=e[r[n]];else{t.staff=[];for(var a=0;a<e.staff.length;a++){for(var s={},i=Object.keys(e.staff[a]),o=0;o<i.length;o++)if(i[o]!=="voices")s[i[o]]=e.staff[a][i[o]];else{s.voices=[];for(var l=0;l<e.staff[a].voices.length;l++)s.voices.push([].concat(e.staff[a].voices[l]))}t.staff.push(s)}}return t}var sS=eS,xg=Sn,wg=$t,iS=ix,oS=Zk,lS=sS,cS=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function e(i,o,l,c){for(var h=0;h<c.length;h++)i[l][c[h]]=o[l][c[h]]}this.copyTopInfo=function(i){var o=["tempo","title","header","rhythm","origin","composer","author","partOrder"];e(this,i,"metaText",o),e(this,i,"metaTextInfo",o)},this.copyBottomInfo=function(i){var o=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];e(this,i,"metaText",o),e(this,i,"metaTextInfo",o)},this.getBeatLength=function(){var i=this.getMeterFraction(),o=1;return(i.num===6||i.num===9||i.num===12||i.num===3&&i.den===8)&&(o=3),o/i.den};function t(i,o){for(var l=0,c=0;c<i.length;c++)if(i[c].staff)for(var h=0;h<i[c].staff.length;h++)for(var u=0;u<i[c].staff[h].voices.length;u++)for(var f=i[c].staff[h].voices[u],p=1,g=0;g<f.length;g++){var m=f[g].rest&&f[g].rest.type==="spacer";if(f[g].startTriplet&&(p=f[g].tripletMultiplier),f[g].duration&&!m&&f[g].el_type!=="tempo"&&(l+=f[g].duration*p),f[g].endTriplet&&(p=1),l>=o&&(l-=o),f[g].el_type==="bar")return l}return l}this.getPickupLength=function(){var i=this.getBarLength(),o=t(this.lines,i);return o<1e-8||i-o<1e-8?0:o},this.getBarLength=function(){var i=this.getMeterFraction();return i.num/i.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(i){var o;if(i)o=i;else{var l=this.metaText?this.metaText.tempo:null;o=this.getBpm(l)}o<=0&&(o=1);var c=this.getBeatsPerMeasure(),h=c/o;return h*6e4},this.getBeatsPerMeasure=function(){var i=this.getBeatLength(),o=this.getBarLength();return o/i},this.getMeter=function(){for(var i=0;i<this.lines.length;i++){var o=this.lines[i];if(o.staff)for(var l=0;l<o.staff.length;l++){var c=o.staff[l].meter;if(c)return c}}return{type:"common_time"}},this.getMeterFraction=function(){var i=this.getMeter(),o=4,l=4;return i&&(i.type==="specified"?(o=parseInt(i.value[0].num,10),l=parseInt(i.value[0].den,10)):i.type==="cut_time"?(o=2,l=2):i.type==="common_time"&&(o=4,l=4)),this.meter={num:o,den:l},this.meter},this.getKeySignature=function(){for(var i=0;i<this.lines.length;i++){var o=this.lines[i];if(o.staff){for(var l=0;l<o.staff.length;l++)if(o.staff[l].key)return o.staff[l].key}}return{}},this.getElementFromChar=function(i){for(var o=0;o<this.lines.length;o++){var l=this.lines[o];if(l.staff)for(var c=0;c<l.staff.length;c++)for(var h=l.staff[c],u=0;u<h.voices.length;u++)for(var f=h.voices[u],p=0;p<f.length;p++){var g=f[p];if(g.startChar&&g.endChar&&g.startChar<=i&&g.endChar>i)return g}}return null};function r(i){for(var o,l,c,h,u=i.length-1;u>=0;u--){var f=i[u];f.type==="bar"?(f.top=c,f.nextTop=o,o=c,f.bottom=h,f.nextBottom=l,l=h):f.type==="event"&&(c=f.top,h=f.top+f.height)}}function n(i){var o=[];for(var l in i)i.hasOwnProperty(l)&&o.push(i[l]);return o=o.sort(function(c,h){var u=c.milliseconds-h.milliseconds;return u!==0?u:c.type==="bar"?-1:1}),o}this.addElementToEvents=function(i,o,l,c,h,u,f,p,g,m){if(o.hint)return{isTiedState:void 0,duration:0};var v=o.durationClass?o.durationClass:o.duration;if(o.abcelem.rest&&o.abcelem.rest.type==="spacer"&&(v=0),v>0){for(var y=[],b=0;b<o.elemset.length;b++)o.elemset[b]!==null&&y.push(o.elemset[b]);var w=o.startTie;if(g!==void 0)i["event"+g].elements.push(y),m&&(i["event"+l]||(i["event"+l]={type:"event",milliseconds:l,line:u,measureNumber:f,top:c,height:h,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),i["event"+l].measureStart=!0,m=!1),w||(g=void 0);else{if(!i["event"+l])i["event"+l]={type:"event",milliseconds:l,line:u,measureNumber:f,top:c,height:h,left:o.x,width:o.w,elements:[y],startChar:o.abcelem.startChar,endChar:o.abcelem.endChar,startCharArray:[o.abcelem.startChar],endCharArray:[o.abcelem.endChar],midiPitches:o.abcelem.midiPitches?xg.cloneArray(o.abcelem.midiPitches):[]},o.abcelem.midiGraceNotePitches&&(i["event"+l].midiGraceNotePitches=xg.cloneArray(o.abcelem.midiGraceNotePitches));else{if(i["event"+l].left?i["event"+l].left=Math.min(i["event"+l].left,o.x):i["event"+l].left=o.x,i["event"+l].elements.push(y),i["event"+l].startCharArray.push(o.abcelem.startChar),i["event"+l].endCharArray.push(o.abcelem.endChar),i["event"+l].startChar===null&&(i["event"+l].startChar=o.abcelem.startChar),i["event"+l].endChar===null&&(i["event"+l].endChar=o.abcelem.endChar),o.abcelem.midiPitches&&o.abcelem.midiPitches.length){i["event"+l].midiPitches||(i["event"+l].midiPitches=[]);for(var b=0;b<o.abcelem.midiPitches.length;b++)i["event"+l].midiPitches.push(o.abcelem.midiPitches[b])}if(o.abcelem.midiGraceNotePitches&&o.abcelem.midiGraceNotePitches.length){i["event"+l].midiGraceNotePitches||(i["event"+l].midiGraceNotePitches=[]);for(var x=0;x<o.abcelem.midiGraceNotePitches.length;x++)i["event"+l].midiGraceNotePitches.push(o.abcelem.midiGraceNotePitches[x])}}m&&(i["event"+l].measureStart=!0,m=!1)}}return{isTiedState:g,duration:v/p,nextIsBar:m||o.type==="bar"}},this.makeVoicesArray=function(){for(var i=[],o=[],l={},c=0;c<this.engraver.staffgroups.length;c++){var h=this.engraver.staffgroups[c];if(h&&h.staffs&&h.staffs.length>0){var u=h.staffs[0],f=u.absoluteY,p=f-u.top*wg.STEP,g=h.staffs[h.staffs.length-1];f=g.absoluteY;for(var m=f-g.bottom*wg.STEP,v=m-p,y=h.voices,b=0;b<y.length;b++)if(!(y[b].staff&&y[b].staff.isTabStaff)){var w=!1;i[b]||(i[b]=[]),o[b]===void 0&&(o[b]=0);for(var x=y[b].children,X=0;X<x.length;X++)x[X].type==="tempo"&&(l[o[b]]=this.getBpm(x[X].abcelem)),i[b].push({top:p,height:v,line:h.line,measureNumber:o[b],elem:x[X]}),x[X].type==="bar"&&w&&o[b]++,(x[X].type==="note"||x[X].type==="rest")&&(w=!0)}}}return this.tempoLocations=l,i},this.setupEvents=function(i,o,l,c){c||(c=1);for(var h=[],u={},f=i,p,g=!0,m=this.makeVoicesArray(),v=0,y=0;y<m.length;y++){var b=f,w=Math.round(b*1e3),x=0,X=-1,k=m[y],N=l;o=this.getBeatLength()*N/60;for(var T=-1,E=0;E<k.length;E++){var M=k[E].measureNumber;T!==M&&this.tempoLocations[M]&&(N=this.tempoLocations[M],o=c*this.getBeatLength()*N/60,T=M);var D=k[E].elem,j=this.addElementToEvents(u,D,w,k[E].top,k[E].height,k[E].line,k[E].measureNumber,o,p,g);p=j.isTiedState,g=j.nextIsBar,b+=j.duration;var R;if(D.duration>0&&u["event"+w]&&(R="event"+w),w=Math.round(b*1e3),D.type==="bar"){var P=D.abcelem.type,O=P==="bar_right_repeat"||P==="bar_dbl_repeat",L=D.abcelem.startEnding==="1",_=P==="bar_left_repeat"||P==="bar_dbl_repeat"||P==="bar_right_repeat";if(O){E>0&&(u[R].endX=D.x),X===-1&&(X=E);var S=0;T=-1;for(var A=x;A<X;A++){M=k[A].measureNumber,T!==M&&this.tempoLocations[M]&&(N=this.tempoLocations[M],o=c*this.getBeatLength()*N/60,T=M);var B=k[A].elem;j=this.addElementToEvents(u,B,w,k[A].top,k[A].height,k[A].line,k[A].measureNumber,o,p,g),p=j.isTiedState,g=j.nextIsBar,b+=j.duration,S=w,w=Math.round(b*1e3)}u["event"+S]&&(u["event"+S].endX=k[X].elem.x),g=!0,X=-1}L&&(X=E),_&&(x=E)}}v=Math.max(v,w)}return h=n(u),r(h),s(this.lines,h),h.push({type:"end",milliseconds:v}),this.addUsefulCallbackInfo(h,N*c),h},this.addUsefulCallbackInfo=function(i,o){for(var l=this.millisecondsPerMeasure(o),c=0;c<i.length;c++){var h=i[c];h.millisecondsPerMeasure=l}};function a(i,o){for(;o<i.length&&i[o].left===null;)o++;return i[o]}function s(i,o){if(!(o.length<1)){for(var l=0;l<o.length-1;l++){var c=o[l],h=a(o,l+1);if(c.left!==null){var u=h&&c.top===h.top?h.left:i[c.line].staffGroup.w;c.endX!==void 0?u>c.left&&(c.endX=Math.min(c.endX,u)):c.endX=u}}var f=o[o.length-1];f.endX=i[f.line].staffGroup.w}}this.getBpm=function(i){var o;if(i||(i=this.metaText?this.metaText.tempo:null),i){o=i.bpm;var l=this.getBeatLength(),c=i.duration&&i.duration.length>0?i.duration[0]:l;o=o*c/l}if(!o){o=180;var h=this.getMeterFraction();h&&h.num!==3&&h.num%3===0&&(o=120)}return o},this.setTiming=function(i,o){if(o=o||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var l=this.metaText?this.metaText.tempo:null,c=this.getBpm(l),h=1;i?l&&(h=i/c):i=c;var u=this.getBeatLength(),f=i/60,p=this.getBarLength(),g=p/u*o/f;g&&(g-=this.getPickupLength()/u/f);var m=u*f;return this.noteTimings=this.setupEvents(g,m,i,h),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*f):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(i){i||(i={});var o=iS(this,i);return oS(o,i,this.formatting.percmap,this.formatting.midi)},this.deline=function(i){return lS(this.lines,i)},this.findSelectableElement=function(i){return this.engraver&&this.engraver.selectables?this.engraver.findSelectableElement(i):null},this.getSelectableArray=function(){return this.engraver&&this.engraver.selectables?this.engraver.selectables:[]}},uS=cS,Xg=zh,dS=function(e){var t=this,r={},n="";e.reset(),this.setVisualTranspose=function(a){a!==void 0&&(e.visualTranspose=a)},this.cleanUp=function(a,s,i){Tu(e),delete e.runningFonts,fS(e),e.metaText.tempo&&e.metaText.tempo.bpm&&!e.metaText.tempo.duration&&(e.metaText.tempo.duration=[e.getBeatLength()]);var o=!1,l,c,h;for(l=0;l<e.lines.length;l++)if(e.lines[l].staff!==void 0){var u=!1;for(c=0;c<e.lines[l].staff.length;c++)if(e.lines[l].staff[c]===void 0)o=!0,e.lines[l].staff[c]=null;else for(h=0;h<e.lines[l].staff[c].voices.length;h++)e.lines[l].staff[c].voices[h]===void 0?e.lines[l].staff[c].voices[h]=[]:_u(e.lines[l].staff[c].voices[h])&&(u=!0);u||(e.lines[l]=null,o=!0)}if(o&&(e.lines=e.lines.filter(function(y){return!!y}),e.lines.forEach(function(y){y.staff&&(y.staff=y.staff.filter(function(b){return!!b}))})),a)for(;vS(e.lines,a););if(s){for(o=!1,l=0;l<e.lines.length;l++)if(e.lines[l].staff!==void 0)for(c=0;c<e.lines[l].staff.length;c++){var f=!1;for(h=0;h<e.lines[l].staff[c].voices.length;h++)wS(e.lines[l].staff[c].voices[h])&&(f=!0);f||(o=!0,e.lines[l].staff[c]=null)}o&&e.lines.forEach(function(y){y.staff&&(y.staff=y.staff.filter(function(b){return!!b}))})}for(gS(e.lines),l=0;l<e.lines.length;l++)if(e.lines[l].staff)for(c=0;c<e.lines[l].staff.length;c++)delete e.lines[l].staff[c].workingClef;for(;hS(e););for(var l=0;l<e.lines.length;l++){var p=e.lines[l].staff;if(p)for(e.staffNum=0;e.staffNum<p.length;e.staffNum++)for(p[e.staffNum].clef&&Xg.fixClef(p[e.staffNum].clef),e.voiceNum=0;e.voiceNum<p[e.staffNum].voices.length;e.voiceNum++){var g=p[e.staffNum].voices[e.voiceNum];mS(g,e.staffNum,e.voiceNum,i);for(var m=0;m<g.length;m++)g[m].el_type==="clef"&&Xg.fixClef(g[m]);if(g.length>0&&g[g.length-1].barNumber){var v=ux(e.lines,l);v&&(v.staff[0].barNumber=g[g.length-1].barNumber),delete g[g.length-1].barNumber}}}return delete e.staffNum,delete e.voiceNum,delete e.lineNum,delete e.potentialStartBeam,delete e.potentialEndBeam,delete e.vskipPending,i},this.addTieToLastNote=function(a){var s=bS(e);return s&&s.pitches&&s.pitches.length>0?(s.pitches[0].startTie={},a&&(s.pitches[0].startTie.style="dotted"),!0):!1},this.appendElement=function(a,s,i,o){if(o.el_type=a,s!==null&&(o.startChar=s),i!==null&&(o.endChar=i),a==="note"){var l=xS(o);l>=.25||o.force_end_beam_last&&e.potentialStartBeam!==void 0?R0(e):o.end_beam&&e.potentialStartBeam!==void 0?o.rest===void 0?CS(o,e):R0(e):o.rest===void 0&&(e.potentialStartBeam===void 0?o.end_beam||(e.potentialStartBeam=o,delete e.potentialEndBeam):e.potentialEndBeam=o)}else R0(e);return delete o.end_beam,delete o.force_end_beam_last,o.rest&&o.rest.type==="invisible"&&delete o.decoration,e.lines.length<=e.lineNum||e.lines[e.lineNum].staff.length<=e.staffNum?!1:(XS(t,e,o,r,n),!0)},this.appendStartingElement=function(a,s,i,o){Tu(e);var l;a==="key"&&(l=o.impliedNaturals,delete o.impliedNaturals,delete o.explicitAccidentals);var c=Object.assign({},o);if(e.lines[e.lineNum]){var h=e.lines[e.lineNum].staff;if(h){h.length<=e.staffNum&&(h[e.staffNum]={},h[e.staffNum].clef=Object.assign({},h[0].clef),h[e.staffNum].key=Object.assign({},h[0].key),h[0].meter&&(h[e.staffNum].meter=Object.assign({},h[0].meter)),h[e.staffNum].workingClef=Object.assign({},h[0].workingClef),h[e.staffNum].voices=[[]]),a==="clef"&&(h[e.staffNum].workingClef=c);for(var u=h[e.staffNum].voices[e.voiceNum],f=0;f<u.length;f++){if(u[f].el_type==="note"||u[f].el_type==="bar"){c.el_type=a,c.startChar=s,c.endChar=i,l&&(c.accidentals=l.concat(c.accidentals)),u.push(c);return}if(u[f].el_type===a){c.el_type=a,c.startChar=s,c.endChar=i,l&&(c.accidentals=l.concat(c.accidentals)),u[f]=c;return}}h[e.staffNum][a]=o}}},this.addSubtitle=function(a,s){Li(e,{subtitle:{text:a,startChar:s.startChar,endChar:s.endChar}})},this.addSpacing=function(a){e.vskipPending=a},this.addNewPage=function(a){Li(e,{newpage:a})},this.addSeparator=function(a,s,i,o){Li(e,{separator:{spaceAbove:Math.round(a),spaceBelow:Math.round(s),lineLength:Math.round(i),startChar:o.startChar,endChar:o.endChar}})},this.addText=function(a,s){Li(e,{text:{text:a,startChar:s.startChar,endChar:s.endChar}})},this.addCentered=function(a){Li(e,{text:[{text:a,center:!0}]})},this.changeVoiceScale=function(a){t.appendElement("scale",null,null,{size:a})},this.changeVoiceColor=function(a){t.appendElement("color",null,null,{color:a})},this.startNewLine=function(a){Tu(e),a.currentVoiceName&&(n=a.currentVoiceName,r[a.currentVoiceName]=a),e.lines[e.lineNum]===void 0?kS(t,e,a):e.lines[e.lineNum].staff===void 0?(e.lineNum++,this.startNewLine(a)):e.lines[e.lineNum].staff[e.staffNum]===void 0?dx(t,e,a):e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum]===void 0?Wh(t,e,a):_u(e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum])?(e.lineNum++,this.startNewLine(a)):a.part&&t.appendElement("part",a.part.startChar,a.part.endChar,{title:a.part.title})},this.setRunningFont=function(a,s){e.runningFonts[a]=s},this.setBarNumberImmediate=function(a){var s=this.getCurrentVoice();if(s&&s.length>0){var i=s[s.length-1];if(i.el_type==="bar")i.barNumber!==void 0&&(i.barNumber=a);else return a-1}return a},this.hasBeginMusic=function(){for(var a=0;a<e.lines.length;a++)if(e.lines[a].staff)return!0;return!1},this.isFirstLine=function(a){for(var s=a-1;s>=0;s--)if(e.lines[s].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var a=yS(e.lines,e.lineNum);if(!a)return null;var s=a.staff[e.staffNum];return s&&s.voices[e.voiceNum]!==void 0?s.voices[e.voiceNum]:null},this.setCurrentVoice=function(a,s,i){e.staffNum=a,e.voiceNum=s,n=i;for(var o=0;o<e.lines.length;o++)if(e.lines[o].staff&&(e.lines[o].staff[a]===void 0||e.lines[o].staff[a].voices[s]===void 0||!_u(e.lines[o].staff[a].voices[s])))return e.lineNum=o,!!(!e.lines[o].staff[a]||e.lines[o].staff[a].voices[s]);return e.lineNum=o,!1},this.addMetaText=function(a,s,i){e.metaText[a]===void 0?(e.metaText[a]=s,e.metaTextInfo[a]=i):(typeof e.metaText[a]=="string"&&typeof s=="string"?e.metaText[a]+=`
`+s:(e.metaText[a]==="string"&&(e.metaText[a]=[{text:e.metaText[a]}]),typeof s=="string"&&(s=[{text:s}]),e.metaText[a]=e.metaText[a].concat(s)),e.metaTextInfo[a].endChar=i.endChar)},this.addMetaTextArray=function(a,s,i){e.metaText[a]===void 0?(e.metaText[a]=[s],e.metaTextInfo[a]=i):(e.metaText[a].push(s),e.metaTextInfo[a].endChar=i.endChar)},this.addMetaTextObj=function(a,s,i){e.metaText[a]=s,e.metaTextInfo[a]=i}};function Cg(e){if(!e||typeof e=="string")return!1;for(var t=0;t<e.length;t++)if(typeof e[t]!="string")return!1;return!0}function fS(e){Cg(e.metaText.notes)&&(e.metaText.notes=e.metaText.notes.join(`
`)),Cg(e.metaText.history)&&(e.metaText.history=e.metaText.history.join(`
`))}function hS(e){for(var t=!1,r=[],n=0;n<e.lines.length;n++){var a=e.lines[n];if(a.staff)for(var s=0;s<a.staff.length;s++){for(var i=a.staff[s],o=[],l=0;l<i.voices.length;l++){var c=i.voices[l];o.push({hasOverlay:!1,voice:[],snip:[]}),r[n]=0;for(var h=0,u=!1,f=-1,p=0;p<c.length;p++){var g=c[p];if(g.el_type==="overlay"&&!u){t=!0,u=!0,f=p,o[l].hasOverlay=!0;for(var m=0;m<n;m++)r[m]&&e.lines[m].staff&&i.voices.length>=e.lines[m].staff[0].voices.length&&e.lines[m].staff[0].voices.push([{el_type:"note",duration:r[m],rest:{type:"invisible"},startChar:g.startChar,endChar:g.endChar}])}else g.el_type==="bar"?(u?(u=!1,o[l].snip.push({start:f,len:p-f}),o[l].voice.push(g)):(h>0&&o[l].voice.push({el_type:"note",duration:h,rest:{type:"invisible"},startChar:g.startChar,endChar:g.endChar}),o[l].voice.push(g)),h=0):g.el_type==="note"?u?o[l].voice.push(g):(h+=g.duration,r[n]+=g.duration):(g.el_type==="scale"||g.el_type==="stem"||g.el_type==="overlay"||g.el_type==="style"||g.el_type==="transpose"||g.el_type==="color")&&o[l].voice.push(g)}o[l].hasOverlay&&o[l].snip.length===0&&o[l].snip.push({start:f,len:c.length-f})}for(l=0;l<o.length;l++){var v=o[l];if(v.hasOverlay){v.voice.splice(0,0,{el_type:"stem",direction:"down"}),i.voices.push(v.voice);for(var y=v.snip.length-1;y>=0;y--){var b=v.snip[y];i.voices[l].splice(b.start,b.len),i.voices[l].splice(b.start+1,0,{el_type:"stem",direction:"auto"});var w=pS(i.voices[l],b.start);i.voices[l].splice(w,0,{el_type:"stem",direction:"up"})}for(y=0;y<i.voices[i.voices.length-1].length;y++){i.voices[i.voices.length-1][y]=Object.assign({},i.voices[i.voices.length-1][y]);var x=i.voices[i.voices.length-1][y];x.el_type==="bar"&&x.startEnding&&delete x.startEnding,x.el_type==="bar"&&x.endEnding&&delete x.endEnding}}}}}return t}function pS(e,t){for(var r=t-1;r>0&&e[r].el_type!=="bar";r--);return r}function gS(e){for(var t=!0,r=0;r<e.length;r++){var n=e[r];if(n.staff){for(var a=0;a<n.staff.length;a++){var s=n.staff[a];if(s.title){for(var i=!1,o=0;o<s.title.length;o++)s.title[o]?(s.title[o]=t?s.title[o].name:s.title[o].subname,s.title[o]?i=!0:s.title[o]=""):s.title[o]="";i||delete s.title}}t=!1}}}function mS(e,t,r,n){n[t]||(n[t]=[]),n[t][r]||(n[t][r]=[]);for(var a,s=function(y,b,w){if(n[t][r][w]===void 0){for(a=0;a<n[t][r].length;a++)if(n[t][r][a]!==void 0){w=a;break}if(n[t][r][w]===void 0){var x=w*100+1;y.endSlur.forEach(function(N){x===N&&--x}),n[t][r][w]=[x]}}for(var X,k=0;k<b;k++)X=n[t][r][w].pop(),y.endSlur.push(X);return n[t][r][w].length===0&&delete n[t][r][w],X},i=function(y,b,w,x){y.startSlur=[],n[t][r][w]===void 0&&(n[t][r][w]=[]);for(var X=w*100+1,k=0;k<b;k++)x&&(x.forEach(function(N){X===N&&++X}),x.forEach(function(N){X===N&&++X}),x.forEach(function(N){X===N&&++X})),n[t][r][w].forEach(function(N){X===N&&++X}),n[t][r][w].forEach(function(N){X===N&&++X}),n[t][r][w].push(X),y.startSlur.push({label:X}),y.dottedSlur&&(y.startSlur[y.startSlur.length-1].style="dotted",delete y.dottedSlur),X++},o=0;o<e.length;o++){var l=e[o];if(l.el_type==="note"){if(l.gracenotes)for(var c=0;c<l.gracenotes.length;c++){if(l.gracenotes[c].endSlur){var h=l.gracenotes[c].endSlur;l.gracenotes[c].endSlur=[];for(var u=0;u<h;u++)s(l.gracenotes[c],1,20)}l.gracenotes[c].startSlur&&(a=l.gracenotes[c].startSlur,i(l.gracenotes[c],a,20))}if(l.endSlur&&(a=l.endSlur,l.endSlur=[],s(l,a,0)),l.startSlur&&(a=l.startSlur,i(l,a,0)),l.pitches){for(var f=[],p=0;p<l.pitches.length;p++)if(l.pitches[p].endSlur){var g=l.pitches[p].endSlur;l.pitches[p].endSlur=[];for(var m=0;m<g;m++){var v=s(l.pitches[p],1,p+1);f.push(v)}}for(p=0;p<l.pitches.length;p++)l.pitches[p].startSlur&&(a=l.pitches[p].startSlur,i(l.pitches[p],a,p+1,f));l.gracenotes&&l.pitches[0].endSlur&&l.pitches[0].endSlur[0]===100&&l.pitches[0].startSlur&&(l.gracenotes[0].endSlur?l.gracenotes[0].endSlur.push(l.pitches[0].startSlur[0].label):l.gracenotes[0].endSlur=[l.pitches[0].startSlur[0].label],l.pitches[0].endSlur.length===1?delete l.pitches[0].endSlur:l.pitches[0].endSlur[0]===100?l.pitches[0].endSlur.shift():l.pitches[0].endSlur[l.pitches[0].endSlur.length-1]===100&&l.pitches[0].endSlur.pop(),n[t][r][1].length===1?delete n[t][r][1]:n[t][r][1].pop())}}}}function vS(e,t){for(var r=0;r<e.length;r++)if(e[r].staff!==void 0)for(var n=0;n<e[r].staff.length;n++)for(var a=[],s=0;s<e[r].staff[n].voices.length;s++)for(var i=e[r].staff[n].voices[s],o=0,l=0;l<i.length;l++)if(i[l].el_type==="bar"){if(o++,o>=t&&l<i.length-1){var c=ux(e,r);if(!c){var h=JSON.parse(JSON.stringify(e[r]));e.push(Object.assign({},h)),c=e[e.length-1];for(var u=0;u<c.staff.length;u++)for(var f=0;f<c.staff[u].voices.length;f++)c.staff[u].voices[f]=[]}var p=l+1,g=e[r].staff[n].voices[s].slice(p);return e[r].staff[n].voices[s]=e[r].staff[n].voices[s].slice(0,p),c.staff[n].voices[s]=a.concat(g.concat(c.staff[n].voices[s])),!0}}else i[l].duration||a.push(i[l]);return!1}function yS(e,t){if(e.length<=t)return null;for(;t>=0;){if(e[t].staff)return e[t];t--}return null}function ux(e,t){for(t++;e.length>t;){if(e[t].staff)return e[t];t++}return null}function bS(e){if(!e.lines[e.lineNum]||!e.lines[e.lineNum].staff||!e.lines[e.lineNum].staff[e.staffNum])return null;var t=e.lines[e.lineNum].staff[e.staffNum].voices[e.voiceNum];if(!t)return null;for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.el_type==="note")return n}return null}function xS(e){return e.duration?e.duration:0}function Tu(e){e.potentialStartBeam&&e.potentialEndBeam&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function _u(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"||e[t].el_type==="bar")return!0;return!1}function wS(e){for(var t=0;t<e.length;t++)if(e[t].el_type==="note"&&(e[t].rest===void 0||e[t].chord!==void 0))return!0;return!1}function Li(e,t){e.vskipPending&&(t.vskip=e.vskipPending,delete e.vskipPending),e.lines.push(t)}function XS(e,t,r,n,a){var s=t.lines[t.lineNum].staff[t.staffNum];if(r.pitches!==void 0){var i=s.workingClef.verticalPos;r.pitches.forEach(function(l){l.verticalPos=l.pitch-i})}if(r.gracenotes!==void 0){var o=s.workingClef.verticalPos;r.gracenotes.forEach(function(l){l.verticalPos=l.pitch-o})}s.voices.length<=t.voiceNum&&(n[a]||(n[a]={}),Wh(e,t,n[a])),s.voices[t.voiceNum].push(r)}function CS(e,t){t.potentialStartBeam.startBeam=!0,e.endBeam=!0,delete t.potentialStartBeam,delete t.potentialEndBeam}function R0(e){e.potentialStartBeam!==void 0&&e.potentialEndBeam!==void 0&&(e.potentialStartBeam.startBeam=!0,e.potentialEndBeam.endBeam=!0),delete e.potentialStartBeam,delete e.potentialEndBeam}function D0(e,t,r){if(e.runningFonts[t]){for(var n=!1,a=Object.keys(r),s=0;s<a.length;s++)e.runningFonts[t][a[s]]!==r[a[s]]&&(n=!0);n&&(e.lines[e.lineNum].staff[e.staffNum][t]=r)}e.runningFonts[t]=r}function Wh(e,t,r){var n=t.lines[t.lineNum].staff[t.staffNum];if(n.voices[t.voiceNum]=[],n.title||(n.title=[]),n.title[t.voiceNum]={name:r.name,subname:r.subname},r.style&&e.appendElement("style",null,null,{head:r.style}),r.stem)e.appendElement("stem",null,null,{direction:r.stem});else if(t.voiceNum>0){if(n.voices[0]!==void 0){for(var a=!1,s=0;s<n.voices[0].length;s++)n.voices[0].el_type==="stem"&&(a=!0);if(!a){var i={el_type:"stem",direction:"up"};n.voices[0].splice(0,0,i)}}e.appendElement("stem",null,null,{direction:"down"})}r.scale&&e.appendElement("scale",null,null,{size:r.scale}),r.color&&e.appendElement("color",null,null,{color:r.color})}function dx(e,t,r){r.key&&r.key.impliedNaturals&&(r.key.accidentals=r.key.accidentals.concat(r.key.impliedNaturals),delete r.key.impliedNaturals),t.lines[t.lineNum].staff[t.staffNum]={voices:[],clef:r.clef,key:r.key,workingClef:r.clef};var n=t.lines[t.lineNum].staff[t.staffNum];r.stafflines!==void 0&&(n.clef.stafflines=r.stafflines,n.workingClef.stafflines=r.stafflines),r.staffscale&&(n.staffscale=r.staffscale),r.annotationfont&&D0(t,"annotationfont",r.annotationfont),r.gchordfont&&D0(t,"gchordfont",r.gchordfont),r.tripletfont&&D0(t,"tripletfont",r.tripletfont),r.vocalfont&&D0(t,"vocalfont",r.vocalfont),r.bracket&&(n.bracket=r.bracket),r.brace&&(n.brace=r.brace),r.connectBarLines&&(n.connectBarLines=r.connectBarLines),r.barNumber&&(n.barNumber=r.barNumber),Wh(e,t,r),r.part&&e.appendElement("part",r.part.startChar,r.part.endChar,{title:r.part.title}),r.meter!==void 0&&(n.meter=r.meter),t.vskipPending&&(t.lines[t.lineNum].vskip=t.vskipPending,delete t.vskipPending)}function kS(e,t,r){t.lines[t.lineNum]={staff:[]},dx(e,t,r)}var SS=dS,An=Sn,kg=Ih,NS=Ck,ES=Lk,TS=Rk,_S=ax,jS=uS,PS=SS,AS=function(){var e=new jS,t=new PS(e),r,n="",a="";this.getTune=function(){var x={formatting:e.formatting,lines:e.lines,media:e.media,metaText:e.metaText,metaTextInfo:e.metaTextInfo,version:e.version,addElementToEvents:e.addElementToEvents,addUsefulCallbackInfo:e.addUsefulCallbackInfo,getTotalTime:e.getTotalTime,getTotalBeats:e.getTotalBeats,getBarLength:e.getBarLength,getBeatLength:e.getBeatLength,getBeatsPerMeasure:e.getBeatsPerMeasure,getBpm:e.getBpm,getMeter:e.getMeter,getMeterFraction:e.getMeterFraction,getPickupLength:e.getPickupLength,getKeySignature:e.getKeySignature,getElementFromChar:e.getElementFromChar,makeVoicesArray:e.makeVoicesArray,millisecondsPerMeasure:e.millisecondsPerMeasure,setupEvents:e.setupEvents,setTiming:e.setTiming,setUpAudio:e.setUpAudio,deline:e.deline,findSelectableElement:e.findSelectableElement,getSelectableArray:e.getSelectableArray};return e.lineBreaks&&(x.lineBreaks=e.lineBreaks),e.visualTranspose&&(x.visualTranspose=e.visualTranspose),x};function s(x,X,k){x.positioning||(x.positioning={}),x.positioning[X]=k}function i(x,X,k){x.fonts||(x.fonts={}),x.fonts[X]=k}var o={reset:function(){for(var x in this)this.hasOwnProperty(x)&&typeof this[x]!="function"&&delete this[x];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(x,X){return this[x].decoration!==X[x].decoration||this[x].face!==X[x].face||this[x].size!==X[x].size||this[x].style!==X[x].style||this[x].weight!==X[x].weight},addFormattingOptions:function(x,X,k){k==="note"?(this.vocalPosition!=="auto"&&s(x,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&s(x,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&s(x,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&s(x,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&s(x,"volumePosition",this.volumePosition),this.differentFont("annotationfont",X)&&i(x,"annotationfont",this.annotationfont),this.differentFont("gchordfont",X)&&i(x,"gchordfont",this.gchordfont),this.differentFont("vocalfont",X)&&i(x,"vocalfont",this.vocalfont),this.differentFont("tripletfont",X)&&i(x,"tripletfont",this.tripletfont)):k==="bar"&&(this.dynamicPosition!=="auto"&&s(x,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&s(x,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&s(x,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&s(x,"volumePosition",this.volumePosition),this.differentFont("measurefont",X)&&i(x,"measurefont",this.measurefont),this.differentFont("repeatfont",X)&&i(x,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var x=0;x<this.inTie.length;x++)if(this.endingHoldOver.inTie.push([]),this.inTie[x])for(var X=0;X<this.inTie[x].length;X++)this.endingHoldOver.inTie[x].push(this.inTie[x][X]);for(var k in this.inTieChord)this.inTieChord.hasOwnProperty(k)&&(this.endingHoldOver.inTieChord[k]=this.inTieChord[k])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var x=0;x<this.endingHoldOver.inTie.length;x++){this.inTie.push([]);for(var X=0;X<this.endingHoldOver.inTie[x].length;X++)this.inTie[x].push(this.endingHoldOver.inTie[x][X])}for(var k in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(k)&&(this.inTieChord[k]=this.endingHoldOver.inTieChord[k])}}},l=function(x){o.warnings||(o.warnings=[]),o.warnings.push(x)},c=function(x){o.warningObjects||(o.warningObjects=[]),o.warningObjects.push(x)},h=function(x){var X=x.replace(/\x12/g," ");return X=X.replace(/&/g,"&amp;"),X=X.replace(/</g,"&lt;"),X.replace(/>/g,"&gt;")},u=function(x,X,k){X||(X=" ");var N=X[k];(N===" "||!N)&&(N="SPACE");var T=h(X.substring(k-64,k))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+N+"</span>"+h(X.substring(k+1).substring(0,64));l("Music Line:"+r.lineIndex+":"+(k+1)+": "+x+":  "+T),c({message:x,line:X,startChar:o.iChar+k,column:k})},f,p;this.getWarnings=function(){return o.warnings},this.getWarningObjects=function(){return o.warningObjects};var g=function(x,X){if(X.indexOf("")>=0){n+=X;return}if(X=n+X,n="",!x){u("Can't add words before the first line of music",x,0);return}X=An.strip(X),X[X.length-1]!=="-"&&(X=X+" ");for(var k=[],N=0,T=!1,E=function(R){var P=An.strip(X.substring(N,R));if(P=P.replace(/\\([-_*|~])/g,"$1"),N=R+1,P.length>0){T&&(P=P.replace(/~/g," "));var O=X[R];return O!=="_"&&O!=="-"&&(O=" "),k.push({syllable:r.translateString(P),divider:O}),T=!1,!0}return!1},M=!1,D=0;D<X.length;D++){switch(X[D]){case" ":case"":E(D);break;case"-":!M&&!E(D)&&k.length>0&&(An.last(k).divider="-",k.push({skip:!0,to:"next"}));break;case"_":M||(E(D),k.push({skip:!0,to:"slur"}));break;case"*":M||(E(D),k.push({skip:!0,to:"next"}));break;case"|":M||(E(D),k.push({skip:!0,to:"bar"}));break;case"~":M||(T=!0);break}M=X[D]==="\\"}var j=!1;x.forEach(function(R){if(k.length!==0){if(k[0].skip){switch(k[0].to){case"next":R.el_type==="note"&&R.pitches!==null&&!j&&k.shift();break;case"slur":R.el_type==="note"&&R.pitches!==null&&k.shift();break;case"bar":R.el_type==="bar"&&k.shift();break}R.el_type!=="bar"&&(R.lyric===void 0?R.lyric=[{syllable:"",divider:" "}]:R.lyric.push({syllable:"",divider:" "}))}else if(R.el_type==="note"&&R.rest===void 0&&!j){var P=k.shift();P.syllable&&(P.syllable=P.syllable.replace(/ +/g,"")),R.lyric===void 0?R.lyric=[P]:R.lyric.push(P)}}})},m=function(x,X){if(X.indexOf("")>=0){a+=X;return}if(X=a+X,a="",!x){u("Can't add symbols before the first line of music",x,0);return}X=An.strip(X),X[X.length-1]!=="-"&&(X=X+" ");for(var k=[],N=0,T=!1,E=function(j){var R=An.strip(X.substring(N,j));if(N=j+1,R.length>0){T&&(R=R.replace(/~/g," "));var P=X[j];return P!=="_"&&P!=="-"&&(P=" "),k.push({syllable:r.translateString(R),divider:P}),T=!1,!0}return!1},M=0;M<X.length;M++)switch(X[M]){case" ":case"":E(M);break;case"-":!E(M)&&k.length>0&&(An.last(k).divider="-",k.push({skip:!0,to:"next"}));break;case"_":E(M),k.push({skip:!0,to:"slur"});break;case"*":E(M),k.push({skip:!0,to:"next"});break;case"|":E(M),k.push({skip:!0,to:"bar"});break;case"~":T=!0;break}var D=!1;x.forEach(function(j){if(k.length!==0){if(k[0].skip)switch(k[0].to){case"next":j.el_type==="note"&&j.pitches!==null&&!D&&k.shift();break;case"slur":j.el_type==="note"&&j.pitches!==null&&k.shift();break;case"bar":j.el_type==="bar"&&k.shift();break}else if(j.el_type==="note"&&j.rest===void 0&&!D){var R=k.shift();j.lyric===void 0?j.lyric=[R]:j.lyric.push(R)}}})},v=function(x){if(An.startsWith(x,"%%")){var X=kg.addDirective(x.substring(2));X&&u(X,x,2);return}var k=x.indexOf("%");if(k>=0&&(x=x.substring(0,k)),x=x.replace(/\s+$/,""),x.length!==0){if(n){g(t.getCurrentVoice(),x.substring(2));return}if(a){m(t.getCurrentVoice(),x.substring(2));return}if(x.length<2||x[1]!==":"||p.lineContinuation){p.parseMusic(x);return}var N=f.parseHeader(x);N.regular&&p.parseMusic(x),N.newline&&p.startNewLine(),N.words&&g(t.getCurrentVoice(),x.substring(2)),N.symbols&&m(t.getCurrentVoice(),x.substring(2))}};function y(x,X){x.push({el_type:"hint"});for(var k=0;k<X.length;k++){var N=X[k],T=Object.assign({},N);if(x.push(T),N.el_type==="bar")return}}function b(x,X){for(var k=0;k<x.length;k++){var N=x[k],T=X[k];if(T)for(var E=0;E<T.voices.length;E++){var M=T.voices[E],D=N.voices[E];D&&y(D,M)}}}function w(){for(var x=0;x<e.lines.length;x++){var X=e.lines[x].staff;if(X){for(var k=x+1;k<e.lines.length&&e.lines[k].staff===void 0;)k++;if(k<e.lines.length){var N=e.lines[k].staff;b(X,N)}}}}this.parse=function(x,X,k){X||(X={}),k||(k=0),e.reset(),x=x.replace(/\r\n?/g,`
`)+`
`;var N=x.split(`
\\`);if(N.length>1){for(var T=1;T<N.length;T++)for(;N[T].length>0&&N[T][0]!==`
`;)N[T]=N[T].substr(1),N[T-1]+=" ";x=N.join("  ")}x=x.replace(/\\([ \t]*)(%.*)*\n/g,function(O,L,_){var S=_?Array(_.length+1).join(" "):"";return L+""+S+`
`});var E=x.split(`
`);An.last(E).length===0&&E.pop(),r=new TS(E,o),f=new NS(r,u,o,e,t),p=new ES(r,u,o,e,t,f),X.print&&(e.media="print"),o.reset(),o.iChar=k,X.visualTranspose?(o.globalTranspose=parseInt(X.visualTranspose),o.globalTranspose===0?o.globalTranspose=void 0:t.setVisualTranspose(X.visualTranspose)):o.globalTranspose=void 0,X.lineBreaks&&(o.lineBreaks=X.lineBreaks),f.reset(r,u,o,e);try{X.format&&kg.globalFormatting(X.format);for(var M=r.nextLine();M;){if(X.header_only&&o.is_in_header===!1||X.stop_on_warning&&o.warnings)throw"normal_abort";var D=o.is_in_header;v(M),D&&!o.is_in_header&&(t.setRunningFont("annotationfont",o.annotationfont),t.setRunningFont("gchordfont",o.gchordfont),t.setRunningFont("tripletfont",o.tripletfont),t.setRunningFont("vocalfont",o.vocalfont)),M=r.nextLine()}n&&g(t.getCurrentVoice(),""),a&&m(t.getCurrentVoice(),""),o.openSlurs=t.cleanUp(o.barsperstaff,o.staffnonote,o.openSlurs)}catch(O){if(O!=="normal_abort")throw O}var j=11*72,R=8.5*72;switch(o.papersize){case"legal":j=14*72,R=8.5*72;break;case"A4":j=11.7*72,R=8.3*72;break}if(o.landscape){var P=j;j=R,R=P}e.formatting.pagewidth||(e.formatting.pagewidth=R),e.formatting.pageheight||(e.formatting.pageheight=j),X.hint_measures&&w(),_S.wrapLines(e,o.lineBreaks,o.barNumbers)}},fx=AS,Ri=Sn,MS=function(e){var t="",r=e.match(/(\s*)/);e=Ri.strip(e);for(var n=e.split(`
X:`),a=1;a<n.length;a++)n[a]="X:"+n[a];var s=r?r[0].length:0,i=[];if(n.forEach(function(h){i.push({abc:h,startPos:s}),s+=h.length+1}),i.length>1&&!Ri.startsWith(i[0].abc,"X:")){var o=i.shift(),l=o.abc.split(`
`);l.forEach(function(h){Ri.startsWith(h,"%%")&&(t+=h+`
`)})}var c=t;return i.forEach(function(h){var u=h.abc.indexOf(`

`);u>0&&(h.abc=h.abc.substring(0,u)),h.pure=h.abc,h.abc=t+h.abc,h.title="";var f=h.pure.split("T:");f.length>1&&(f=f[1].split(`
`),h.title=Ri.strip(f[0]));var p=h.pure.substring(2,h.pure.indexOf(`
`));h.id=Ri.strip(p)}),{header:c,tunes:i}},BS=MS;function Uh(e,t){this.numLines=e,this.lineSpace=t,this.verticalSize=this.numLines*this.lineSpace;var r=3;this.bar={pitch:r,pitch2:t*e,height:5}}Uh.prototype.bypass=function(e){var t=e.staffGroup.voices;return!!(t.length>0&&t[0].isPercussion)};Uh.prototype.setRelative=function(e,t,r){switch(e.type){case"bar":t.pitch=this.bar.pitch,t.pitch2=this.bar.pitch2,t.height=this.height;break;case"symbol":var n=this.bar.pitch2/2;if(e.name=="dots.dot")return r?(t.pitch=n,!1):(t.pitch=n+this.lineSpace,!0);break}return r};var LS=Uh,ma=function(t,r){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=t,this.voicetotal=r,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};ma.prototype.addChild=function(e){if(e.type==="bar"){for(var t=!0,r=0;t&&r<this.children.length;r++)this.children[r].type.indexOf("staff-extra")<0&&this.children[r].type!=="tempo"&&(t=!1);t||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=e,this.setRange(e)};ma.prototype.setLimit=function(e,t){var r=t.specialY;r||(r=t),r[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],r[e]):this.specialY[e]=r[e])};ma.prototype.adjustRange=function(e){e.bottom!==void 0&&(this.bottom=Math.min(this.bottom,e.bottom)),e.top!==void 0&&(this.top=Math.max(this.top,e.top))};ma.prototype.setRange=function(e){this.adjustRange(e),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};ma.prototype.addOther=function(e){this.otherchildren.push(e),this.setRange(e)};ma.prototype.addBeam=function(e){this.beams.push(e)};ma.prototype.setWidth=function(e){this.w=e};var hx=ma,RS=function(e,t,r,n){if(e)for(var a=0;a<e.length;a++){var s=e[a],i=s.getAttribute("highlight");i||(i="fill"),s.setAttribute(i,n);var o=s.getAttribute("class");o||(o=""),o=o.replace(r,""),o=o.replace(t,""),t.length>0&&(o.length>0&&o[o.length-1]!==" "&&(o+=" "),o+=t),s.setAttribute("class",o)}},Vh=RS,DS=Vh,OS=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#ff0000"),DS(this.elemset,e,"",t)},px=OS,IS=Vh,FS=function(e,t){e===void 0&&(e="abcjs-note_selected"),t===void 0&&(t="#000000"),IS(this.elemset,"",e,t)},gx=FS,zS=px,$S=gx,ht=function(t,r,n,a,s,i){i||(i={}),this.tuneNumber=s,this.abcelem=t,this.duration=r,this.durationClass=i.durationClassOveride?i.durationClassOveride:this.duration,this.minspacing=n||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=a,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};ht.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};ht.prototype.addExtra=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top),this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom),e.dx<this.extraw&&(this.extraw=e.dx),this.extra[this.extra.length]=e,this._addChild(e)};ht.prototype.addHead=function(e){e.dx<this.extraw&&(this.extraw=e.dx),this.heads[this.heads.length]=e,this.addRight(e)};ht.prototype.addRight=function(e){this.fixed.w=Math.max(this.fixed.w,e.dx+e.w),e.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=e.top:this.fixed.t=Math.max(this.fixed.t,e.top)),e.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=e.bottom:this.fixed.b=Math.min(this.fixed.b,e.bottom)),e.dx+e.w>this.w&&(this.w=e.dx+e.w),this.right[this.right.length]=e,this._addChild(e)};ht.prototype.addFixed=function(e){this._addChild(e)};ht.prototype.addFixedX=function(e){this._addChild(e)};ht.prototype.addCentered=function(e){var t=e.w/2;-t<this.extraw&&(this.extraw=-t),this.extra[this.extra.length]=e,e.dx+t>this.w&&(this.w=e.dx+t),this.right[this.right.length]=e,this._addChild(e)};ht.prototype.setLimit=function(e,t){t[e]&&(this.specialY[e]?this.specialY[e]=Math.max(this.specialY[e],t[e]):this.specialY[e]=t[e])};ht.prototype._addChild=function(e){var t=!0;this.abcelem.el_type=="clef"&&e.type=="barNumber"&&(t=!1),e.parent=this,this.children[this.children.length]=e,t&&this.pushTop(e.top),this.pushBottom(e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};ht.prototype.pushTop=function(e){e!==void 0&&(this.top===void 0?this.top=e:this.top=Math.max(e,this.top))};ht.prototype.pushBottom=function(e){e!==void 0&&(this.bottom===void 0?this.bottom=e:this.bottom=Math.min(e,this.bottom))};ht.prototype.setX=function(e){this.x=e;for(var t=0;t<this.children.length;t++)this.children[t].setX(e)};ht.prototype.center=function(e,t){var r=(t.x-e.x)/2+e.x;this.x=r-this.w/2;for(var n=0;n<this.children.length;n++)this.children[n].setX(this.x)};ht.prototype.setHint=function(){this.hint=!0};ht.prototype.highlight=function(e,t){zS.bind(this)(e,t)};ht.prototype.unhighlight=function(e,t){$S.bind(this)(e,t)};var gi=ht,mi=function(t,r,n,a,s){switch(s=s||{},this.x=0,this.c=t,this.dx=r,this.w=n,this.pitch=a,this.scalex=s.scalex||1,this.scaley=s.scaley||1,this.type=s.type||"symbol",this.pitch2=s.pitch2,this.linewidth=s.linewidth,this.klass=s.klass,this.anchor=s.anchor?s.anchor:"middle",this.top=a,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=a,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),s.thickness&&(this.top+=s.thickness/2,this.bottom-=s.thickness/2),s.stemHeight&&(s.stemHeight>0?this.top+=s.stemHeight:this.bottom+=s.stemHeight),s.dim&&(this.dim=s.dim),s.position&&(this.position=s.position),this.height=s.height?s.height:4,s.top&&(this.top=s.top),s.bottom&&(this.bottom=s.bottom),s.name?this.name=s.name:this.c?this.name=this.c:this.name=this.type,s.realWidth?this.realWidth=s.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":s.position&&s.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":s.position&&s.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?s.position&&s.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};mi.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var e=0,t=this.type==="chord"?this.realWidth/2:0,r=this.x-t-e,n=r+this.realWidth+e;return{left:r,right:n}};mi.prototype.invertLane=function(e){this.lane===void 0&&(this.lane=0),this.lane=e-this.lane-1};mi.prototype.putChordInLane=function(e){this.lane=e,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};mi.prototype.getLane=function(){return this.lane===void 0?0:this.lane};mi.prototype.setX=function(e){this.x=e+this.dx};var nn=mi,mx=gi,qh=nn;function HS(e){return e!=null&&e.constructor===Object}function sf(e,t){for(var r in t)t.hasOwnProperty(r)&&(Array.isArray(t[r])||HS(t[r])||(e[r]=t[r]))}function vx(e){var t=new mx("",0,0,"",0);return sf(t,e),t.top=0,t.bottom=-1,e.abcelem&&(t.abcelem={},sf(t.abcelem,e.abcelem),t.abcelem.el_type==="note"&&(t.abcelem.el_type="tabNumber")),e.cloned=t,t}function WS(e,t){var r=vx(e);if(t)for(var n=e.children,a=!0,s=0;s<n.length;s++){var i=n[s],o=new qh("",0,0,0,"");sf(o,i),a=t.tablature.setRelative(i,o,a),r.children.push(o)}return r}function US(e,t,r){var n="tab.tiny",a=7.5;e.isTabBig&&(n="tab.big",a=10);var s={el_type:"tab",icon:n,Ypos:a};if(a+=e.tabSymbolOffset,!e.hideTabSymbol){var i=new mx(s,0,0,"symbol",0);i.x=t;var o=new qh(n,0,0,7.5,"tab");o.x=r,i.children.push(o),i.abcelem.el_type=="tab"&&(o.pitch=a)}return i}function VS(e){if(e.extra)for(var t=0;t<e.extra.length;t++){var r=e.extra[t];if(r.type=="lyric")return{bottom:r.bottom,height:r.height}}return null}function yx(){this.accidentals=null}function qS(e){for(var t=0,r=0;r<e.length;r++)e[r].tabNameInfos||t++;return t}function of(e,t,r,n,a){var s=n.num;n.note.quarter!=null&&(s=s.toString(),s+=n.note.quarter);var i=e.semantics.stringToPitch(n.str);r.notes.push({num:s,str:n.str,pitch:n.note.emit()});var o={type:"tabNumber"},l=new qh(s,0,0,i+.3,o);return l.x=t,l.isGrace=a,l.isAltered=n.note.isAltered,l}function bx(e,t){var r=0;if(e.extra){for(var n=0;n<e.extra.length;n++)if(e.extra[n].c.indexOf("noteheads")>=0){if(r===t)return e.extra[n].x+e.extra[n].w/2;r++}}return-1}function GS(e){if(e.abcelem){var t=e.abcelem;if(t.rest)return t.gracenotes}return null}function Sg(e,t,r){var n=e.semantics.notesToNumber(t,r);if(n.error)return e.setError(n.error),n;if(n.graces&&n.notes){var a=n.notes.length-1;n.notes[a].graces=n.graces}return n}function YS(e,t,r,n,a){for(var s=0;s<n.length;s++){var i={el_type:"note",startChar:r.abcelem.startChar,endChar:r.abcelem.endChar,notes:[],grace:!0},o=bx(r,s),l=n[s],c=of(e,o,i,l,!0);t.children.push(c),a.push(i)}}yx.prototype.build=function(e,t,r,n,a,s,i){qS(t);var o=t[a+n],l=t[i],c=null,h=null;o.children[0].abcelem.el_type!="clef"&&s!="none"&&o.children.splice(0,0,s);for(var u=0;u<o.children.length;u++){var f=o.children[u],p=f.x,g=p;switch(f.isClef&&(l.children.push(US(e,p,g)),f.abcelem.type.indexOf("-8")>=0&&(e.semantics.clefTranspose=-12),f.abcelem.type.indexOf("+8")>=0&&(e.semantics.clefTranspose=12)),f.type){case"staff-extra key-signature":this.accidentals=f.abcelem.accidentals,e.semantics.accidentals=this.accidentals;break;case"bar":e.semantics.measureAccidentals={};var m=!1;u===o.children.length-1&&(m=!0);var v=WS(f,e);if(v.abcelem.barNumber){delete v.abcelem.barNumber;for(var y=0;y<v.children.length;y++)if(v.children[y].type==="barNumber"){v.children.splice(y,1);break}}v.abcelem.lastBar=m,l.children.push(v),r.push({el_type:f.abcelem.el_type,type:f.abcelem.type,endChar:f.abcelem.endChar,startChar:f.abcelem.startChar,abselem:v});break;case"rest":var b=GS(f);if(b){if(c=Sg(e,null,b),c.error)return;M={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[],grace:!0},YS(e,w,f,c.graces,r)}break;case"note":var w=vx(f);w.x=f.heads[0].x+f.heads[0].w/2,w.lyricDim=VS(f);var x=f.abcelem.pitches,X=f.abcelem.gracenotes;if(w.type="tabNumber",c=Sg(e,x,X),c.error)return;if(c.graces){var k=c.notes.length-1;c.notes[k].graces=c.graces}h={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[]};for(var N=0;N<c.notes.length;N++){var T=c.notes[N];if(T.graces)for(var E=0;E<T.graces.length;E++){var M={el_type:"note",startChar:f.abcelem.startChar,endChar:f.abcelem.endChar,notes:[],grace:!0},D=bx(f,E),j=T.graces[E],R=of(e,D,M,j,!0);w.children.push(R),r.push(M)}var P=of(e,w.x+f.heads[N].dx,h,T,!1);w.children.push(P)}h.notes.length>0&&(h.abselem=w,r.push(h),l.children.push(w));break}}};var KS=yx,QS=hx,JS=KS,ZS=$t;function eN(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function tN(e){for(var t=0,r=0;r<e.children.length;r++){var n=e.children[r];n.specialY&&n.specialY.lyricHeightBelow>t&&(t=n.specialY.lyricHeightBelow)}return t}function rN(e,t,r){var n=e.semantics,a=t.controller.getTextSize,s=n.tabInfos(e),i=n.suppress(e),o=!0;if(i&&(o=!1),o){var l=a.calc(s,"tablabelfont","text instrumentname");return r.tabNameInfos={textSize:{height:l.height,width:l.width},name:s},l.height}return 0}function nN(e,t){return t[e].isTabStaff?e===t.length-1?!0:!t[e+1].isTabStaff:!1}function aN(e){for(var t=0,r=0;r<e.length;r++)e[r].isTabStaff||t++;return t}function sN(e,t){for(var r=t;r>=0;r--)if(!e[r].isTabStaff)return r;return-1}function iN(e){for(var t=0;t<e.length;t++)if(e[t].isTabStaff){var r=sN(e,t);e[t].hasStaff=e[r],e[r].hasTab||(e[r].hasTab=[]),e[r].hasTab.push(e[t])}}function oN(e,t){return aN(e)===1&&t.voices.length>1}function lN(e,t){for(var r=0,n=0,a=!0,s=0;a;){if(!t[r])return-1;if(t[r].isTabStaff||(s=t[r].voices.length),t[r].isTabStaff){if(n++,nN(r,t)&&n<s)return r+1}else if(n=0,r>=e&&(r+1==t.length||!t[r+1].isTabStaff))return r+1;if(r++,r>t.length)return-1}}function cN(e,t){for(var r=t;r>=0;r--)if(!e[r].isTabStaff)return e[r];return null}function uN(e,t){var r=e[t],n=r.children[0].abcelem;return n.el_type==="clef"?null:t==0?"none":e[t-1].children[0]}function dN(e,t,r,n){var a=new JS,s={clef:{type:"TAB"}},i=e.linePitch*e.nbLines,o=r.staff;if(o){var l=o[0];if(l&&l.clef&&l.clef.stafflines==0){e.setError("No tablatures when stafflines=0");return}o.splice(o.length,0,s)}var c=r.staffGroup,h=c.voices,u=h[0],f=tN(u),p=3,g=n,m=c.staffs[g],v=i+p-m.bottom-f;m.isTabStaff&&(v=m.top);var y={bottom:-1,isTabStaff:!0,specialY:eN(),lines:e.nbLines,linePitch:e.linePitch,dy:.15,top:v},b=lN(n,c.staffs);if(b!==-1){y.parentIndex=b-1,c.staffs.splice(b,0,y),c.height+=i+p;var w=cN(c.staffs,b),x=1;oN(c.staffs,w)&&(x=w.voices.length),s.voices=[];for(var X=0;X<x;X++){var k=new QS(0,0);X>0&&(k.duplicate=!0);var N=rN(e,t,k)/ZS.STEP;N=Math.max(N,1),c.staffs[n].top+=1,c.height+=N,k.staff=y;var T=h.length;h.splice(h.length,0,k);var E=uN(h,X+n);s.voices[X]=[],a.build(e,h,s.voices[X],X,n,E,T)}iN(c.staffs)}}var fN=dN,hN={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},lf=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function pN(e){var t=e.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if(t&&t.length===5){var r=hN[t[1]],n=lf.indexOf(t[2]),a=t[4].length-t[3].length;return 48+n+r+a*12}return 0}function gN(e){e=parseInt(e,10);var t=Math.floor(e/12),r=e%12,n=lf[r];if(n==="-"&&(n="^"+lf[r-1]),t>4)for(n=n.toLowerCase(),t-=5;t>0;)n+="'",t--;else for(;t<4;)n+=",",t++;return n}var xx={noteToMidi:pN,midiToNote:gN},{noteToMidi:mN,midiToNote:Gh}=xx;function mr(e,t){var r=mN(e);t&&(r+=t);var n=Gh(r),a=!1,s=!1,i=!1,o=null,l=null,c=!1,h=0;e.startsWith("_")?(a=!0,h=-1,e[1]=="/"?(a=!1,l="v",h=0):e[1]=="_"&&(c=!0,h-=1)):e.startsWith("^")?(s=!0,h=1,e[1]=="/"?(s=!1,l="^",h=0):e[1]=="^"&&(c=!0,h+=1)):e.startsWith("=")&&(o=!0,h=0),i=a||s||l!=null,(i||o)&&(l!=null||c?n=e.slice(2):n=e.slice(1));var u=(n.match(/,/g)||[]).length,f=(n.match(/'/g)||[]).length;this.pitch=r,this.pitchAltered=0,this.name=n,this.acc=h,this.isSharp=s,this.isKeySharp=!1,this.isDouble=c,this.isAltered=i,this.isFlat=a,this.isKeyFlat=!1,this.natural=o,this.quarter=l,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=u,this.isQuoted=f}function vN(e){var t=e.name,r=new mr(t);return r.pitch=e.pitch,r.hasComma=e.hasComma,r.isLower=e.isLower,r.isQuoted=e.isQuoted,r.isSharp=e.isSharp,r.isKeySharp=e.isKeySharp,r.isFlat=e.isFlat,r.isKeyFlat=e.isKeyFlat,r}mr.prototype.sameNoteAs=function(e){return e.pitch===this.pitch};mr.prototype.isLowerThan=function(e){return e.pitch>this.pitch};mr.prototype.checkKeyAccidentals=function(e,t){if(!(this.isAltered||this.natural)){if(t[this.name.toUpperCase()])switch(t[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(e)for(var r=this.name,n=0;n<e.length;n++){var a=e[n];r==a.note.toUpperCase()&&(a.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),a.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};mr.prototype.getAccidentalEquiv=function(){var e=vN(this);return e.isSharp||e.isKeySharp?(e=e.nextNote(),e.isFlat=!0,e.isSharp=!1,e.isKeySharp=!1):(e.isFlat||e.isKeyFlat)&&(e=e.prevNote(),e.isSharp=!0,e.isFlat=!1,e.isKeyFlat=!1),e};mr.prototype.nextNote=function(){var e=Gh(this.pitch+1+this.pitchAltered);return new mr(e)};mr.prototype.prevNote=function(){var e=Gh(this.pitch-1+this.pitchAltered);return new mr(e)};mr.prototype.emitNoAccidentals=function(){var e=this.name;this.isLower&&(e=e.toLowerCase());for(var t=0;t<this.isQuoted;t++)e+="'";for(var r=0;r<this.hasComma;r++)e+=",";return e};mr.prototype.emit=function(){var e=this.name;(this.isSharp||this.isKeySharp)&&(e="^"+e,this.isDouble&&(e="^"+e)),(this.isFlat||this.isKeyFlat)&&(e="_"+e,this.isDouble&&(e="_"+e)),this.quarter&&(this.quarter=="^"?e="^/"+e:e="_/"+e),this.natural&&(e="="+e);for(var t=1;t<=this.hasComma;t++)e+=",";if(this.isLower){e=e.toLowerCase();for(var r=1;r<=this.isQuoted;r++)e+="'"}return e};var wx=mr,Ng=wx,Eg=["A","B","C","D","E","F","G"];function yN(e,t){var r=new Ng(e),n=new Ng(t);if(n.isLowerThan(r)){var a=r.emit(),s=n.emit();return{error:"Invalid string Instrument tuning : "+s+" string lower than "+a+" string"}}var i=[],o=Eg.indexOf(r.name),l=Eg.indexOf(n.name);if(o==-1||l==-1)return i;for(var c=!1;!c;)i.push(r.emit()),r=r.nextNote(),r.sameNoteAs(n)&&(c=!0);return i}var bN=yN;const{noteToMidi:xN}=xx;var $l=wx,wN=bN;function XN(e){var t=null,r=e.tuning;if(e.capo>0){t=[];for(var n=0;n<r.length;n++){for(var a=new $l(r[n]),s=0;s<e.capo;s++)a=a.nextNote();t[n]=a.emit()}}return t}function CN(e){var t=[],r=e.tuning;e.capo>0&&(r=e.capoTuning);for(var n=r.length-1,a=0;a<r.length;a++){var s=e.highestNote;a!=r.length-1&&(s=r[a+1]);var i=wN(r[a],s);if(i.error)return i;t[n--]=i}return t}function kN(e){var t=[];t[0]=[];for(var r=e.strings,n=1;n<r.length;n++)t[n]=r[n-1];return t}function SN(e,t){for(var r=0;r<t.length-1;r++){var n=t[r],a=t[r+1];if(n.str==a.str){if(n.str==e.strings.length-1){n.num="?",a.num="?";return}a.num<n.num?(a.str++,a=Tg(e,a.note,a.str,e.secondPos,e.strings[a.str].length)):(n.str++,n=Tg(e,n.note,n.str,e.secondPos,e.strings[n.str].length)),t[r]=n,t[r+1]=a}}return null}function NN(e,t){for(var r=[],n=0;n<t.length;n++)if(!t[n].endTie){var a=new $l(t[n].name,e.clefTranspose);a.checkKeyAccidentals(e.accidentals,e.measureAccidentals);var s=cf(e,a);r.push(s)}return SN(e,r),r}function Tg(e,t,r,n,a){var s=e.strings;t.checkKeyAccidentals(e.accidentals,e.measureAccidentals),n&&(s=n);var i=t.emitNoAccidentals(),o=s[r].indexOf(i),l=t.acc;if(o!=-1){if(n&&(o+=a),(t.isFlat||t.acc==-1)&&o==0){var c=t.getAccidentalEquiv();r++,o=s[r].indexOf(c.emit()),l=0}return{num:o+l,str:r,note:t}}return null}function cf(e,t){if(t.isAltered||t.natural){var r;t.isFlat?t.isDouble?r="__":r="_":t.isSharp?t.isDouble?r="^^":r="^":t.natural&&(r="="),e.measureAccidentals[t.name.toUpperCase()]=r}for(var n=e.stringPitches.length-1;n>=0;n--)if(t.pitch+t.pitchAltered>=e.stringPitches[n]){var a=t.pitch+t.pitchAltered-e.stringPitches[n];return t.quarter==="^"?a-=.5:t.quarter==="v"&&(a+=.5),{num:Math.round(a),str:e.stringPitches.length-1-n,note:t}}return{num:"?",str:e.stringPitches.length-1,note:t}}vi.prototype.stringToPitch=function(e){var t=5.3,r=this.strings.length-1;return t+(r-e)*this.linePitch};function _g(e,t){var r={num:"?",str:0,note:t};e.push(r),e.error=t.emit()+": unexpected note for instrument"}vi.prototype.notesToNumber=function(e,t){var r,n,a=null,s=null;if(e&&(s=[],e.length>1?(s=NN(this,e),s.error&&(a=s.error)):e[0].endTie||(r=new $l(e[0].name,this.clefTranspose),r.checkKeyAccidentals(this.accidentals,this.measureAccidentals),n=cf(this,r),n?s.push(n):(_g(s,r),a=s.error))),a)return s;var i=null;if(t){i=[];for(var o=0;o<t.length;o++)r=new $l(t[o].name,this.clefTranspose),r.checkKeyAccidentals(this.accidentals,this.measureAccidentals),n=cf(this,r),n?i.push(n):(_g(i,r),a=s.error)}return{notes:s,graces:i,error:a}};vi.prototype.toString=function(){for(var e=[],t=0;t<this.tuning.length;t++){var r=this.tuning[t].replaceAll(",","").replaceAll("'","").toUpperCase();r[0]==="_"?r=r[1]+"b ":r[0]==="^"&&(r=r[1]+"# "),e.push(r)}return e.join("")};vi.prototype.tabInfos=function(e){var t=e.params.label;if(t){var r=t.indexOf("%T"),n="";return r!=-1&&(n=this.toString(),e.capo>0&&(n+=" capo:"+e.capo),t=t.replace("%T",n)),t}return""};vi.prototype.suppress=function(e){var t=e.params.suppress;return!!t};function vi(e){var t=e.tuning,r=e.capo,n=e.params.highestNote;this.linePitch=e.linePitch,this.highestNote="a'",n&&(this.highestNote=n),this.measureAccidentals={},this.capo=0,r&&(this.capo=parseInt(r,10)),this.transpose=e.transpose?e.transpose:0,this.tuning=t,this.stringPitches=[];for(var a=0;a<this.tuning.length;a++){var s=xN(this.tuning[a])+this.capo;this.stringPitches.push(s)}if(this.capo>0&&(this.capoTuning=XN(this)),this.strings=CN(this),this.strings.error){e.setError(this.strings.error),e.inError=!0;return}this.secondPos=kN(this)}var EN=vi,TN=LS,_N=fN,jN=EN;Nc.prototype.init=function(e,t,r,n){this.tune=e,this.params=r,this.tuneNumber=t,this.inError=!1,this.abcTune=e,this.linePitch=3,this.nbLines=n.defaultTuning.length,this.isTabBig=n.isTabBig,this.tabSymbolOffset=n.tabSymbolOffset,this.capo=r.capo,this.transpose=r.visualTranspose,this.hideTabSymbol=r.hideTabSymbol,this.tablature=new TN(this.nbLines,this.linePitch);var a=r.tuning;a||(a=n.defaultTuning),this.tuning=a,this.semantics=new jN(this)};Nc.prototype.setError=function(e){e&&(this.error=e,this.inError=!0,this.tune.warnings?this.tune.warnings.push(e):this.tune.warnings=[e])};Nc.prototype.render=function(e,t,r){this.inError||this.tablature.bypass(t)||_N(this,e,t,r)};function Nc(){}var PN=function(){return{name:"StringTab",tablature:Nc}},AN=PN,MN=AN,BN={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},LN={inited:!1,plugins:{},register:function(e){var t=e.name,r=e.tablature;this.plugins[t]=r},setError:function(e,t){e.warnings?e.warning.push(t):e.warnings=[t]},preparePlugins:function(e,t,r){this.inited||(this.register(new MN),this.inited=!0);var n=null;if(r.tablature){var a=r.tablature;n=[];for(var s=0;s<a.length;s++){var i=a[s],o=i.instrument;if(o==null)return this.setError(e,"tablature 'instrument' is missing"),n;var l=BN[o],c=null;if(l&&(c=this.plugins[l.name]),c){r.visualTranspose!=0&&(i.visualTranspose=r.visualTranspose),i.abcSrc=r.tablature.abcSrc;var h={classz:c,tuneNumber:t,params:i,instance:null,tabType:l};n.push(h)}else if(o==="")n.push(null);else return this.setError(e,"Undefined tablature plugin: "+o),n}}return n},layoutTablatures:function(t,r){var n=r.tablatures,a=0;if(n&&n.length>0)for(var s=n.length,i=0;i<s;++i)n[i]&&n[i].params.firstStaffOnly&&(n[i].params.suppress=!1);for(var o=0;o<r.lines.length;o++){var l=r.lines[o];if(l.staff&&a++,a>1&&n&&n.length>0)for(var s=n.length,i=0;i<s;++i)n[i].params.firstStaffOnly&&(n[i].params.suppress=!0);var c=l.staff;if(c){for(var h=c.length,u=0;u<c.length;u++)if(n[u]&&u<h){var f=n[u];f.instance==null&&(f.instance=new f.classz,f.instance.init(r,f.tuneNumber,f.params,f.tabType)),f.instance.render(t,l,u)}}}}},Xx=LN,RN=fx,DN=BS,ON=Xx,cn={};(function(){cn.numberOfTunes=function(t){var r=t.split(`
X:`),n=r.length;return n===0&&(n=1),n};var e=cn.TuneBook=function(t){var r=DN(t);this.header=r.header,this.tunes=r.tunes};e.prototype.getTuneById=function(t){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].id===""+t)return this.tunes[r];return null},e.prototype.getTuneByTitle=function(t){for(var r=0;r<this.tunes.length;r++)if(this.tunes[r].title===t)return this.tunes[r];return null},cn.parseOnly=function(t,r){for(var n=cn.numberOfTunes(t),a=[],s=0;s<n;s++)a.push(1);function i(){}return cn.renderEngine(i,a,t,r)},cn.renderEngine=function(t,r,n,a){var s=[],i=function(m){return m&&!m.propertyIsEnumerable("length")&&typeof m=="object"&&typeof m.length=="number"};if(!(r===void 0||n===void 0)){i(r)||(r=[r]),a===void 0&&(a={});for(var o=a.startingTune?parseInt(a.startingTune,10):0,l=new e(n),c=new RN,h=0;h<r.length;h++){var u=r[h];if(u==="*"||typeof u=="string"&&(u=document.getElementById(u)),u)if(o>=0&&o<l.tunes.length){c.parse(l.tunes[o].abc,a,l.tunes[o].startPos-l.header.length);var f=c.getTune();a.tablature&&(f.tablatures=ON.preparePlugins(f,o,a));var p=c.getWarnings();p&&(f.warnings=p);var g=t(u,f,h,l.tunes[o].abc);s.push(g||f)}else u.innerHTML&&(u.innerHTML="");o++}return s}},cn.extractMeasures=function(t){for(var r=[],n=new e(t),a=0;a<n.tunes.length;a++){for(var s=n.tunes[a],i=s.abc.split("K:"),o=i[1].split(`
`),l=i[0]+"K:"+o[0]+`
`,c=null,h=null,u=null,f=[],p=!1,g=cn.parseOnly(s.abc)[0],m=g.getPickupLength()>0,v=0;v<g.lines.length;v++){var y=g.lines[v];if(y.staff)for(var b=0;b<1;b++)for(var w=y.staff[b],x=0;x<1;x++)for(var X=w.voices[x],k=0;k<X.length;k++){var N=X[k];if(u===null&&N.startChar>=0&&(u=N.startChar,N.chord===void 0?h=c:h=null),N.chord&&(c=N),N.el_type==="bar"){if(p){var T=s.abc.substring(u,N.endChar),E={abc:T};c=h&&h.chord&&h.chord.length>0?h.chord[0].name:null,c&&(E.lastChord=c),N.startEnding&&(E.startEnding=N.startEnding),N.endEnding&&(E.endEnding=N.endEnding),f.push(E),u=null,p=!1}}else N.el_type==="note"&&(p=!0)}}r.push({header:l,measures:f,hasPickup:m})}return r}})();var Ec=cn,jg=ex,{relativeMajor:Pg,transposeKey:ju,relativeMode:Ag}=Zb,Mg=Jb,Cx;(function(){Cx=function(w,x,X){if(x==="TEST")return{keyAccidentals:jg,relativeMajor:Pg,transposeKey:ju,relativeMode:Ag,transposeChordName:Mg};X=parseInt(X,10);var k=[],N;for(N=0;N<x.length;N++)k=k.concat(e(w,x[N],X));k=k.sort(function(M,D){return D.start-M.start});var T=w.split("");for(N=0;N<k.length;N++){var E=k[N];T.splice(E.start,E.end-E.start,E.note)}return T.join("")};function e(w,x,X){var k=[],N=x.getKeySignature();if(N.root==="Hp"||N.root==="HP")return k;k=k.concat(t(w,X));for(var T=0;T<x.lines.length;T++){var E=x.lines[T].staff;if(E)for(var M=0;M<E.length;M++){var D=E[M];D.clef.type!=="perc"&&(k=k.concat(r(w,D.voices,D.key,X)))}}return k}function t(w,x){for(var X=[],k=w.split("K:"),N=k[0].length,T=1;T<k.length;T++){var E=k[T],M=E.match(/^( *)([A-G])([#b]?)( ?)(\w*)/);if(M){var D=N+2+M[1].length,j=M[2]+M[3]+M[4]+M[5],R=l({root:M[2],acc:M[3],mode:M[5]},x),P=R.root+R.acc+M[4]+R.mode;X.push({start:D,end:D+j.length,note:P})}N+=E.length+2}return X}function r(w,x,X,k){for(var N=[],T=l(X,k),E=0;E<x.length;E++)N=N.concat(s(w,x[E],X.root,n(X),T,k));return N}function n(w){for(var x={},X=0;X<w.accidentals.length;X++){var k=w.accidentals[X];k.acc==="flat"?x[k.note.toUpperCase()]="_":k.acc==="sharp"&&(x[k.note.toUpperCase()]="^")}return x}function a(w,x,X){var k=i.indexOf(w.root)-i.indexOf(x);return x==="none"&&(k=i.indexOf(w.root)),k===0?X>2?k+=7:X===-12&&(k-=7):X>0&&k<0?k+=7:X<0&&k>0&&(k-=7),X>12?k+=7:X<-12&&(k-=7),k}function s(w,x,X,k,N,T){for(var E=[],M=a(N,X,T),D={},j={},R=0;R<x.length;R++){var P=x[R];if(P.chord)for(var O=0;O<P.chord.length;O++){var L=P.chord[O];if(L.position==="default"){var _=N.accidentals.length&&N.accidentals[0].acc==="flat",S=Mg(L.name,T,_,!0);S=S.replace(//g,"b").replace(//g,"#"),S!==L.name&&E.push(y(w,P.startChar,P.endChar,S))}}if(P.el_type==="note"&&P.pitches){for(var A=0;A<P.pitches.length;A++){var B=g(P.pitches[A].name,X,k,D);B.acc&&(D[B.name.toUpperCase()]=B.acc);var $=c(B,N,M,j);$.acc&&(j[$.upper]=$.acc),E.push(m(w,P.startChar,P.endChar,$.acc+$.name,A))}if(P.gracenotes)for(var Y=0;Y<P.gracenotes.length;Y++){var Q=g(P.gracenotes[Y].name,X,k,D);Q.acc&&(D[Q.name.toUpperCase()]=Q.acc);var re=c(Q,N,M,D);re.acc&&(j[re.upper]=re.acc),E.push(v(w,P.startChar,P.endChar,re.acc+re.name,Y))}}else P.el_type==="bar"?(D={},j={}):P.el_type==="keySignature"&&(X=P.root,k=n(P),N=l(P,T),M=a(N,X,T))}return E}var i="CDEFGAB",o=[",,,,",",,,",",,",",","","'","''","'''","''''"];function l(w,x){if(w.root==="none")return{root:ju("C",x),mode:"",acc:"",accidentals:[]};var X=Pg(w.root+w.acc+w.mode),k=ju(X,x),N=Ag(k,w.mode),T=jg(k);return{root:N[0],mode:w.mode,acc:N.length>1?N[1]:"",accidentals:T}}function c(w,x,X,k){for(var N=w.pitch,T=i.indexOf(w.name),E=i.indexOf(x.root),M=(E+N)%7,D=T+X,j=w.oct;D>6;)j++,D-=7;for(;D<0;)j--,D+=7;for(var R=i[M],P="",O=w.adj,L="=",_=0;_<x.accidentals.length;_++)if(x.accidentals[_].note.toLowerCase()===R.toLowerCase()){O=O+(x.accidentals[_].acc==="flat"?-1:1),L=x.accidentals[_].acc==="flat"?"_":"^";break}switch(O){case-2:P="__";break;case-1:P="_";break;case 0:P="=";break;case 1:P="^";break;case 2:P="^^";break;case-3:var S={};return S.pitch=w.pitch-1,S.oct=w.oct,S.name=i[i.indexOf(w.name)-1],S.name||(S.name="B",S.oct--),S.name==="B"||S.name==="E"?S.adj=w.adj+1:S.adj=w.adj+2,c(S,x,X+1,k);case 3:var S={};return S.pitch=w.pitch+1,S.oct=w.oct,S.name=i[i.indexOf(w.name)+1],S.name||(S.name="C",S.oct++),S.name==="C"||S.name==="F"?S.adj=w.adj-1:S.adj=w.adj-2,c(S,x,X+1,k)}switch((k[R]===P||!k[R]&&P===L)&&!w.courtesy&&(P=""),j){case 0:R=R+",,,";break;case 1:R=R+",,";break;case 2:R=R+",";break;case 4:R=R.toLowerCase();break;case 5:R=R.toLowerCase()+"'";break;case 6:R=R.toLowerCase()+"''";break;case 7:R=R.toLowerCase()+"'''";break;case 8:R=R.toLowerCase()+"''''";break}return j>4&&(R=R.toLowerCase()),{acc:P,name:R,upper:R.toUpperCase()}}var h=/([_^=]*)([A-Ga-g])([,']*)/,u=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,f=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,p=/(\s*)$/;function g(w,x,X,k){var N=x==="none"?0:i.indexOf(x),T=w.match(h),E=T[2].toUpperCase(),M=i.indexOf(E)-N;M<0&&(M+=7);var D=o.indexOf(T[3]);E===T[2]&&D--;var j=k[E]||X[E]||"=";return{acc:T[1],name:E,pitch:M,oct:D,adj:b(T[1],X[E],k[E]),courtesy:T[1]===j}}function m(w,x,X,k,N){var T=w.substring(x,X),E=T.match(new RegExp(u.source+p.source));if(E){var M=E[1].length,D=E[2].length+E[3].length+E[4].length,j=X-x-M-D;x+=j,X-=D}else{var R=/([^\[]*)/,P=/\[/,O=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/,L=new RegExp(R.source+P.source+"(?:"+f.source+"\\s*){1,8}"+O.source+p.source);if(E=T.match(L),E){var _=E[1].length+1,S=T.slice(E[1].length+1,T.lastIndexOf("]")),A=[],B=new RegExp(f.source+"\\s*","g");for(const Pe of S.matchAll(B)){let ke=Pe[0].trim();ke!==""&&A.push({text:ke,index:Pe.index})}if(N>=A.length)throw new Error("Chord index out of range for chord: "+T);var $=A[N];let Y=$.text.match(/^(.+?)(\d+\/?\d*)?(-)?$/);Y?Y[1]:$.text;let Q=Y&&Y[2]?Y[2]:"",re=Y&&Y[3]?Y[3]:"";k=k+Q+re,x+=_+$.index,X=x+$.text.length}}return{start:x,end:X,note:k}}function v(w,x,X,k,N){var T=w.substring(x,X),E=/\{/,M=/\}/,D=/([^\{]*)/,j=/(\/*)/,R=T.match(new RegExp(D.source+E.source+j.source+f.source+j.source+f.source+j.source+f.source+j.source+f.source+j.source+f.source+j.source+f.source+j.source+f.source+j.source+f.source+M.source));if(R){for(var P=1+R[1].length,O=0;O<N;O++)R[O*3+2]&&(P+=R[O*3+2].length),R[O*3+3]&&(P+=R[O*3+3].length),R[O*3+4]&&(P+=R[O*3+4].length),R[O*3+5]&&(P+=R[O*3+5].length);R[N*3+2]&&(P+=R[O*3+2].length),x+=P;var L=R[N*3+3]?R[N*3+3].length:0;L+=R[N*3+4]?R[N*3+4].length:0,L+=R[N*3+5]?R[N*3+5].length:0,X=x+L}return{start:x,end:X,note:k}}function y(w,x,X,k){var N=w.substring(x,X).match(/([^"]+)?(".+")+/);return N[1]&&(x+=N[1].length),X=x+N[2].length,{start:x+1,end:X-1,note:k}}function b(w,x,X){if(!w&&X&&(w=X),!w)return 0;switch(x){case void 0:switch(w){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(w){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(w){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var IN=Cx,Ja=function(t,r,n,a){this.type="BeamElem",this.isflat=!!n,this.isgrace=!!(r&&r==="grace"),this.forceup=!!(this.isgrace||r&&r==="up"),this.forcedown=!!(r&&r==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=t,this.beams=[],a&&a.duration?(this.duration=a.duration,a.startTriplet&&(this.duration*=a.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};Ja.prototype.setHint=function(){this.hint=!0};Ja.prototype.runningDirection=function(e){var t=e.averagepitch;t!==void 0&&(this.total=Math.round(this.total+t),this.count||(this.count=0),this.count++)};Ja.prototype.add=function(e){var t=e.abcelem.averagepitch;t!==void 0&&(e.abcelem.rest||(this.allrests=!1),e.beam=this,this.elems.push(e),this.total=Math.round(this.total+t),(this.min===void 0||e.abcelem.minpitch<this.min)&&(this.min=e.abcelem.minpitch),(this.max===void 0||e.abcelem.maxpitch>this.max)&&(this.max=e.abcelem.maxpitch))};Ja.prototype.addBeam=function(e){this.beams.push(e)};Ja.prototype.setStemDirection=function(){if(this.average=kx(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}delete this.count,this.total=0};Ja.prototype.calcDir=function(){if(this.average=kx(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var e=6;this.stemsUp=this.average<e}for(var t=this.stemsUp?"up":"down",r=0;r<this.elems.length;r++)for(var n=0;n<this.elems[r].heads.length;n++)this.elems[r].heads[n].stemDir=t};function kx(e,t){return t?e/t:0}var FN=Ja,qo=function(t,r){this.startVoice=t,this.type=r};qo.prototype.setBottomStaff=function(e){this.endVoice=e,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};qo.prototype.continuing=function(e){this.lastContinuedVoice=e};qo.prototype.getWidth=function(){return 10};qo.prototype.isStartVoice=function(e){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===e)};var zN=qo,$N=$t,Gt={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};Gt["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};Gt["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};Gt["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};Gt["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var Bg=function(e){for(var t=[],r=0,n=e.length;r<n;r++){t[r]=[];for(var a=0,s=e[r].length;a<s;a++)t[r][a]=e[r][a]}return t},HN=function(e,t,r){for(var n=0,a=e.length;n<a;n++){var s=e[n],i,o;for(i=1,o=s.length;i<o;i++)s[i]*=i%2?t:r}},WN={printSymbol:function(e,t,r,n,a){if(!Gt[r])return null;var s=Bg(Gt[r].d);s[0][1]+=e,s[0][2]+=t;for(var i="",o=0;o<s.length;o++)i+=s[o].join(" ");return a.path=i,n.path(a)},getPathForSymbol:function(e,t,r,n,a){if(n=n||1,a=a||1,!Gt[r])return null;var s=Bg(Gt[r].d);return(n!==1||a!==1)&&HN(s,n,a),s[0][1]+=e,s[0][2]+=t,s},getSymbolWidth:function(e){return Gt[e]?Gt[e].w:0},symbolHeightInPitches:function(e){var t=Gt[e]?Gt[e].h:0;return t/$N.STEP},getSymbolAlign:function(e){return e.substring(0,7)==="scripts"&&e!=="scripts.roll"?"center":"left"},getYCorr:function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(e,t){Gt[e]=t}},va=WN,UN=gi,Di=va,Pu=nn,VN=function(e,t){var r,n=0;e.el_type="clef";var a=new UN(e,0,10,"staff-extra clef",t);switch(a.isClef=!0,e.type){case"treble":r="clefs.G";break;case"tenor":r="clefs.C";break;case"alto":r="clefs.C";break;case"bass":r="clefs.F";break;case"treble+8":r="clefs.G",n=1;break;case"tenor+8":r="clefs.C",n=1;break;case"bass+8":r="clefs.F",n=1;break;case"alto+8":r="clefs.C",n=1;break;case"treble-8":r="clefs.G",n=-1;break;case"tenor-8":r="clefs.C",n=-1;break;case"bass-8":r="clefs.F",n=-1;break;case"alto-8":r="clefs.C",n=-1;break;case"none":return null;case"perc":r="clefs.perc";break;default:a.addFixed(new Pu("clef="+e.type,0,0,void 0,{type:"debug"}))}var s=5;if(r){var i=Di.symbolHeightInPitches(r),o=qN(r);if(a.addRight(new Pu(r,s,Di.getSymbolWidth(r),e.clefPos,{top:i+e.clefPos+o,bottom:e.clefPos+o})),n!==0){var l=.6666666666666666,c=(Di.getSymbolWidth(r)-Di.getSymbolWidth("8")*l)/2,h=n>0?a.top+3:a.bottom-1,u=n>0?a.top+3:a.bottom-3,f=u-2;e.type==="bass-8"&&(h=3,c=0),a.addRight(new Pu("8",s+c,Di.getSymbolWidth("8")*l,h,{scalex:l,scaley:l,top:u,bottom:f}))}}return a};function qN(e){switch(e){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var GN=VN,YN=gi,O0=va,KN=nn,QN=function(e,t){if(e.el_type="keySignature",!e.accidentals||e.accidentals.length===0)return null;var r=new YN(e,0,10,"staff-extra key-signature",t);r.isKeySig=!0;var n=0;return e.accidentals.forEach(function(a){var s,i=0;switch(a.acc){case"sharp":s="accidentals.sharp",i=-3;break;case"natural":s="accidentals.nat";break;case"flat":s="accidentals.flat",i=-1.2;break;case"quartersharp":s="accidentals.halfsharp",i=-2.5;break;case"quarterflat":s="accidentals.halfflat",i=-1.2;break;default:s="accidentals.flat"}r.addRight(new KN(s,n,O0.getSymbolWidth(s),a.verticalPos,{thickness:O0.symbolHeightInPitches(s),top:a.verticalPos+O0.symbolHeightInPitches(s)+i,bottom:a.verticalPos+i})),n+=O0.getSymbolWidth(s)+2},this),r},JN=QN,Cr=va,ls=nn,ZN=function(e,t,r,n){n||(n={});var a=n.dir!==void 0?n.dir:null,s=n.headx!==void 0?n.headx:0,i=n.extrax!==void 0?n.extrax:0,o=n.flag!==void 0?n.flag:null,l=n.dot!==void 0?n.dot:0,c=n.dotshiftx!==void 0?n.dotshiftx:0,h=n.scale!==void 0?n.scale:1,u=n.accidentalSlot!==void 0?n.accidentalSlot:[],f=n.shouldExtendStem!==void 0?n.shouldExtendStem:!1,p=n.printAccidentals!==void 0?n.printAccidentals:!0,g=r.verticalPos,m,v=0,y=0,b=0;if(t===void 0)e.addFixed(new ls("pitch is undefined",0,0,0,{type:"debug"}));else if(t==="")m=new ls(null,0,0,g);else{var w=s;if(r.printer_shift){var x=r.printer_shift==="same"?1:0;w=a==="down"?-Cr.getSymbolWidth(t)*h+x:Cr.getSymbolWidth(t)*h-x}var X={scalex:h,scaley:h,thickness:Cr.symbolHeightInPitches(t)*h,name:r.name};if(m=new ls(t,w,Cr.getSymbolWidth(t)*h,g,X),m.stemDir=a,o){var k=g+(a==="down"?-7:7)*h;f&&(a==="down"&&k>6&&(k=6),a==="up"&&k<6&&(k=6));var N=a==="down"?s:s+m.w-.6;e.addRight(new ls(o,N,Cr.getSymbolWidth(o)*h,k,{scalex:h,scaley:h}))}for(y=m.w+c-2+5*l;l>0;l--){var T=1-Math.abs(g)%2;e.addRight(new ls("dots.dot",m.w+c-2+5*l,Cr.getSymbolWidth("dots.dot"),g+T))}}if(m&&(m.highestVert=r.highestVert),p&&r.accidental){var E;switch(r.accidental){case"quartersharp":E="accidentals.halfsharp";break;case"dblsharp":E="accidentals.dblsharp";break;case"sharp":E="accidentals.sharp";break;case"quarterflat":E="accidentals.halfflat";break;case"flat":E="accidentals.flat";break;case"dblflat":E="accidentals.dblflat";break;case"natural":E="accidentals.nat"}for(var M=!1,D=i,j=0;j<u.length;j++)if(g-u[j][0]>=6){u[j][0]=g,D=u[j][1],M=!0;break}M===!1&&(D-=Cr.getSymbolWidth(E)*h+2,u.push([g,D]),v=Cr.getSymbolWidth(E)*h+2);var R=Cr.symbolHeightInPitches(E);e.addExtra(new ls(E,D,Cr.getSymbolWidth(E),g,{scalex:h,scaley:h,top:g+R/2,bottom:g-R/2})),b=Cr.getSymbolWidth(E)/2}return{notehead:m,accidentalshiftx:v,dotshiftx:y,extraLeft:b}},eE=ZN,tE=gi,Ke=va,Ur=nn,rE=function(e,t){e.el_type="timeSignature";var r=new tE(e,0,10,"staff-extra time-signature",t);if(e.type==="specified")for(var n=0,a=0;a<e.value.length;a++)if(a!==0&&(r.addRight(new Ur("+",n+1,Ke.getSymbolWidth("+"),6,{thickness:Ke.symbolHeightInPitches("+")})),n+=Ke.getSymbolWidth("+")+2),e.value[a].den){for(var s=0,i=0;i<e.value[a].num.length;i++)s+=Ke.getSymbolWidth(e.value[a].num[i]);var o=0;for(i=0;i<e.value[a].num.length;i++)o+=Ke.getSymbolWidth(e.value[a].den[i]);var l=Math.max(s,o);r.addRight(new Ur(e.value[a].num,n+(l-s)/2,s,8,{thickness:Ke.symbolHeightInPitches(e.value[a].num[0])})),r.addRight(new Ur(e.value[a].den,n+(l-o)/2,o,4,{thickness:Ke.symbolHeightInPitches(e.value[a].den[0])})),n+=l}else{for(var c=0,h=0;h<e.value[a].num.length;h++)c+=Ke.getSymbolWidth(e.value[a].num[h]);r.addRight(new Ur(e.value[a].num,n,c,6,{thickness:Ke.symbolHeightInPitches(e.value[a].num[0])})),n+=c}else e.type==="common_time"?r.addRight(new Ur("timesig.common",0,Ke.getSymbolWidth("timesig.common"),6,{thickness:Ke.symbolHeightInPitches("timesig.common")})):e.type==="cut_time"?r.addRight(new Ur("timesig.cut",0,Ke.getSymbolWidth("timesig.cut"),6,{thickness:Ke.symbolHeightInPitches("timesig.cut")})):e.type==="tempus_imperfectum"?r.addRight(new Ur("timesig.imperfectum",0,Ke.getSymbolWidth("timesig.imperfectum"),6,{thickness:Ke.symbolHeightInPitches("timesig.imperfectum")})):e.type==="tempus_imperfectum_prolatio"?r.addRight(new Ur("timesig.imperfectum2",0,Ke.getSymbolWidth("timesig.imperfectum2"),6,{thickness:Ke.symbolHeightInPitches("timesig.imperfectum2")})):e.type==="tempus_perfectum"?r.addRight(new Ur("timesig.perfectum",0,Ke.getSymbolWidth("timesig.perfectum"),6,{thickness:Ke.symbolHeightInPitches("timesig.perfectum")})):e.type==="tempus_perfectum_prolatio"?r.addRight(new Ur("timesig.perfectum2",0,Ke.getSymbolWidth("timesig.perfectum2"),6,{thickness:Ke.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",e);return r},nE=rE,aE=function(t,r,n){this.type="DynamicDecoration",this.anchor=t,this.dec=r,n==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},sE=aE,iE=function(t,r,n,a){this.type="CrescendoElem",this.anchor1=t,this.anchor2=r,this.dir=n,a==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},oE=iE,lE=function(t,r){this.type="GlissandoElem",this.anchor1=t,this.anchor2=r},cE=lE,ar=function(t){this.type="TieElem",this.anchor1=t.anchor1,this.anchor2=t.anchor2,t.isGrace&&(this.isGrace=!0),t.fixedY&&(this.fixedY=!0),t.stemDir&&(this.stemDir=t.stemDir),t.voiceNumber!==void 0&&(this.voiceNumber=t.voiceNumber),t.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};ar.prototype.addInternalNote=function(e){this.internalNotes.push(e)};ar.prototype.setEndAnchor=function(e){this.anchor2=e,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};ar.prototype.setStartX=function(e){this.startLimitX=e};ar.prototype.setEndX=function(e){this.endLimitX=e};ar.prototype.setHint=function(){this.hint=!0};ar.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e;this.anchor1?e=this.anchor1.pitch:this.anchor2?e=this.anchor2.pitch:e=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=e>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=e>=6}};ar.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var e=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(e=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(e=!0);for(var t=0;t<this.internalNotes.length;t++){var r=this.internalNotes[t];r.stemDir==="down"&&(e=!0)}this.above=e}};ar.prototype.calcX=function(e,t){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=e,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=t};ar.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};ar.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var e=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,t=(this.anchor2.highestVert+this.anchor2.pitch)/2;if(this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!e&&t<this.startY?(this.endY=t,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&e?this.anchor2.highestVert:this.anchor2.pitch,this.anchor1.scalex===1){var r=!!this.anchor1.parent.beam,n=!!this.anchor2.parent.beam;if(r){var a=this.anchor1.parent===this.anchor1.parent.beam.elems[this.anchor1.parent.beam.elems.length-1];a||(this.above?this.startY=this.anchor1.parent.fixed.t:this.startY=this.anchor1.parent.fixed.b)}if(n){var s=this.anchor2.parent===this.anchor2.parent.beam.elems[0];s||(this.above?this.endY=this.anchor2.parent.fixed.t:this.endY=this.anchor2.parent.fixed.b)}}}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};ar.prototype.avoidCollisionAbove=function(){if(this.above){for(var e=-50,t=0;t<this.internalNotes.length;t++)this.internalNotes[t].highestVert>e&&(e=this.internalNotes[t].highestVert);e>this.startY&&e>this.endY&&(this.startY=this.endY=e-1)}};ar.prototype.getYBounds=function(){var e=10,t=1e3;this.isTie?(this.calcTieDirection(),this.calcX(e,t),this.calcTieY()):(this.calcSlurDirection(),this.calcX(e,t),this.calcSlurY());var r,n;return this.above?(n=Math.min(this.startY,this.endY),r=n+3):(r=Math.min(this.startY,this.endY),n=r-3),[r,n]};var Sx=ar,uE=sE,Lg=oE,dE=cE,Br=va,Fa=nn,fE=Sx,Yh=function(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},hE=function(e,t,r,n,a,s,i,o,l){for(var c,h=0;h<t.length;h++){if(t[h]==="staccato"||t[h]==="tenuto"||t[h]==="accent"&&!l){var u="scripts."+t[h];if(t[h]==="accent"&&(u="scripts.sforzato"),c===void 0?c=i==="down"?r+2:o-2:c=i==="down"?c+2:c-2,t[h]==="accent")i==="up"?c--:c++;else switch(c){case 2:case 4:case 6:case 8:case 10:i==="up"?c--:c++;break}r>9&&c++;var f=n/2;Br.getSymbolAlign(u)!=="center"&&(f-=Br.getSymbolWidth(u)/2),a.addFixedX(new Fa(u,f,Br.getSymbolWidth(u),c))}if(t[h]==="slide"&&a.heads[0]){var p=a.heads[0].pitch;p-=2;var g=new Fa("",-s-15,0,p-1),m=new Fa("",-s-5,0,p+1);a.addFixedX(g),a.addFixedX(m),e.addOther(new fE({anchor1:g,anchor2:m,fixedY:!0}))}}return c===void 0&&(c=r),{above:c,below:a.bottom}},pE=function(e,t,r,n){for(var a=0;a<t.length;a++)switch(t[a]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var s=new uE(r,t[a],n);e.addOther(s)}},gE=function(e,t,r,n,a){function s(){if(n.heads.length===0)return 10;for(var c=n.heads[0].pitch,h=1;h<n.heads.length;h++)c=Math.max(c,n.heads[h].pitch);return c}function i(){if(n.heads.length===0)return 2;for(var c=n.heads[0].pitch,h=1;h<n.heads.length;h++)c=Math.min(c,n.heads[h].pitch);return c}function o(c,h){var u=a==="down"?i()+1:s()+9;a!=="down"&&h===1&&u--;var f=r/2;f+=a==="down"?-5:3;for(var p=0;p<h;p++)u-=1,n.addFixedX(new Fa(c,f,Br.getSymbolWidth(c),u))}for(var l=0;l<e.length;l++)switch(e[l]){case"/":o("flags.ugrace",1);break;case"//":o("flags.ugrace",2);break;case"///":o("flags.ugrace",3);break;case"////":o("flags.ugrace",4);break}},mE=function(e,t,r,n,a,s,i,o){function l(m,v){m==="above"?n.above+=v:n.below-=v}function c(m){var v;return m==="above"?(v=n.above,v<s&&(v=s)):(v=n.below,v>i&&(v=i)),v}function h(m,v,y){var b=c(v),w=2,x=5;r.addFixedX(new Fa(m,t/2,0,b+w,{type:"decoration",klass:"ornament",thickness:3,anchor:y})),l(v,x)}function u(m,v){var y=t/2;Br.getSymbolAlign(m)!=="center"&&(y-=Br.getSymbolWidth(m)/2);var b=Br.symbolHeightInPitches(m)+1,w=c(v);w=v==="above"?w+b/2:w-b/2,r.addFixedX(new Fa(m,y,Br.getSymbolWidth(m),w,{klass:"ornament",thickness:Br.symbolHeightInPitches(m),position:v})),l(v,b)}for(var f={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",trillh:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},p=!1,g=0;g<e.length;g++)switch(e[g]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":h(e[g],a,"middle"),p=!0;break;case"D.C.alcoda":h("D.C. al coda",a,"end"),p=!0;break;case"D.C.alfine":h("D.C. al fine",a,"end"),p=!0;break;case"D.S.alcoda":h("D.S. al coda",a,"end"),p=!0;break;case"D.S.alfine":h("D.S. al fine",a,"end"),p=!0;break;case"fine":h("FINE",a,"middle"),p=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"trillh":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":u(f[e[g]],a),p=!0;break;case"invertedfermata":u(f[e[g]],"below"),p=!0;break;case"mark":r.klass="mark";break;case"accent":o&&(u("scripts.sforzato",a),p=!0);break}return p};function vE(e,t,r){for(var n=0;n<e.length;n++)switch(e[n]){case"arpeggio":for(var a=t.abcelem.minpitch-1;a<=t.abcelem.maxpitch;a+=2)t.addExtra(new Fa("scripts.arpeggio",-Br.getSymbolWidth("scripts.arpeggio")*2-r,0,a+2,{klass:"ornament",thickness:Br.symbolHeightInPitches("scripts.arpeggio")}));break}}Yh.prototype.dynamicDecoration=function(e,t,r,n){for(var a,s,i,o=0;o<t.length;o++)switch(t[o]){case"diminuendo(":this.startDiminuendoX=r,a=void 0;break;case"diminuendo)":a={start:this.startDiminuendoX,stop:r},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=r,s=void 0;break;case"crescendo)":s={start:this.startCrescendoX,stop:r},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=r,i=void 0;break;case"~)":case"glissando)":i={start:this.startGlissandoX,stop:r},this.startGlissandoX=void 0;break}a&&e.addOther(new Lg(a.start,a.stop,">",n)),s&&e.addOther(new Lg(s.start,s.stop,"<",n)),i&&e.addOther(new dE(i.start,i.stop))};Yh.prototype.createDecoration=function(e,t,r,n,a,s,i,o,l,c,h){l||(l={ornamentPosition:"above",volumePosition:c?"above":"below",dynamicPosition:c?"above":"below"}),pE(e,t,a,l.volumePosition),this.dynamicDecoration(e,t,a,l.dynamicPosition),gE(t,r,n,a,i);var u=hE(e,t,r,n,a,s,i,o,h);u.above=Math.max(u.above,this.minTop),u.below=Math.min(u.below,o),mE(t,n,a,u,l.ornamentPosition,this.minTop,o,h),vE(t,a,s)};var yE=Yh,bE=function(t,r,n){this.type="EndingElem",this.text=t,this.anchor1=r,this.anchor2=n,this.endingHeightAbove=5,this.pitch=void 0},xE=bE,wE=function(e){for(var t=0,r=0;r<e.voices.length;r++){var n=e.voices[r].staff;e.voices[r].duplicate||(t+=n.top,t+=-n.bottom)}return t},XE=wE,CE=XE,yi=function(e){this.getTextSize=e,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};yi.prototype.setLimit=function(e,t){t.specialY[e]&&(t.staff.specialY[e]?t.staff.specialY[e]=Math.max(t.staff.specialY[e],t.specialY[e]):t.staff.specialY[e]=t.specialY[e])};yi.prototype.addVoice=function(e,t,r){var n=this.voices.length;this.voices[n]=e,this.staffs[t]?this.staffs[t].voices.push(n):this.staffs[this.staffs.length]={top:10,bottom:2,lines:r,voices:[n],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},e.staff=this.staffs[t]};yi.prototype.setHeight=function(){this.height=CE(this)};yi.prototype.setWidth=function(e){this.w=e;for(var t=0;t<this.voices.length;t++)this.voices[t].setWidth(e)};yi.prototype.setStaffLimits=function(e){e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom),this.setLimit("tempoHeightAbove",e),this.setLimit("partHeightAbove",e),this.setLimit("volumeHeightAbove",e),this.setLimit("dynamicHeightAbove",e),this.setLimit("endingHeightAbove",e),this.setLimit("chordHeightAbove",e),this.setLimit("lyricHeightAbove",e),this.setLimit("lyricHeightBelow",e),this.setLimit("chordHeightBelow",e),this.setLimit("volumeHeightBelow",e),this.setLimit("dynamicHeightBelow",e)};var kE=yi,SE=gi,NE=nn,Kh=function(t,r,n){this.type="TempoElement",this.tempo=t,this.tempo.type="tempo",this.tuneNumber=r,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(n,t,r))};Kh.prototype.setX=function(e){this.x=e};Kh.prototype.createNote=function(e,t,r){var n=.75,a=t.duration[0],s=new SE(t,a,1,"tempo",r),i,o,l;a<=1/32?(l="noteheads.quarter",o="flags.u32nd",i=0):a<=1/16?(l="noteheads.quarter",o="flags.u16th",i=0):a<=3/32?(l="noteheads.quarter",o="flags.u16nd",i=1):a<=1/8?(l="noteheads.quarter",o="flags.u8th",i=0):a<=3/16?(l="noteheads.quarter",o="flags.u8th",i=1):a<=1/4?(l="noteheads.quarter",i=0):a<=3/8?(l="noteheads.quarter",i=1):a<=1/2?(l="noteheads.half",i=0):a<=3/4?(l="noteheads.half",i=1):a<=1?(l="noteheads.whole",i=0):a<=1.5?(l="noteheads.whole",i=1):a<=2?(l="noteheads.dbl",i=0):(l="noteheads.dbl",i=1);var c=e(s,l,{verticalPos:0},{dir:"up",flag:o,dot:i,scale:n}),h=c.notehead;s.addHead(h);var u;if(l!=="noteheads.whole"&&l!=="noteheads.dbl"){var f=.3333333333333333*n,p=5*n,g=h.dx+h.w,m=-.6;u=new NE(null,g,0,f,{type:"stem",pitch2:p,linewidth:m}),s.addRight(u)}return s};var EE=Kh,Tc=function(t,r,n){this.type="TripletElem",this.anchor1=r,this.number=t,this.durationClass=("d"+Math.round(r.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=n.flatBeams};Tc.prototype.isClosed=function(){return!!this.anchor2};Tc.prototype.middleNote=function(e){this.middleElems.push(e)};Tc.prototype.setCloseAnchor=function(e){this.anchor2=e,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var TE=Tc;function Rg(e){switch(e){case"B#":return"H#";case"B":return"H";case"B":return"H";case"Bb":return"B";case"B":return"B"}return e}function _E(e,t,r){var n=e.split(`
`);for(let a=0;a<n.length;a++){let i=n[a].match(/^([ABCDEFG][]?)?([^\/]+)?(\/([ABCDEFG][#b]?))?/);if(!i)continue;let o=i[1]||"",l=i[2]||"",c=i[4]||"";r&&(o=Rg(o),c=Rg(c));const h=t?"":"",u=c?"/"+c:"";n[a]=[o,l,u].join(h)}return n.join(`
`)}var jE=_E,cs=nn,Au=$t;const PE=jE;var AE=function(e,t,r,n,a,s,i,o){for(var l=0;l<r.chord.length;l++){var c=r.chord[l].position,h=r.chord[l].rel_position,u=c==="left"||c==="right"||c==="below"||c==="above"||!!h,f,p;u?(f="annotationfont",p="abcjs-annotation"):(f="gchordfont",p="abcjs-chord");var g=e.attr(f,p),m=r.chord[l].name,v;if(typeof m=="string")v=Dg(m,c,h,u,f,p,g,e,t,r,n,a,s,i,o),n=v.roomTaken,a=v.roomTakenRight;else for(var y=0;y<m.length;y++)v=Dg(m[y].text,c,h,u,f,p,g,e,t,r,n,a,s,i,o),n=v.roomTaken,a=v.roomTakenRight}return{roomTaken:n,roomTakenRight:a}};function Dg(e,t,r,n,a,s,i,o,l,c,h,u,f,p,g){for(var m=e.split(`
`),v=m.length-1;v>=0;v--){var y=m[v],b=0,w;n||(y=PE(y,p,g));var x=o.calc(y,a,s),X=x.width,k=x.height/Au.STEP;switch(t){case"left":h+=X+7,b=-h,w=c.averagepitch,l.addExtra(new cs(y,b,X+4,w,{type:"text",height:k,dim:i,position:"left"}));break;case"right":u+=4,b=u,w=c.averagepitch,l.addRight(new cs(y,b,X+4,w,{type:"text",height:k,dim:i,position:"right"}));break;case"below":l.addRight(new cs(y,0,0,void 0,{type:"text",position:"below",height:k,dim:i,realWidth:X}));break;case"above":l.addRight(new cs(y,0,0,void 0,{type:"text",position:"above",height:k,dim:i,realWidth:X}));break;default:if(r){var N=r.y+3*Au.STEP;l.addRight(new cs(y,b+r.x,0,c.minpitch+N/Au.STEP,{position:"relative",type:"text",height:k,dim:i}))}else{var T="above";c.positioning&&c.positioning.chordPosition&&(T=c.positioning.chordPosition),T!=="hidden"&&l.addCentered(new cs(y,f/2,X,void 0,{type:"chord",position:T,height:k,dim:i,realWidth:X}))}}}return{roomTaken:h,roomTakenRight:u}}var ME=AE,Os=gi,Nx=FN,Og=zN,Ex=GN,Tx=JN,Go=eE,_x=nE,BE=yE,jx=xE,io=va,Qe=nn,Yo=$t,LE=kE,Px=EE,Is=Sx,RE=TE,DE=hx,Ax=ME,OE=lx,Yn=Sn,uf=function(e){var t=0;return e.duration&&(t=e.duration),t},Dr=!1,Mr={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},et=function(e,t,r){this.decoration=new BE,this.getTextSize=e,this.tuneNumber=t,this.isBagpipes=r.bagpipes,this.flatBeams=r.flatbeams,this.graceSlurs=r.graceSlurs,this.percmap=r.percmap,this.initialClef=r.initialClef,this.jazzchords=!!r.jazzchords,this.accentAbove=!!r.accentAbove,this.germanAlphabet=!!r.germanAlphabet,this.reset()};et.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};et.prototype.setStemHeight=function(e){this.stemHeight=Math.round(e*10/Yo.STEP)/10};et.prototype.getCurrentVoiceId=function(e,t){return"s"+e+"v"+t};et.prototype.pushCrossLineElems=function(e,t){this.slursbyvoice[this.getCurrentVoiceId(e,t)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(e,t)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(e,t)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(e,t)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(e,t)]=this.voiceColor)};et.prototype.popCrossLineElems=function(e,t){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(e,t)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(e,t)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(e,t)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(e,t)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(e,t)]};et.prototype.containsLyrics=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[t].voices.length;r++)for(var n=0;n<e[t].voices[r].length;n++){var a=e[t].voices[r][n];if(a.lyric){(!a.positioning||a.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};et.prototype.createABCLine=function(e,t,r){this.minY=2,this.containsLyrics(e);var n=new LE(this.getTextSize);this.tempoSet=!1;for(var a=0;a<e.length;a++)Dr&&this.restoreState(),Dr=!1,this.createABCStaff(n,e[a],t,a,r);return n};et.prototype.createABCStaff=function(e,t,r,n,a){e.getTextSize.updateFonts(t);for(var s=0;s<t.voices.length;s++){var i=new DE(s,t.voices.length);s===0?(i.barfrom=t.connectBarLines==="start"||t.connectBarLines==="continue",i.barto=t.connectBarLines==="continue"||t.connectBarLines==="end"):i.duplicate=!0,t.title&&t.title[s]&&(i.header=t.title[s].replace(/\\n/g,`
`),i.headerPosition=6+e.getTextSize.baselineToCenter(i.header,"voicefont","staff-extra voice-name",s,t.voices.length)/Yo.STEP),t.clef&&t.clef.type==="perc"&&(i.isPercussion=!0);var o=(!this.initialClef||a===0)&&Ex(t.clef,this.tuneNumber);o&&(s===0&&t.barNumber&&this.addMeasureNumber(t.barNumber,o),i.addChild(o),this.startlimitelem=o);var l=Tx(t.key,this.tuneNumber);if(l&&(i.addChild(l),this.startlimitelem=l),t.meter){t.meter.type==="specified"?this.measureLength=t.meter.value[0].num/t.meter.value[0].den:this.measureLength=1;var c=_x(t.meter,this.tuneNumber);i.addChild(c),this.startlimitelem=c}i.duplicate&&(i.children=[]);var h=t.clef.stafflines||t.clef.stafflines===0?t.clef.stafflines:5;e.addVoice(i,n,h);var u=h===1;this.createABCVoice(t.voices[s],r,n,s,u,i),e.setStaffLimits(i),s===0&&(t.brace==="start"||!e.brace&&t.brace?(e.brace||(e.brace=[]),e.brace.push(new Og(i,"brace"))):t.brace==="end"&&e.brace?e.brace[e.brace.length-1].setBottomStaff(i):t.brace==="continue"&&e.brace&&e.brace[e.brace.length-1].continuing(i),t.bracket==="start"||!e.bracket&&t.bracket?(e.bracket||(e.bracket=[]),e.bracket.push(new Og(i,"bracket"))):t.bracket==="end"&&e.bracket?e.bracket[e.bracket.length-1].setBottomStaff(i):t.bracket==="continue"&&e.bracket&&e.bracket[e.bracket.length-1].continuing(i))}};function IE(e,t){var r=e[t];if(r.el_type!=="note"||!r.startBeam||r.endBeam)return{count:1,elem:r};for(var n=[];t<e.length&&e[t].el_type==="note"&&(n.push(e[t]),!e[t].endBeam);)t++;return{count:n.length,elem:n}}et.prototype.createABCVoice=function(e,t,r,n,a,s){this.popCrossLineElems(r,n),this.stemdir=this.isBagpipes?"down":null,this.abcline=e,this.partstartelem&&(this.partstartelem=new jx("",null,null),s.addOther(this.partstartelem));var i=s.voicetotal<2?-1:s.voicenumber;for(var o in this.slurs)this.slurs.hasOwnProperty(o)&&(this.slurs[o]=new Is({force:this.slurs[o].force,voiceNumber:i,stemDir:this.slurs[o].stemDir,style:this.slurs[o].dotted}),Dr&&this.slurs[o].setHint(),s.addOther(this.slurs[o]));for(var l=0;l<this.ties.length;l++)this.ties[l]=new Is({force:this.ties[l].force,stemDir:this.ties[l].stemDir,voiceNumber:i,style:this.ties[l].dotted}),Dr&&this.ties[l].setHint(),s.addOther(this.ties[l]);for(var c=0;c<this.abcline.length;c++)FE(this.abcline[c]),this.minY=Math.min(this.abcline[c].minpitch,this.minY);for(var h=r===0,u=0;u<this.abcline.length;){var f=IE(this.abcline,u),p=this.createABCElement(h,a,s,f.elem);if(p)for(l=0;l<p.length;l++){if(!this.tempoSet&&t&&!t.suppress){this.tempoSet=!0;var g=new Os(t,0,0,"tempo",this.tuneNumber,{});g.addFixedX(new Px(t,this.tuneNumber,Go)),s.addChild(g)}s.addChild(p[l])}u+=f.count}this.pushCrossLineElems(r,n)};et.prototype.saveState=function(){this.tiesSave=Yn.cloneArray(this.ties),this.slursSave=Yn.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=Yn.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=Yn.cloneHashOfArrayOfHash(this.tiesbyvoice)};et.prototype.restoreState=function(){this.ties=Yn.cloneArray(this.tiesSave),this.slurs=Yn.cloneHashOfHash(this.slursSave),this.slursbyvoice=Yn.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=Yn.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};et.prototype.createABCElement=function(e,t,r,n){var a=[];switch(n.el_type){case void 0:a=this.createBeam(t,r,n);break;case"note":a[0]=this.createNote(n,!1,t,r),this.triplet&&this.triplet.isClosed()&&(r.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":a[0]=this.createBarLine(r,n,e),r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"meter":a[0]=_x(n,this.tuneNumber),this.startlimitelem=a[0],r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"clef":if(a[0]=Ex(n,this.tuneNumber),!a[0])return null;r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"key":var s=Tx(n,this.tuneNumber);s&&(a[0]=s,this.startlimitelem=a[0]),r.duplicate&&a.length>0&&(a[0].invisible=!0);break;case"stem":this.stemdir=n.direction==="auto"?void 0:n.direction;break;case"part":var i=new Os(n,0,0,"part",this.tuneNumber),o=this.getTextSize.calc(n.title,"partsfont","part");i.addFixedX(new Qe(n.title,0,0,void 0,{type:"part",height:o.height/Yo.STEP})),a[0]=i;break;case"tempo":var l=new Os(n,0,0,"tempo",this.tuneNumber);l.addFixedX(new Px(n,this.tuneNumber,Go)),a[0]=l;break;case"style":n.head==="normal"?delete this.style:this.style=n.head;break;case"hint":Dr=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=n.size;break;case"color":this.voiceColor=n.color,r.color=this.voiceColor;break;default:var c=new Os(n,0,0,"unsupported",this.tuneNumber);c.addFixed(new Qe("element type "+n.el_type,0,0,void 0,{type:"debug"})),a[0]=c}return a};function FE(e){if(e.pitches){zE(e);for(var t=0,r=0;r<e.pitches.length;r++)t+=e.pitches[r].verticalPos;e.averagepitch=t/e.pitches.length,e.minpitch=e.pitches[0].verticalPos,e.maxpitch=e.pitches[e.pitches.length-1].verticalPos}}et.prototype.createBeam=function(e,t,r){var n=[],a=new Nx(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,r[0]);Dr&&a.setHint();for(var s=0;s<r.length;s++)a.runningDirection(r[s]);a.setStemDirection();var i=this.stemdir;for(this.stemdir=a.stemsUp?"up":"down",s=0;s<r.length;s++){var o=r[s],l=this.createNote(o,!0,e,t);n.push(l),a.add(l),this.triplet&&this.triplet.isClosed()&&(t.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return a.calcDir(),t.addBeam(a),this.stemdir=i,n};var zE=function(e){var t;do{t=!0;for(var r=0;r<e.pitches.length-1;r++)if(e.pitches[r].pitch>e.pitches[r+1].pitch){t=!1;var n=e.pitches[r];e.pitches[r]=e.pitches[r+1],e.pitches[r+1]=n}}while(!t)},Mx=function(e,t,r,n,a,s,i,o,l){for(var c=r;c>11;c--)c%2===0&&!n&&e.addFixed(new Qe(null,o,(a+4)*l,c,{type:"ledger"}));for(c=t;c<1;c++)c%2===0&&!n&&e.addFixed(new Qe(null,o,(a+4)*l,c,{type:"ledger"}));for(c=0;c<s.length;c++){var h=a;i==="down"&&(h=-h),e.addFixed(new Qe(null,h+o,(a+4)*l,s[c],{type:"ledger"}))}};et.prototype.addGraceNotes=function(e,t,r,n,a,s,i){var o=.6,l=3.5/5;a=Math.round(a*l);var c=null,h;e.gracenotes.length>1&&(c=new Nx(a,"grace",s),Dr&&c.setHint(),c.mainNote=r);var u,f=[];for(u=e.gracenotes.length-1;u>=0;u--)i+=10,f[u]=i,e.gracenotes[u].accidental&&(i+=7);for(u=0;u<e.gracenotes.length;u++){var p=e.gracenotes[u].verticalPos;h=c?null:Mr.uflags[s?5:3];var g=[],m=Go(r,"noteheads.quarter",e.gracenotes[u],{dir:"up",headx:-f[u],extrax:-f[u],flag:h,scale:o*this.voiceScale,accidentalSlot:g});m.notehead.highestVert=m.notehead.pitch+a;var v=m.notehead;if(this.addSlursAndTies(r,e.gracenotes[u],v,t,"up",!0),r.addExtra(v),e.gracenotes[u].acciaccatura){var y=e.gracenotes[u].verticalPos+7*o,b=c?5:6;r.addRight(new Qe("flags.ugrace",-f[u]+b,0,y,{scalex:o,scaley:o}))}if(c){var w=e.gracenotes[u].duration/2;s&&(w/=2);var x={heads:[v],abcelem:{averagepitch:p,minpitch:p,maxpitch:p,duration:w}};c.add(x)}else{var X=p+.3333333333333333*o,k=p+7*o,N=v.dx+v.w,T=-.6;r.addExtra(new Qe(null,N,0,X,{type:"stem",pitch2:k,linewidth:T}))}Mx(r,p,p,!1,io.getSymbolWidth("noteheads.quarter"),[],!0,v.dx-1,.6);var E=e.rest&&(e.rest.type==="spacer"||e.rest.type==="invisible");u===0&&!s&&this.graceSlurs&&!E&&t.addOther(new Is({anchor1:v,anchor2:n,isGrace:!0}))}return c&&(c.calcDir(),t.addBeam(c)),i};function $E(e,t,r,n,a,s,i,o,l){var c,h=7,u,f,p;switch(a&&(s==="down"&&(h=3),s==="up"&&(h=11)),i&&(r<.5||r<1?h=7:h=5),t.rest.type){case"whole":c=Mr.rest[0],t.averagepitch=h,t.minpitch=h,t.maxpitch=h,n=0;break;case"rest":t.style==="rhythm"?c=Mr.rhythm[-o]:c=Mr.rest[-o],t.averagepitch=h,t.minpitch=h,t.maxpitch=h;break;case"invisible":case"invisible-multimeasure":case"spacer":c="",t.averagepitch=h,t.minpitch=h,t.maxpitch=h;break;case"multimeasure":c=Mr.rest.multi,t.averagepitch=h,t.minpitch=h,t.maxpitch=h,n=0;var g=io.getSymbolWidth(c);e.addHead(new Qe(c,g,g*2,7));var m=new Qe(""+t.rest.text,g,g,16,{type:"multimeasure-text"});e.addExtra(m)}if(t.rest.type.indexOf("multimeasure")<0&&t.rest.type!=="invisible"){var v=Go(e,c,{verticalPos:h},{dot:n,scale:l});u=v.notehead,u&&(e.addHead(u),f=v.accidentalshiftx,p=v.dotshiftx)}return{noteHead:u,roomTaken:f,roomTakenRight:p}}function Ig(e,t){for(var r=0;r<e.length;r++)if(JSON.stringify(e[r])===JSON.stringify(t))return;e.push(t)}et.prototype.addNoteToAbcElement=function(e,t,r,n,a,s,i,o,l){var c=0,h,u=0,f=0,p,g,m=[],v=[],y=0,b=t.averagepitch>=6?"down":"up";n&&(b=n),a=t.style?t.style:a,(!a||a==="normal")&&(a="note");var w;s?w=Mr[a].nostem:w=Mr[a][-i],w||console.log("noteSymbol:",a,i,s);var x;for(x=b==="down"?t.pitches.length-2:1;b==="down"?x>=0:x<t.pitches.length;x=b==="down"?x-1:x+1){var X=t.pitches[b==="down"?x+1:x-1],k=t.pitches[x],N=b==="down"?X.pitch-k.pitch:k.pitch-X.pitch;N<=1&&!X.printer_shift&&(k.printer_shift=N?"different":"same",(k.verticalPos>11||k.verticalPos<1)&&m.push(k.verticalPos-k.verticalPos%2),b==="down"?u=io.getSymbolWidth(w)+2:c=io.getSymbolWidth(w)+2)}var T=t.pitches.length;for(x=0;x<t.pitches.length;x++){if(!o){var E;b==="down"&&x!==0||b==="up"&&x!==T-1?E=null:E=Mr[b==="down"?"dflags":"uflags"][-i]}var M;if(t.pitches[x].style)M=Mr[t.pitches[x].style][-i];else if(l.isPercussion&&this.percmap){M=w;var D=this.percmap[OE(t.pitches[x])];D&&D.noteHead&&Mr[D.noteHead]&&(M=Mr[D.noteHead][-i])}else M=w;t.pitches[x].highestVert=t.pitches[x].verticalPos;var j=(n==="up"||b==="up")&&x===0,R=(n==="down"||b==="down")&&x===T-1;if(j||R){if((t.startSlur||T===1)&&(t.pitches[x].highestVert=t.pitches[T-1].verticalPos,uf(t)<1&&(n==="up"||b==="up")&&(t.pitches[x].highestVert+=6)),t.startSlur)for(t.pitches[x].startSlur||(t.pitches[x].startSlur=[]),g=0;g<t.startSlur.length;g++)Ig(t.pitches[x].startSlur,t.startSlur[g]);if(t.endSlur)for(t.pitches[x].highestVert=t.pitches[T-1].verticalPos,uf(t)<1&&(n==="up"||b==="up")&&(t.pitches[x].highestVert+=6),t.pitches[x].endSlur||(t.pitches[x].endSlur=[]),g=0;g<t.endSlur.length;g++)Ig(t.pitches[x].endSlur,t.endSlur[g])}var P=!o&&i<=-1,O=Go(e,M,t.pitches[x],{dir:b,extrax:-u,flag:E,dot:r,dotshiftx:c,scale:this.voiceScale,accidentalSlot:v,shouldExtendStem:!n,printAccidentals:!l.isPercussion});y=Math.max(io.getSymbolWidth(M),y),e.extraw-=O.extraLeft,h=O.notehead,h&&(this.addSlursAndTies(e,t.pitches[x],h,l,P?b:null,!1),t.gracenotes&&t.gracenotes.length>0&&(h.bottom=h.bottom-1),e.addHead(h)),u+=O.accidentalshiftx,f=Math.max(f,O.dotshiftx)}if(P){var L=Math.round(70*this.voiceScale)/10,_=b==="down"?t.minpitch-L:t.minpitch+1/3;_>6&&!n&&(_=6);var S=b==="down"?t.maxpitch-1/3:t.maxpitch+L;S<6&&!n&&(S=6);var A=b==="down"||e.heads.length===0?0:e.heads[0].w,B=b==="down"?1:-1;h&&h.c==="noteheads.slash.quarter"&&(b==="down"?S-=1:_+=1),h&&h.c==="noteheads.triangle.quarter"&&(b==="down"?S-=.7:_-=1.2),e.addRight(new Qe(null,A,0,_,{type:"stem",pitch2:S,linewidth:B,bottom:_-1})),p=Math.min(_,S)}return{noteHead:h,roomTaken:u,roomTakenRight:f,min:p,additionalLedgers:m,dir:b,symbolWidth:y}};et.prototype.addLyric=function(e,t){var r="";t.lyric.forEach(function(s){var i=s.divider===" "?"":s.divider;r+=s.syllable+i+`
`});var n=this.getTextSize.calc(r,"vocalfont","lyric"),a=t.positioning?t.positioning.vocalPosition:"below";e.addCentered(new Qe(r,0,n.width,void 0,{type:"lyric",position:a,height:n.height/Yo.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};et.prototype.createNote=function(e,t,r,n){var a=null,s=0,i=0,o=0,l=[],c,h=uf(e),u=!1;h===0&&(u=!0,h=.25,t=!0);for(var f=Math.floor(Math.log(h)/Math.log(2)),p=0,g=Math.pow(2,f),m=g/2;g<h;p++,g+=m,m/=2);e.startTriplet&&(this.tripletmultiplier=e.tripletMultiplier);var v=h*this.tripletmultiplier;e.rest&&e.rest.type==="multimeasure"&&(v=1),e.rest&&e.rest.type==="invisible-multimeasure"&&(v=this.measureLength*e.rest.text);var y=e.rest?"rest":"note",b=new Os(e,v,1,y,this.tuneNumber,{durationClassOveride:e.duration*this.tripletmultiplier});if(Dr&&b.setHint(),e.rest){this.measureLength===h&&e.rest.type!=="invisible"&&e.rest.type!=="spacer"&&e.rest.type.indexOf("multimeasure")<0&&(e.rest.type="whole");var w=$E(b,e,h,p,n.voicetotal>1,this.stemdir,r,f,this.voiceScale);a=w.noteHead,s=w.roomTaken,i=w.roomTakenRight}else{var x=this.addNoteToAbcElement(b,e,p,this.stemdir,this.style,u,f,t,n);x.min!==void 0&&(this.minY=Math.min(x.min,this.minY)),a=x.noteHead,s=x.roomTaken,i=x.roomTakenRight,l=x.additionalLedgers,c=x.dir,o=x.symbolWidth}if(e.lyric!==void 0&&this.addLyric(b,e),e.gracenotes!==void 0&&(s+=this.addGraceNotes(e,n,b,a,this.stemHeight*this.voiceScale,this.isBagpipes,s)),e.decoration){var X=t&&c!=="up"?Math.min(-3,b.bottom-6):b.bottom;this.decoration.createDecoration(n,e.decoration,b.top,a?a.w:0,b,s,c,X,e.positioning,this.hasVocals,this.accentAbove)}if(e.barNumber&&b.addFixed(new Qe(e.barNumber,-10,0,0,{type:"barNumber"})),Mx(b,e.minpitch,e.maxpitch,e.rest,o,l,c,-2,1),e.chord!==void 0){var k=Ax(this.getTextSize,b,e,s,i,o,this.jazzchords,this.germanAlphabet);s=k.roomTaken,i=k.roomTakenRight}return e.startTriplet&&(this.triplet=new RE(e.startTriplet,a,{flatBeams:this.flatBeams})),e.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(a),this.triplet&&!e.startTriplet&&!e.endTriplet&&!(e.rest&&e.rest.type==="spacer")&&this.triplet.middleNote(a),b};et.prototype.addSlursAndTies=function(e,t,r,n,a,s){if(t.endTie&&this.ties.length>0){for(var i=!1,o=0;o<this.ties.length;o++)if(this.ties[o].anchor1&&this.ties[o].anchor1.pitch===r.pitch){this.ties[o].setEndAnchor(r),n.setRange(this.ties[o]),this.ties.splice(o,1),i=!0;break}i||(this.ties[0].setEndAnchor(r),n.setRange(this.ties[0]),this.ties.splice(0,1))}var l=n.voicetotal<2?-1:n.voicenumber;if(t.startTie){var c=new Is({anchor1:r,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:s,voiceNumber:l,style:t.startTie.style});Dr&&c.setHint(),this.ties[this.ties.length]=c,n.addOther(c),e.startTie=!0}var h,u;if(t.endSlur)for(var f=0;f<t.endSlur.length;f++)u=t.endSlur[f],this.slurs[u]?(h=this.slurs[u],h.setEndAnchor(r),n.setRange(h),delete this.slurs[u]):(h=new Is({anchor2:r,stemDir:this.stemdir,voiceNumber:l}),Dr&&h.setHint(),n.addOther(h)),this.startlimitelem&&h.setStartX(this.startlimitelem);else if(!s)for(var p in this.slurs)this.slurs.hasOwnProperty(p)&&this.slurs[p].addInternalNote(r);if(t.startSlur)for(f=0;f<t.startSlur.length;f++)u=t.startSlur[f].label,h=new Is({anchor1:r,stemDir:this.stemdir,voiceNumber:l,style:t.startSlur[f].style}),Dr&&h.setHint(),this.slurs[u]=h,n.addOther(h)};et.prototype.addMeasureNumber=function(e,t){var r=this.getTextSize.calc(e,"measurefont","bar-number"),n=0;t.isClef&&(n+=r.width/2);var a=r.width>10&&t.abcelem.type==="treble"?13.5:11;t.addFixed(new Qe(e,n,r.width,a+r.height/Yo.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};et.prototype.createBarLine=function(e,t,r){var n=new Os(t,0,10,"bar",this.tuneNumber),a=null,s=0;t.barNumber&&this.addMeasureNumber(t.barNumber,n);var i=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat",o=t.type!=="bar_left_repeat"&&t.type!=="bar_thick_thin"&&t.type!=="bar_invisible",l=t.type==="bar_right_repeat"||t.type==="bar_dbl_repeat"||t.type==="bar_left_repeat"||t.type==="bar_thin_thick"||t.type==="bar_thick_thin",c=t.type==="bar_left_repeat"||t.type==="bar_thick_thin"||t.type==="bar_thin_thin"||t.type==="bar_dbl_repeat",h=t.type==="bar_left_repeat"||t.type==="bar_dbl_repeat";if(i||h){for(var u in this.slurs)this.slurs.hasOwnProperty(u)&&this.slurs[u].setEndX(n);this.startlimitelem=n}if(i&&(n.addRight(new Qe("dots.dot",s,1,7)),n.addRight(new Qe("dots.dot",s,1,5)),s+=6),o&&(a=new Qe(null,s,1,2,{type:"bar",pitch2:10,linewidth:.6}),n.addRight(a)),t.type==="bar_invisible"&&(a=new Qe(null,s,1,2,{type:"none",pitch2:10,linewidth:.6}),n.addRight(a)),t.decoration&&this.decoration.createDecoration(e,t.decoration,12,l?3:1,n,0,"down",2,t.positioning,this.hasVocals,this.accentAbove),l&&(s+=4,a=new Qe(null,s,4,2,{type:"bar",pitch2:10,linewidth:4}),n.addRight(a),s+=5),this.partstartelem&&t.endEnding&&(this.partstartelem.anchor2=a,this.partstartelem=null),c&&(s+=3,a=new Qe(null,s,1,2,{type:"bar",pitch2:10,linewidth:.6}),n.addRight(a)),h&&(s+=3,n.addRight(new Qe("dots.dot",s,1,7)),n.addRight(new Qe("dots.dot",s,1,5))),t.startEnding&&r&&e.voicenumber===0){var f=this.getTextSize.calc(t.startEnding,"repeatfont","").width;n.minspacing+=f+10,this.partstartelem=new jx(t.startEnding,a,null),e.addOther(this.partstartelem)}return n.extraw-=5,t.chord!==void 0&&Ax(this.getTextSize,n,t,0,0,0,!1,this.germanAlphabet),n};var HE=et,Ot="http://www.w3.org/2000/svg";function je(e){this.svg=Qh(),this.currentGroup=[],e.appendChild(this.svg)}je.prototype.clear=function(){if(this.svg){var e=this.svg.parentNode;this.svg=Qh(),this.currentGroup=[],e&&(e.innerHTML="",e.appendChild(this.svg))}};je.prototype.setTitle=function(e){var t=document.createElement("title"),r=document.createTextNode(e);t.appendChild(r),this.svg.insertBefore(t,this.svg.firstChild)};je.prototype.setResponsiveWidth=function(e,t){if(this.svg.setAttribute("viewBox","0 0 "+e+" "+t),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var r=this.svg.parentNode.getAttribute("class");r?r.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",r+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var n=t/e*100;this.svg.parentNode.style["padding-bottom"]=n+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};je.prototype.setSize=function(e,t){this.svg.setAttribute("width",e),this.svg.setAttribute("height",t)};je.prototype.setAttribute=function(e,t){this.svg.setAttribute(e,t)};je.prototype.setScale=function(e){e!==1?(this.svg.style.transform="scale("+e+","+e+")",this.svg.style["-ms-transform"]="scale("+e+","+e+")",this.svg.style["-webkit-transform"]="scale("+e+","+e+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};je.prototype.insertStyles=function(e){var t=document.createElementNS(Ot,"style");t.textContent=e,this.svg.insertBefore(t,this.svg.firstChild)};je.prototype.setParentStyles=function(e){for(var t in e)e.hasOwnProperty(t)&&this.svg.parentNode&&(this.svg.parentNode.style[t]=e[t]);if(this.dummySvg){var r=document.querySelector("body");r.removeChild(this.dummySvg),this.dummySvg=null}};function Fg(e,t,r){var n=r-e;return"M "+e+" "+t+" l "+n+" 0 l 0 1  l "+-n+" 0  z "}function zg(e,t,r){var n=r-t;return"M "+e+" "+t+" l 0 "+n+" l 1 0  l 0 "+-n+"  z "}je.prototype.rect=function(e){var t=[],r=e.x,n=e.y,a=e.x+e.width,s=e.y+e.height;return t.push(Fg(r,n,a)),t.push(Fg(r,s,a)),t.push(zg(a,n,s)),t.push(zg(r,s,n)),this.path({path:t.join(" "),stroke:"none","data-name":e["data-name"]})};je.prototype.dottedLine=function(e){var t=document.createElementNS(Ot,"line");t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),t.setAttribute("stroke",e.stroke),t.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore(t,this.svg.firstChild)};je.prototype.rectBeneath=function(e){var t=document.createElementNS(Ot,"rect");t.setAttribute("x",e.x),t.setAttribute("width",e.width),t.setAttribute("y",e.y),t.setAttribute("height",e.height),e.stroke&&t.setAttribute("stroke",e.stroke),e["stroke-opacity"]&&t.setAttribute("stroke-opacity",e["stroke-opacity"]),e.fill&&t.setAttribute("fill",e.fill),e["fill-opacity"]&&t.setAttribute("fill-opacity",e["fill-opacity"]),this.svg.insertBefore(t,this.svg.firstChild)};je.prototype.text=function(e,t,r){var n=document.createElementNS(Ot,"text");n.setAttribute("stroke","none");for(var a in t)t.hasOwnProperty(a)&&n.setAttribute(a,t[a]);for(var s=t["data-name"]=="free-text",i=(""+e).split(`
`),o=0;o<i.length;o++)if(!(s&&i[o]=="")){var l=document.createElementNS(Ot,"tspan");if(l.setAttribute("x",t.x?t.x:0),o!==0&&l.setAttribute("dy","1.2em"),i[o].indexOf("")!==-1){var c=i[o].split("");if(l.textContent=c[0],c[1]){var h=document.createElementNS(Ot,"tspan");h.setAttribute("dy","-0.3em"),h.setAttribute("style","font-size:0.7em"),h.textContent=c[1],l.appendChild(h)}if(c[2]){var u=c[1]?"0.4em":"0.1em",f=document.createElementNS(Ot,"tspan");f.setAttribute("dy",u),f.setAttribute("style","font-size:0.7em"),f.textContent=c[2],l.appendChild(f)}}else s&&i[o].trim()==""?l.innerHTML="&nbsp;":l.textContent=i[o];n.appendChild(l)}return r?r.appendChild(n):this.append(n),n};je.prototype.richTextLine=function(e,t,r,n,a,s){var i=document.createElementNS(Ot,"text");i.setAttribute("stroke","none"),i.setAttribute("class",n),i.setAttribute("x",t),i.setAttribute("y",r),i.setAttribute("text-anchor",a),i.setAttribute("dominant-baseline","middle");for(var o=0;o<e.length;o++){for(var l=e[o],c=document.createElementNS(Ot,"tspan"),h=Object.keys(l.attrs),u=0;u<h.length;u++){var f=l.attrs[h[u]];f!==""&&c.setAttribute(h[u],f)}c.textContent=l.content,i.appendChild(c)}return s?s.appendChild(i):this.append(i),i};je.prototype.guessWidth=function(e,t){var r=this.createDummySvg(),n=this.text(e,t,r),a;try{a=n.getBBox(),isNaN(a.height)||!a.height?a={width:t["font-size"]/2,height:t["font-size"]+2}:a={width:a.width,height:a.height}}catch{a={width:t["font-size"]/2,height:t["font-size"]+2}}return r.removeChild(n),a};je.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=Qh();var e=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",e.join(""));var t=document.querySelector("body");t.appendChild(this.dummySvg)}return this.dummySvg};var Mu={};je.prototype.getTextSize=function(e,t,r){if(typeof e=="number"&&(e=""+e),!e||e.match(/^\s+$/))return{width:0,height:0};var n;if(e.length<20&&(n=e+JSON.stringify(t),Mu[n]))return Mu[n];var a=!r;r||(r=this.text(e,t));var s;try{s=r.getBBox(),isNaN(s.height)||!s.height?s=this.guessWidth(e,t):s={width:s.width,height:s.height}}catch{s=this.guessWidth(e,t)}return a&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(r):this.svg.removeChild(r)),n&&(Mu[n]=s),s};je.prototype.openGroup=function(e){e=e||{};var t=document.createElementNS(Ot,"g");return e.klass&&t.setAttribute("class",e.klass),e.fill&&t.setAttribute("fill",e.fill),e.stroke&&t.setAttribute("stroke",e.stroke),e["data-name"]&&t.setAttribute("data-name",e["data-name"]),e.prepend?this.prepend(t):this.append(t),this.currentGroup.unshift(t),t};je.prototype.closeGroup=function(){var e=this.currentGroup.shift();return e&&e.children.length===0?(e.parentElement.removeChild(e),null):e};je.prototype.path=function(e){var t=document.createElementNS(Ot,"path");for(var r in e)e.hasOwnProperty(r)&&(r==="path"?t.setAttributeNS(null,"d",e.path):r==="klass"?t.setAttributeNS(null,"class",e[r]):e[r]!==void 0&&t.setAttributeNS(null,r,e[r]));return this.append(t),t};je.prototype.pathToBack=function(e){var t=document.createElementNS(Ot,"path");for(var r in e)e.hasOwnProperty(r)&&(r==="path"?t.setAttributeNS(null,"d",e.path):r==="klass"?t.setAttributeNS(null,"class",e[r]):t.setAttributeNS(null,r,e[r]));return this.prepend(t),t};je.prototype.lineToBack=function(e){for(var t=document.createElementNS(Ot,"line"),r=Object.keys(e),n=0;n<r.length;n++)t.setAttribute(r[n],e[r[n]]);return this.prepend(t),t};je.prototype.append=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.appendChild(e)};je.prototype.prepend=function(e){this.currentGroup.length>0?this.currentGroup[0].appendChild(e):this.svg.insertBefore(e,this.svg.firstChild)};je.prototype.setAttributeOnElement=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttributeNS(null,r,t[r])};je.prototype.moveElementToChild=function(e,t){e.appendChild(t)};function Qh(){var e=document.createElementNS(Ot,"svg");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("role","img"),e.setAttribute("fill","currentColor"),e.setAttribute("stroke","currentColor"),e}var WE=je,Bx=$t,UE=WE,yr=function(e){this.paper=new UE(e),this.controller=null,this.space=3*Bx.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};yr.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};yr.prototype.newTune=function(e){this.abctune=e,this.setVerticalSpace(e.formatting),this.isPrint=e.media==="print",this.setPadding(e)};yr.prototype.setLineThickness=function(e){this.lineThickness=e};yr.prototype.setPaddingOverride=function(e){this.paddingOverride={top:e.paddingtop,bottom:e.paddingbottom,right:e.paddingright,left:e.paddingleft}};yr.prototype.setPadding=function(e){function t(r,n,a,s,i){e.formatting[a]!==void 0?r.padding[n]=e.formatting[a]:r.paddingOverride[n]!==void 0?r.padding[n]=r.paddingOverride[n]:r.isPrint?r.padding[n]=s:r.padding[n]=i}t(this,"top","topmargin",38,15),t(this,"bottom","botmargin",38,15),t(this,"left","leftmargin",68,15),t(this,"right","rightmargin",68,15)};yr.prototype.adjustNonScaledItems=function(e){this.padding.top/=e,this.padding.bottom/=e,this.padding.left/=e,this.padding.right/=e,this.abctune.formatting.headerfont.size/=e,this.abctune.formatting.footerfont.size/=e};yr.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,staffTopMargin:0,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};yr.prototype.setVerticalSpace=function(e){e.staffsep!==void 0&&(this.spacing.staffSeparation=e.staffsep*4/3),e.composerspace!==void 0&&(this.spacing.composer=e.composerspace*4/3),e.partsspace!==void 0&&(this.spacing.parts=e.partsspace*4/3),e.textspace!==void 0&&(this.spacing.text=e.textspace*4/3),e.musicspace!==void 0&&(this.spacing.music=e.musicspace*4/3),e.titlespace!==void 0&&(this.spacing.title=e.titlespace*4/3),e.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=e.sysstaffsep*4/3),e.stafftopmargin!==void 0&&(this.spacing.staffTopMargin=e.stafftopmargin*4/3),e.subtitlespace!==void 0&&(this.spacing.subtitle=e.subtitlespace*4/3),e.topspace!==void 0&&(this.spacing.top=e.topspace*4/3),e.vocalspace!==void 0&&(this.spacing.vocal=e.vocalspace*4/3),e.wordsspace!==void 0&&(this.spacing.words=e.wordsspace*4/3)};yr.prototype.calcY=function(e){return this.y-e*Bx.STEP};yr.prototype.moveY=function(e,t){t===void 0&&(t=1),this.y+=e*t};yr.prototype.absolutemoveY=function(e){this.y=e};var VE=yr;function qE(e,t,r,n,a,s){var i=e.text;this.rows=[];var o;t&&this.rows.push({move:t});var l=r.calc("textfont","defined-text");if(i==="")this.rows.push({move:l.attr["font-size"]*2});else if(typeof i=="string"){let v=function(y){return y.replace(/^[ \t]*\n/gm,`X
`)};var m=v;this.rows.push({move:l.attr["font-size"]/2}),this.rows.push({left:n,text:i,font:"textfont",klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"});var c=v(i);o=s.calc(c,"textfont","defined-text"),this.rows.push({move:o.height})}else if(i){for(var h=0,u=n,f="textfont",p=0;p<i.length;p++)i[p].font?f=i[p].font:f="textfont",this.rows.push({left:u,text:i[p].text,font:f,klass:"defined-text",anchor:"start",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=s.calc(i[p].text,r.calc(f,"defined-text").font,"defined-text"),u+=o.width+o.height/2,h=Math.max(h,o.height);this.rows.push({move:h})}else if(e.length===1){var g=a/2;this.rows.push({left:g,text:e[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:e.startChar,endChar:e.endChar,absElemType:"freeText",name:"free-text"}),o=s.calc(e[0].text,"textfont","defined-text"),this.rows.push({move:o.height})}}var GE=qE;function YE(e,t,r){this.rows=[],e&&this.rows.push({move:e}),this.rows.push({separator:t,absElemType:"separator"}),r&&this.rows.push({move:r})}var KE=YE;function QE(e,t,r,n,a,s){this.rows=[],e&&this.rows.push({move:e});var i=t.titleleft?"start":"middle",o=t.titleleft?a:n;this.rows.push({left:o,text:r.text,font:"subtitlefont",klass:"text subtitle",anchor:i,startChar:r.startChar,endChar:r.endChar,absElemType:"subtitle",name:"subtitle"});var l=s.calc(r.text,"subtitlefont","text subtitle");this.rows.push({move:l.height})}var JE=QE;function ZE(e,t,r){if(t.text){t.marginLeft||(t.marginLeft=0),t.klass||(t.klass=""),t.anchor||(t.anchor="start"),t.info||(t.info={startChar:-2,endChar:-2}),t.marginTop&&e.push({move:t.marginTop});var n={left:t.marginLeft,text:t.text,font:t.font,anchor:t.anchor,startChar:t.info.startChar,endChar:t.info.endChar,"dominant-baseline":t["dominant-baseline"]};t.absElemType&&(n.absElemType=t.absElemType),!t.inGroup&&t.klass&&(n.klass=t.klass),t.name&&(n.name=t.name),e.push(n);var a=r.calc("A",t.font,t.klass),s=t.text.split(`
`).length;if(t.text[t.text.length-1]===`
`&&s--,!t.noMove){var i=a.height*1.1*s;e.push({move:Math.round(i)}),t.marginBottom&&e.push({move:t.marginBottom})}}}var Jh=ZE;const eT=Jh;function tT(e,t,r,n,a,s,i,o){var l=o.calc("i",r,n);if(t==="")e.push({move:l.height});else{if(typeof t=="string"){eT(e,{marginLeft:s,text:t,font:r,klass:n,marginTop:i.marginTop,anchor:i.anchor,absElemType:i.absElemType,info:i.info,name:a},o);return}i.marginTop&&e.push({move:i.marginTop});var c=0,h={left:s,anchor:i.anchor,phrases:[]};n&&(h.klass=n),e.push(h);for(var u=0;u<t.length;u++){var f=t[u],p=f.font?f.font:o.attr(r,n).font,g={content:f.text};p&&(g.attrs={"font-family":o.getFamily(p.face),"font-size":p.size,"font-weight":p.weight,"font-style":p.style,"font-decoration":p.decoration}),h.phrases.push(g);var m=o.calc(f.text,p,n);c=Math.max(c,m.height),f.text[f.text.length-1]===" "&&l.width}e.push({move:c})}}var Lx=tT;const I0=Jh,Oi=Lx;function rT(e,t,r,n,a,s,i,o,l,c){if(this.rows=[],e.header&&s){var h=c.calc("X","headerfont","abcjs-header abcjs-meta-top").height;I0(this.rows,{marginLeft:i,text:e.header.left,font:"headerfont",klass:"header meta-top",marginTop:-h,info:t.header,name:"header"},c),I0(this.rows,{marginLeft:i+a/2,text:e.header.center,font:"headerfont",klass:"header meta-top",marginTop:-h,anchor:"middle",info:t.header,name:"header"},c),I0(this.rows,{marginLeft:i+a,text:e.header.right,font:"headerfont",klass:"header meta-top",marginTop:-h,anchor:"end",info:t.header,name:"header"},c)}s&&this.rows.push({move:o.top});var u=r.titleleft?"start":"middle",f=r.titleleft?i:i+a/2;if(e.title){var p=l?"abcjs-title":"";Oi(this.rows,e.title,"titlefont",p,"title",f,{marginTop:o.title,anchor:u,absElemType:"title",info:t.title},c)}if(n.length)for(var g=0;g<n.length&&n[g].subtitle;){var p=l?"abcjs-text abcjs-subtitle":"";Oi(this.rows,n[g].subtitle.text,"subtitlefont",p,"subtitle",f,{marginTop:o.subtitle,anchor:u,absElemType:"subtitle",info:n[g].subtitle},c),g++}if(e.rhythm||e.origin||e.composer){if(this.rows.push({move:o.composer}),e.rhythm&&e.rhythm.length>0){var m=!!(e.composer||e.origin),p=l?"abcjs-rhythm":"";I0(this.rows,{marginLeft:i,text:e.rhythm,font:"infofont",klass:p,absElemType:"rhythm",noMove:m,info:t.rhythm,name:"rhythm"},c)}e.composer&&e.composer,e.origin&&e.origin;var v=e.composer?e.composer:"";if(e.origin&&(typeof v=="string"&&typeof e.origin=="string"?v+=" ("+e.origin+")":typeof v=="string"&&typeof e.origin!="string"?(v=[{text:v}],v.push({text:" ("}),v=v.concat(e.origin),v.push({text:")"})):(v.push({text:" ("}),v=v.concat(e.origin),v.push({text:")"}))),v){var p=l?"abcjs-composer":"";Oi(this.rows,v,"composerfont",p,"composer",i+a,{anchor:"end",absElemType:"composer",info:t.composer,ingroup:!0},c)}}if(e.author&&e.author.length>0){var p=l?"abcjs-author":"";Oi(this.rows,e.author,"composerfont",p,"author",i+a,{anchor:"end",absElemType:"author",info:t.author},c)}if(e.partOrder&&e.partOrder.length>0){var p=l?"abcjs-part-order":"";Oi(this.rows,e.partOrder,"partsfont",p,"part-order",i,{absElemType:"partOrder",info:t.partOrder,anchor:"start"},c)}}var nT=rT;const oo=Jh,Rx=Lx;function _c(e,t,r,n,a,s,i){this.rows=[],e.unalignedWords&&e.unalignedWords.length>0&&this.unalignedWords(e.unalignedWords,n,a,s,i),this.extraText(e,n,a,s,i),e.footer&&r&&this.footer(e.footer,t,n,i)}_c.prototype.unalignedWords=function(e,t,r,n,a){var s=n?"abcjs-unaligned-words":"",i="wordsfont",o=a.calc("i",i,s);this.rows.push({move:r.words}),df(this.rows,"",e,t,i,"unalignedWords","unalignedWords",s,"unalignedWords",r,n,a),this.rows.push({move:o.height})};function Xa(e,t,r,n,a,s,i){r&&(t&&(typeof r=="string"?r=t+r:r=[{text:t}].concat(r)),a=s?"abcjs-extra-text "+a:"",Rx(e,r,"historyfont",a,"description",n,{absElemType:"extraText",anchor:"start"},i))}function df(e,t,r,n,a,s,i,o,l,c,h,u){if(r){o=h?"abcjs-extra-text "+o:"";var f=u.calc("A",a,o);if(typeof r=="string")t&&(r=t+`
`+r),oo(e,{marginLeft:n,text:r,font:a,absElemType:"extraText",name:l,"dominant-baseline":"middle",klass:o},u);else{e.push({startGroup:i,klass:o,name:l}),e.push({move:c.info}),t&&(oo(e,{marginLeft:n,text:t,font:a,absElemType:"extraText",name:l,"dominant-baseline":"middle"},u),e.push({move:f.height*3/4}));for(var p=0;p<r.length;p++)Rx(e,r[p],a,"",l,n,{anchor:"start"},u),p<r.length-1&&typeof r[p]=="string"&&typeof r[p+1]!="string"&&e.push({move:f.height*3/4});e.push({endGroup:i,absElemType:s,startChar:-1,endChar:-1,name:l}),e.push({move:f.height})}}}_c.prototype.extraText=function(e,t,r,n,a){Xa(this.rows,"Book: ",e.book,t,"abcjs-book",n,a),Xa(this.rows,"Source: ",e.source,t,"abcjs-source",n,a),Xa(this.rows,"Discography: ",e.discography,t,"abcjs-discography",n,a),df(this.rows,"Notes:",e.notes,t,"historyfont","extraText","notes","abcjs-notes","description",r,n,a),Xa(this.rows,"Transcription: ",e.transcription,t,"abcjs-transcription",n,a),df(this.rows,"History:",e.history,t,"historyfont","extraText","history","abcjs-history","description",r,n,a),Xa(this.rows,"Copyright: ",e["abc-copyright"],t,"abcjs-copyright",n,a),Xa(this.rows,"Creator: ",e["abc-creator"],t,"abcjs-creator",n,a),Xa(this.rows,"Edited By: ",e["abc-edited-by"],t,"abcjs-edited-by",n,a)};_c.prototype.footer=function(e,t,r,n){var a="header meta-bottom",s="footerfont";this.rows.push({startGroup:"footer",klass:a}),oo(this.rows,{marginLeft:r,text:e.left,font:s,klass:a,name:"footer"},n),oo(this.rows,{marginLeft:r+t/2,text:e.center,font:s,klass:a,anchor:"middle",name:"footer"},n),oo(this.rows,{marginLeft:r+t,text:e.right,font:s,klass:a,anchor:"end",name:"footer"},n)};var aT=_c;function Bu(e,t,r,n){if(e.indexOf(t)===0){var a=e.replace(t,""),s=parseInt(a,10);""+s===a&&(r[n]=s)}}function sT(e,t){var r=[];if(e.absEl.elemset){for(var n={},a=0;a<e.absEl.elemset.length;a++){var s=e.absEl.elemset[a];if(s)for(var i=s.getAttribute("class").split(" "),o=0;o<i.length;o++)n[i[o]]=!0}for(var l=0;l<Object.keys(n).length;l++)r.push(Object.keys(n)[l])}for(var c={},h=0;h<r.length;h++)Bu(r[h],"abcjs-v",c,"voice"),Bu(r[h],"abcjs-l",c,"line"),Bu(r[h],"abcjs-m",c,"measure");e.staffPos&&(c.staffPos=e.staffPos);for(var u=t.target;u&&u.dataset&&!u.dataset.name&&u.tagName.toLowerCase()!=="svg";)u=u.parentNode;for(var f=t.target;f&&f.dataset&&!f.dataset.index&&f.tagName.toLowerCase()!=="svg";)f=f.parentNode;return f&&f.dataset&&(c.name=f.dataset.name,c.clickedName=u.dataset.name,c.parentClasses=f.classList),u&&u.classList&&(c.clickedClasses=u.classList),c.selectableElement=e.svgEl,{classes:r,analysis:c}}var Dx=sT,Hl=$t,iT=Dx;function oT(e,t){if(e.rangeHighlight=vT,e.dragging)for(var r=0;r<e.selectables.length;r++){var n=e.selectables[r];n.svgEl.getAttribute("selectable")==="true"&&(n.svgEl.setAttribute("tabindex",0),n.svgEl.setAttribute("data-index",r),n.svgEl.addEventListener("keydown",uT.bind(e)),n.svgEl.addEventListener("keyup",dT.bind(e)),n.svgEl.addEventListener("focus",cT.bind(e)))}for(var a=0;a<t.length;a++)t[a].addEventListener("touchstart",$g.bind(e),{passive:!0}),t[a].addEventListener("touchmove",Hg.bind(e),{passive:!0}),t[a].addEventListener("touchend",Ao.bind(e),{passive:!0}),t[a].addEventListener("mousedown",$g.bind(e)),t[a].addEventListener("mousemove",Hg.bind(e)),t[a].addEventListener("mouseup",Ao.bind(e))}function lT(e){var t=1,r=1,n=e.target.closest("svg"),a=0;n&&n.viewBox&&n.viewBox.baseVal&&(n.viewBox.baseVal.width!==0&&(t=n.viewBox.baseVal.width/n.clientWidth),n.viewBox.baseVal.height!==0&&(r=n.viewBox.baseVal.height/n.clientHeight),a=n.viewBox.baseVal.y);var s=e.target&&e.target.tagName==="svg",i,o;return s?(i=e.offsetX,o=e.offsetY):(i=e.layerX,o=e.layerY),i=i*t,o=o*r,[i,o+a]}function cT(e){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&Ix.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,e),this.dragYStep=0}function uT(e){switch(e.keyCode){case 38:case 40:e.preventDefault()}}function dT(e){var t=!1,r=e.target.dataset.index;switch(e.keyCode){case 13:case 32:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragMechanism="keyboard",Ao.bind(this)(e);break;case 38:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Hl.STEP+")"));break;case 40:t=!0,this.dragTarget=this.selectables[r],this.dragIndex=r,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*Hl.STEP+")"));break;case 9:this.dragYStep!==0&&Ao.bind(this)(e);break}t&&e.preventDefault()}function fT(e,t){if(!t)return-1;var r=t.dataset;if(!r)return-1;for(var n=r.index,a=0;a<e.length;a++){var s=e[a].svgEl.dataset;if(s&&n===s.index)return a}return-1}function hT(e,t,r){for(var n=9999999,a=-1,s=0;s<e.selectables.length&&n>0;s++){var i=e.selectables[s];if(e.getDim(i),i.dim.left<t&&i.dim.right>t&&i.dim.top<r&&i.dim.bottom>r)a=s,n=0;else if(i.dim.top<r&&i.dim.bottom>r){var o=Math.min(Math.abs(i.dim.left-t),Math.abs(i.dim.right-t));o<n&&(n=o,a=s)}else if(i.dim.left<t&&i.dim.right>t){var l=Math.min(Math.abs(i.dim.top-r),Math.abs(i.dim.bottom-r));l<n&&(n=l,a=s)}else{var c=Math.abs(t-i.dim.left)>Math.abs(t-i.dim.right)?Math.abs(t-i.dim.right):Math.abs(t-i.dim.left),h=Math.abs(r-i.dim.top)>Math.abs(r-i.dim.bottom)?Math.abs(r-i.dim.bottom):Math.abs(r-i.dim.top),u=Math.sqrt(c*c+h*h);u<n&&(n=u,a=s)}}return a>=0&&n<=12?a:-1}function pT(e,t,r){if(e.x<=t.offsetX&&e.x+e.width>=t.offsetX&&e.y<=t.offsetY&&e.y+e.height>=t.offsetY)return[t.offsetX,t.offsetY];var n=Math.abs(t.layerY/r-t.offsetY);return n<3?[t.offsetX,t.offsetY]:[t.layerX,t.layerY]}function gT(e){if(!e)return null;if(e.tagName==="svg")return e;if(!e.getAttribute)return null;for(var t=e.getAttribute("selectable");!t;)e.parentElement?(e=e.parentElement,e.tagName==="svg"?t=!0:t=e.getAttribute("selectable")):t=!0;return e}function Ox(e,t){var r,n,a,s=fT(e.selectables,gT(t.target));return s>=0?(a=pT(e.selectables[s].svgEl.getBBox(),t,e.scale),r=a[0],n=a[1]):(a=lT(t),r=a[0],n=a[1],s=hT(e,r,n)),{x:r,y:n,clickedOn:s}}function Zh(e){if(!(!e||!e.target||!e.touches||e.touches.length<1)){var t=e.target.getBoundingClientRect(),r=e.touches[0].pageX-t.left,n=e.touches[0].pageY-t.top;e.touches[0].offsetX=r,e.touches[0].offsetY=n,e.touches[0].layerX=e.touches[0].pageX,e.touches[0].layerY=e.touches[0].pageY}}function $g(e){var t=e;e.type==="touchstart"&&(Zh(e),e.touches.length>0&&(t=e.touches[0]));var r=Ox(this,t);r.clickedOn>=0&&(e.type==="touchstart"||e.button===0)&&this.selectables[r.clickedOn]&&(this.dragTarget=this.selectables[r.clickedOn],this.dragIndex=r.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:r.x,y:r.y},this.dragging&&this.dragTarget.isDraggable&&(yT(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function Hg(e){var t=e;if(e.type==="touchmove"&&(Zh(e),e.touches.length>0&&(t=e.touches[0])),this.lastTouchMove=e,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var r=Ox(this,t),n=Math.round((r.y-this.dragMouseStart.y)/Hl.STEP);n!==this.dragYStep&&(this.dragYStep=n,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+n*Hl.STEP+")"))}}function Ao(e){var t=e;e.type==="touchend"&&this.lastTouchMove&&(Zh(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&(t=this.lastTouchMove.touches[0])),this.dragTarget&&(Fx.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),Ix.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,t),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),bT(this.renderer.svg,"abcjs-dragging-in-progress"))}function mT(e){e>=0&&e<this.selectables.length&&(this.dragTarget=this.selectables[e],this.dragIndex=e,this.dragMechanism="keyboard",Ao.bind(this)({target:this.dragTarget.svgEl}))}function Ix(e,t,r,n,a){for(var s=iT(e,a),i=s.classes,o=s.analysis,l=0;l<this.listeners.length;l++)this.listeners[l](e.absEl.abcelem,e.absEl.tuneNumber,i.join(" "),o,{step:t,max:r,index:n,setSelection:mT.bind(this)},a)}function Fx(){for(var e=0;e<this.selected.length;e++)this.selected[e].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function vT(e,t){Fx.bind(this)();for(var r=0;r<this.staffgroups.length;r++)for(var n=this.staffgroups[r].voices,a=0;a<n.length;a++)for(var s=n[a].children,i=0;i<s.length;i++){var o=s[i].abcelem.startChar,l=s[i].abcelem.endChar;(t>o&&e<l||t===e&&t===l)&&(this.selected[this.selected.length]=s[i],s[i].highlight(void 0,this.selectionColor))}}function zx(e){var t=e.getAttribute("class");t||(t="");for(var r=t.split(" "),n={},a=0;a<r.length;a++)n[r[a]]=!0;return n}function $x(e,t){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(n);e.setAttribute("class",r.join(" "))}function yT(e,t){if(e){var r=zx(e.svg);r[t]=!0,$x(e.svg,r)}}function bT(e,t){if(e){var r=zx(e.svg);delete r[t],$x(e.svg,r)}}var xT=oT;function wT(e,t,r,n,a){return t+(n-t)/(r-e)*(a-e)}var e1=wT,XT=nn,ff=$t,hf=e1,CT=function(e){if(!(e.elems.length===0||e.allrests)){var t=ST(e.stemsUp,e.isgrace),r=e.elems[0],n=e.elems[e.elems.length-1],a=0,s=e.stemsUp?r.abcelem.maxpitch:r.abcelem.minpitch;a=Ug(r,e.stemsUp,s,a),a=Ug(n,e.stemsUp,s,a),a=Math.max(e.stemHeight,a+3);var i=NT(e.average,e.elems.length,a,e.stemsUp,r.abcelem.averagepitch,n.abcelem.averagepitch,e.isflat,e.min,e.max,e.isgrace),o=Hx(e.stemsUp,r,n);e.addBeam({startX:o[0],endX:o[1],startY:i[0],endY:i[1],dy:t});for(var l=TT(e.elems,e.stemsUp,e.beams[0],e.isgrace,t),c=0;c<l.length;c++)e.addBeam(l[c]);ET(e.elems,e.stemsUp,e.beams[0],t,e.mainNote)}},Wg=function(e){return e===void 0?0:Math.floor(Math.log(e)/Math.log(2))};function Ug(e,t,r,n){if(!e.children)return n;for(var a=0;a<e.children.length;a++){var s=e.children[a];t&&s.top!==void 0&&s.c==="flags.ugrace"?n=Math.max(n,s.top-r):!t&&s.bottom!==void 0&&s.c==="flags.ugrace"&&(n=Math.max(n,r-s.bottom+7))}return n}function kT(e,t,r,n){if(n)return 0;var a=e-t,s=r/2;return a>s&&(a=s),a<-s&&(a=-s),a}function ST(e,t){var r=e?ff.STEP:-ff.STEP;return t&&(r=r*.4),r}function Hx(e,t,r){var n=t.heads[e?0:t.heads.length-1],a=r.heads[e?0:r.heads.length-1],s=n.x;e&&(s+=n.w-.6);var i=a.x;return i+=e?a.w:.6,[s,i]}function NT(e,t,r,n,a,s,i,o,l,c){var h=r-2,u=r-2,f=Math.round(n?Math.max(e+h,l+u):Math.min(e-h,o-u)),p=kT(a,s,t,i),g=f+Math.floor(p/2),m=f+Math.floor(-p/2);return c||(n&&f<6||!n&&f>6)&&(g=6,m=6),[g,m]}function ET(e,t,r,n,a){for(var s=0;s<e.length;s++){var i=e[s];if(!i.abcelem.rest){var o=!i.addExtra,l=o?a:i,c=i.heads[t?0:i.heads.length-1],h=1/5,u=c.pitch+(t?h:-h),f=t?c.w:0;o||(f+=c.dx);var p=c.x+f,g=hf(r.startX,r.startY,r.endX,r.endY,p),m=t?-.6:.6;t||(g-=n/2/ff.STEP),o&&(f+=i.heads[0].dx),c.c==="noteheads.slash.quarter"&&(t?u+=1:u-=1);var v=new XT(null,f,0,u,{type:"stem",pitch2:g,linewidth:m});v.setX(l.x),l.addRight(v)}}}function TT(e,t,r,n,a){for(var s=[],i=[],o=0;o<e.length;o++){var l=e[o];if(!l.abcelem.rest){var c=l.heads[t?0:l.heads.length-1],h=c.x+(t?c.w:0),u=hf(r.startX,r.startY,r.endX,r.endY,h),f=t?-1.5:1.5;n&&(f=f*2/3);var p=l.abcelem.duration;p===0&&(p=.25);for(var g=Wg(p);g<-3;g++){var m=-4-g;if(i[m]?i[m].single=!1:i[m]={x:h+(t?-.6:0),y:u+f*(m+1),durlog:g,single:!0},o>0&&l.abcelem.beambr&&l.abcelem.beambr<=m+1){i[m].split||(i[m].split=[i[m].x]);var v=Hx(t,e[o-1],l);i[m].split[i[m].split.length-1]>=v[0]&&(v[0]+=l.w),i[m].split.push(v[0]),i[m].split.push(v[1])}}for(var y=i.length-1;y>=0;y--)if(o===e.length-1||Wg(e[o+1].abcelem.duration)>-y-4){var b=h,w=u+f*(y+1);i[y].single&&(b=o===0?h+5:h-5,w=hf(r.startX,r.startY,r.endX,r.endY,b)+f*(y+1));var x={startX:i[y].x,endX:b,startY:i[y].y,endY:w,dy:a};if(i[y].split!==void 0){var X=i[y].split;x.endX<=X[X.length-1]&&(X[X.length-1]-=l.w),X.push(x.endX),x.split=i[y].split}s.push(x),i=i.slice(0,y)}}}return s}var _T=CT,jT=e1;function PT(e){if(e.anchor1&&e.anchor2){e.hasBeam=!!e.anchor1.parent.beam&&e.anchor1.parent.beam===e.anchor2.parent.beam;var t=e.anchor1.parent.beam;if(e.hasBeam&&(t.elems[0]!==e.anchor1.parent||t.elems[t.elems.length-1]!==e.anchor2.parent)&&(e.hasBeam=!1),e.hasBeam){var r=Lu(t)?e.anchor1.x+e.anchor1.w:e.anchor1.x;e.yTextPos=AT(r,e.anchor2.x,t),e.yTextPos+=Lu(t)?3:-2,e.xTextPos=MT(r,e.anchor2.x),e.top=e.yTextPos+1,e.bottom=e.yTextPos-2,Lu(t)&&(e.endingHeightAbove=4)}else{e.startNote=Math.max(e.anchor1.parent.top,9)+4,e.endNote=Math.max(e.anchor2.parent.top,9)+4,e.anchor1.parent.type==="rest"&&e.anchor2.parent.type!=="rest"?e.startNote=e.endNote:e.anchor2.parent.type==="rest"&&e.anchor1.parent.type!=="rest"&&(e.endNote=e.startNote);for(var n=0,a=0;a<e.middleElems.length;a++)n=Math.max(n,e.middleElems[a].top);n+=4,(n>e.startNote||n>e.endNote)&&(e.startNote=n,e.endNote=n),e.flatBeams&&(e.startNote=Math.max(e.startNote,e.endNote),e.endNote=Math.max(e.startNote,e.endNote)),e.yTextPos=e.startNote+(e.endNote-e.startNote)/2,e.xTextPos=e.anchor1.x+(e.anchor2.x+e.anchor2.w-e.anchor1.x)/2,e.top=e.yTextPos+1}}delete e.middleElems,delete e.flatBeams}function Lu(e){return e.stemsUp}function AT(e,t,r){if(r.beams.length===0)return 0;r=r.beams[0];var n=e+(t-e)/2;return jT(r.startX,r.startY,r.endX,r.endY,n)}function MT(e,t){return e+(t-e)/2}var BT=PT,LT=_T,RT=e1,DT=BT,OT=function(e){for(var t=0;t<e.beams.length;t++)if(e.beams[t].type==="BeamElem"){LT(e.beams[t]),IT(e.beams[t]);for(var r=0;r<e.beams[t].elems.length;r++)e.adjustRange(e.beams[t].elems[r])}for(e.staff.specialY.chordLines=FT(e.children),t=0;t<e.otherchildren.length;t++){var n=e.otherchildren[t];n.type==="TripletElem"&&(DT(n),e.adjustRange(n))}e.staff.top=Math.max(e.staff.top,e.top),e.staff.bottom=Math.min(e.staff.bottom,e.bottom)};function IT(e){for(var t=1.5,r=0;r<e.elems.length;r++){var n=e.elems[r];if(n.top)for(var a=HT(n,e),s=0;s<n.children.length;s++){var i=n.children[s];if(i.klass==="ornament"&&i.position!=="below"&&i.bottom-t<a){var o=a-i.bottom+t;i.bottom+=o,i.top+=o,i.pitch+=o,a=n.top=i.top}}}}function Vg(e,t){var r=t.getChordDim();if(r){for(var n=0;n<e.length;n++){var a=e[n]<r.left;if(a){n>0&&t.putChordInLane(n),e[n]=r.right;return}}e.push(r.right),t.putChordInLane(e.length-1)}}function FT(e){var t=[0],r=[0],n,a,s;for(n=0;n<e.length;n++){for(a=0;a<e[n].children.length;a++)s=e[n].children[a],s.chordHeightAbove&&Vg(t,s);for(a=e[n].children.length-1;a>=0;a--)s=e[n].children[a],s.chordHeightBelow&&Vg(r,s)}return(t.length>1||r.length>1)&&$T(e,t.length,r.length),{above:t.length,below:r.length}}function zT(e){for(var t=0,r=0;r<e.children.length;r++){var n=e.children[r];n.chordHeightBelow&&t++}return t}function $T(e,t,r){for(var n=0;n<e.length;n++){zT(e[n]);for(var a=0;a<e[n].children.length;a++){var s=e[n].children[a];s.chordHeightAbove&&s.invertLane(t)}}}function HT(e,t){return t=t.beams[0],RT(t.startX,t.startY,t.endX,t.endY,e.x)}var WT=OT,Fs=$t,UT=function(e,t){for(var r,n=0;n<t.staffs.length;n++){var a=t.staffs[n],s={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.originalTop=a.top,a.originalBottom=a.bottom),us(a,s,"lyricHeightAbove"),us(a,s,"chordHeightAbove",a.specialY.chordLines.above),a.specialY.endingHeightAbove&&(a.specialY.chordHeightAbove?a.top+=2:a.top+=a.specialY.endingHeightAbove+Ln,s.endingHeightAbove=a.top),a.specialY.dynamicHeightAbove&&a.specialY.volumeHeightAbove?(a.top+=Math.max(a.specialY.dynamicHeightAbove,a.specialY.volumeHeightAbove)+Ln,s.dynamicHeightAbove=a.top,s.volumeHeightAbove=a.top):(us(a,s,"dynamicHeightAbove"),us(a,s,"volumeHeightAbove")),us(a,s,"partHeightAbove"),us(a,s,"tempoHeightAbove"),a.specialY.lyricHeightBelow&&(a.specialY.lyricHeightBelow+=e.spacing.vocal/Fs.STEP,s.lyricHeightBelow=a.bottom,a.bottom-=a.specialY.lyricHeightBelow+Ln),a.specialY.chordHeightBelow){s.chordHeightBelow=a.bottom;var i=a.specialY.chordHeightBelow;a.specialY.chordLines.below&&(i*=a.specialY.chordLines.below),a.bottom-=i+Ln}a.specialY.volumeHeightBelow&&a.specialY.dynamicHeightBelow?(s.volumeHeightBelow=a.bottom,s.dynamicHeightBelow=a.bottom,a.bottom-=Math.max(a.specialY.volumeHeightBelow,a.specialY.dynamicHeightBelow)+Ln):a.specialY.volumeHeightBelow?(s.volumeHeightBelow=a.bottom,a.bottom-=a.specialY.volumeHeightBelow+Ln):a.specialY.dynamicHeightBelow&&(s.dynamicHeightBelow=a.bottom,a.bottom-=a.specialY.dynamicHeightBelow+Ln),e.showDebug&&e.showDebug.indexOf("box")>=0&&(a.positionY=s);for(var o=0;o<a.voices.length;o++){var l=t.voices[a.voices[o]];VT(s,l,e.spacing)}if(r!==void 0){var c=a.top-10,h=r+c,u=e.spacing.systemStaffSeparation/Fs.STEP,f=u-h;f>0&&(a.top+=f)}a.top+=e.spacing.staffTopMargin/Fs.STEP,r=2-a.bottom}},Ln=1;function us(e,t,r,n){if(e.specialY[r]){var a=e.specialY[r];n&&(a*=n),e.top+=a+Ln,t[r]=e.top}}function VT(e,t,r){var n,a;for(n=0;n<t.children.length;n++)a=t.children[n],qT(e,a,r);for(n=0;n<t.otherchildren.length;n++)switch(a=t.otherchildren[n],a.type){case"CrescendoElem":GT(e,a);break;case"DynamicDecoration":YT(e,a);break;case"EndingElem":KT(e,a);break;case"TieElem":var s=a.getYBounds();t.staff.top=Math.max(t.staff.top,s[0]),t.staff.top=Math.max(t.staff.top,s[1]),t.staff.bottom=Math.min(t.staff.bottom,s[0]),t.staff.bottom=Math.min(t.staff.bottom,s[1]);break}}function qT(e,t,r){for(var n=0;n<t.children.length;n++){var a=t.children[n];for(var s in t.specialY)t.specialY.hasOwnProperty(s)&&a[s]&&(a.pitch=e[s],a.top===void 0&&(a.type==="TempoElement"?QT(e,a):JT(e,a,r),t.pushTop(a.top),t.pushBottom(a.bottom)))}}function GT(e,t){t.dynamicHeightAbove?t.pitch=e.dynamicHeightAbove:t.pitch=e.dynamicHeightBelow}function YT(e,t){t.volumeHeightAbove?t.pitch=e.volumeHeightAbove:t.pitch=e.volumeHeightBelow}function KT(e,t){t.pitch=e.endingHeightAbove-2}function QT(e,t){if(t.pitch=e.tempoHeightAbove,t.top=e.tempoHeightAbove,t.bottom=e.tempoHeightAbove,t.note){var r=t.pitch-t.totalHeightInPitches+1;t.note.top=r,t.note.bottom=r;for(var n=0;n<t.note.children.length;n++){var a=t.note.children[n];a.top+=r,a.bottom+=r,a.pitch+=r,a.pitch2!==void 0&&(a.pitch2+=r)}}}function JT(e,t,r){switch(t.type){case"part":t.top=e.partHeightAbove+t.height,t.bottom=e.partHeightAbove;break;case"text":case"chord":t.chordHeightAbove?(t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove):(t.top=e.chordHeightBelow,t.bottom=e.chordHeightBelow);break;case"lyric":t.lyricHeightAbove?(t.top=e.lyricHeightAbove,t.bottom=e.lyricHeightAbove):(t.top=e.lyricHeightBelow+r.vocal/Fs.STEP,t.bottom=e.lyricHeightBelow+r.vocal/Fs.STEP,t.pitch-=r.vocal/Fs.STEP);break;case"debug":t.top=e.chordHeightAbove,t.bottom=e.chordHeightAbove;break}(t.pitch===void 0||t.top===void 0)&&console.error("RelativeElement position not set.",t.type,t.pitch,t.top,e)}var ZT=UT,Nn=function(){};Nn.beginLayout=function(e,t){t.i=0,t.durationindex=0,t.startx=e,t.minx=e,t.nextx=e,t.spacingduration=0};Nn.layoutEnded=function(e){return e.i>=e.children.length};Nn.getNextX=function(e){return Math.max(e.minx,e.nextx)};Nn.getSpacingUnits=function(e){return Math.sqrt(e.spacingduration*8)};Nn.layoutOneItem=function(e,t,r,n,a){var s=r.children[r.i];if(!s)return 0;var i=e-r.minx,o=r.durationindex+s.duration>0?n:0;if(s.abcelem.el_type==="note"&&!s.abcelem.rest&&r.voicenumber!==0&&a){var l=a.children[a.i],c=l&&(s.abcelem.maxpitch<=l.abcelem.maxpitch+1&&s.abcelem.maxpitch>=l.abcelem.minpitch-1||s.abcelem.minpitch<=l.abcelem.maxpitch+1&&s.abcelem.minpitch>=l.abcelem.minpitch-1);if(c&&s.abcelem.minpitch===l.abcelem.minpitch&&s.abcelem.maxpitch===l.abcelem.maxpitch&&l.heads&&l.heads.length>0&&s.heads&&s.heads.length>0&&l.heads[0].c===s.heads[0].c&&(c=!1),c){var h=l.heads&&l.heads.length>0?l.heads[0].realWidth:l.fixed.w;s.adjustedWidth||(s.adjustedWidth=h+s.w),s.w=s.adjustedWidth;for(var u=0;u<s.children.length;u++){var f=s.children[u];f.name.indexOf("accidental")<0&&(f.adjustedWidth||(f.adjustedWidth=f.dx+h),f.dx=f.adjustedWidth)}}}var p=e_(s,o);return i<p&&(r.i===0||s.type!=="bar"||r.children[r.i-1].type!=="part"&&r.children[r.i-1].type!=="tempo")&&(e+=p-i),s.setX(e),r.spacingduration=s.duration,r.minx=e+t_(s),r.i!==r.children.length-1&&(r.minx+=s.minspacing),this.updateNextX(e,t,r),e};Nn.shiftRight=function(e,t){var r=t.children[t.i];r&&(r.setX(r.x+e),t.minx+=e,t.nextx+=e)};Nn.updateNextX=function(e,t,r){r.nextx=e+t*this.getSpacingUnits(r)};Nn.updateIndices=function(e){this.layoutEnded(e)||(e.durationindex+=e.children[e.i].duration,e.children[e.i].type==="bar"&&(e.durationindex=Math.round(e.durationindex*64)/64),e.i++)};function e_(e,t){var r=0;return(e.type==="note"||e.type==="bar")&&(r=t),-e.extraw+r}function t_(e){return e.w}var r_=Nn,Ut=r_;function n_(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];if(n.children.length>0){var a=n.children.length-1,s=n.children[a];if(s.abcelem.el_type==="bar"){var i=s.children[0].x;i>t?t=i:s.children[0].x=t}}}}var a_=function(e,t,r,n,a){var s=1e-7,i=0,o=1e3,l=a;n.startx=l;var c,h=0;for(r&&console.log("init layout",e),c=0;c<n.voices.length;c++)Ut.beginLayout(l,n.voices[c]);for(var u=0;!s_(n.voices);){for(h=null,c=0;c<n.voices.length;c++)!Ut.layoutEnded(n.voices[c])&&(!h||Ru(n.voices[c])<h)&&(h=Ru(n.voices[c]));var f=[],p=[];for(c=0;c<n.voices.length;c++){var g=Ru(n.voices[c]);g-h>s?p.push(n.voices[c]):f.push(n.voices[c])}u=0;var m=0;for(c=0;c<f.length;c++)Ut.getNextX(f[c])>l&&(l=Ut.getNextX(f[c]),u=Ut.getSpacingUnits(f[c]),m=f[c].spacingduration);i+=u,o=Math.min(o,u),r&&console.log("currentduration: ",h,i,o);var v=void 0;for(c=0;c<f.length;c++){var y=f[c];y.voicenumber===0&&(v=c);var b=v!==void 0&&f[v].voicenumber!==y.voicenumber?f[v]:void 0;i_(y,b)||(b=void 0);var w=Ut.layoutOneItem(l,e,y,t,b),x=w-l;if(x>0){l=w;for(var X=0;X<c;X++)Ut.shiftRight(x,f[X])}}for(c=0;c<p.length;c++)p[c].spacingduration-=m,Ut.updateNextX(l,e,p[c]);for(c=0;c<f.length;c++){var k=f[c];Ut.updateIndices(k)}}for(c=0;c<n.voices.length;c++)Ut.getNextX(n.voices[c])>l&&(l=Ut.getNextX(n.voices[c]),u=Ut.getSpacingUnits(n.voices[c]));return n_(n.voices),i+=u,n.setWidth(l),{spacingUnits:i,minSpace:o}};function s_(e){for(var t=0;t<e.length;t++)if(!Ut.layoutEnded(e[t]))return!1;return!0}function Ru(e){return e.durationindex-(e.children[e.i]&&e.children[e.i].duration>0?0:5e-7)}function i_(e,t){return!e||!e.staff||!e.staff.voices||e.staff.voices.length===0||!t||!t.staff||!t.staff.voices||t.staff.voices.length===0?!1:e.staff.voices[0]===t.staff.voices[0]}var o_=a_;function l_(e,t,r,n,a){var s=e.padding.left,i=0,o,l;for(o=0;o<r.length;o++)r[o].header&&(l=t.calc(r[o].header,"voicefont",""),i=Math.max(i,l.width));if(i=qg(i,n,t),i=qg(i,a,t),i){var c=t.calc("A","voicefont","");i+=c.width}s+=i;var h=0;return h=Gg(n,s,h),h=Gg(a,s,h),s+h}function qg(e,t,r){if(t){for(var n=0;n<t.length;n++)if(t[n].header){var a=r.calc(t[n].header,"voicefont","");e=Math.max(e,a.width)}}return e}function Gg(e,t,r){if(e)for(var n=0;n<e.length;n++)c_(t,e[n]),r=Math.max(r,e[n].getWidth());return r}function c_(e,t){t.x=e}var Wx=l_,u_=Wx;function d_(e,t,r){var n=u_(e,t.getTextSize,t.voices,t.brace,t.bracket),a=f_(t,r.minPadding),s=a.totalDuration,i=a.minSpacing,o=i*s;r.minWidth&&(o=Math.max(o,r.minWidth));var l=r.minPadding?r.minPadding/2:2;t.startx=n,t.w=o+n;for(var c=0;c<t.voices.length;c++){var h=t.voices[c];h.startx=n,h.w=o+n;for(var u=n,f=!1,p=0,g=0;g<h.children.length;g++){var m=h.children[g];f||(m.duration!==0?(f=!0,p=(o+n-u)/s,t.gridStart=u):(m.x=u,u+=m.w+m.minspacing)),f&&(r.align==="center"?m.x=u+m.duration*p/2-m.w/2:m.duration===0?m.x=u+1-m.w:m.x=u+l-m.extraw,u+=m.duration*p);for(var v=0;v<m.children.length;v++){var y=m.children[v],b=y.dx?y.dx:0;y.x=m.x+b}}t.gridEnd=u}return o}function f_(e,t){for(var r=0,n=0,a=0;a<e.voices.length;a++){for(var s=0,i=e.voices[a],o=0;o<i.children.length;o++){var l=i.children[o];if(s+=l.duration,l.duration){var c=(l.w+t)/l.duration;r=Math.max(r,c)}}n=Math.max(n,s)}return{totalDuration:n,minSpacing:r}}var h_=d_,p_=WT,g_=ZT,m_=o_,v_=Wx,y_=h_,b_=function(e,t,r,n,a,s){var i,o,l=r;for(i=0;i<t.lines.length;i++)if(o=t.lines[i],o.staff){var c;s!==void 0?c=y_(e,o.staffGroup,s):c=x_(e,l,n,o.staffGroup,t.formatting,i===t.lines.length-1,!1),Math.round(c)>Math.round(l)&&(l=c,a&&(i=-1))}for(i=0;i<t.lines.length;i++)if(o=t.lines[i],o.staffGroup&&o.staffGroup.voices){for(var h=0;h<o.staffGroup.voices.length;h++)p_(o.staffGroup.voices[h]);g_(e,o.staffGroup)}for(i=0;i<t.lines.length;i++)o=t.lines[i],o.staffGroup&&o.staffGroup.setHeight();return l},x_=function(e,t,r,n,a,s,i){for(var o=v_(e,n.getTextSize,n.voices,n.brace,n.bracket),l=r,c=0;c<8;c++){var h=m_(l,e.minPadding,i,n,o);if(l=w_(s,a.stretchlast,t+e.padding.left,n.w,l,h.spacingUnits,h.minSpace,e.padding.left+e.padding.right),l===null)break}return X_(n.voices),n.w-o};function w_(e,t,r,n,a,s,i,o){if(e)if(t===void 0){if(n/r<.66)return null}else{var l=1-(n+o)/r,c=l<t;if(!c)return null}if(Math.abs(r-n)<2)return null;var h=s*a,u=n-h;return s>0?(a=(r-u)/s,a*i>50&&(a=50/i),a):null}function X_(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=1;n<r.children.length-1;n++){var a=r.children[n];if(a.abcelem.rest&&(a.abcelem.rest.type==="whole"||a.abcelem.rest.type==="multimeasure")){var s=r.children[n-1],i=r.children[n+1];a.center(s,i)}}}var C_=b_,br=function(t){this.shouldAddClasses=t.shouldAddClasses,this.reset()};br.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};br.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};br.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};br.prototype.isInMeasure=function(){return this.measureNumber!==null};br.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};br.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};br.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};br.prototype.incrNote=function(){this.noteNumber++};br.prototype.measureTotal=function(){for(var e=0,t=0;t<this.lineNumber;t++)e+=this.measureTotalPerLine[t]?this.measureTotalPerLine[t]:0;return this.measureNumber&&(e+=this.measureNumber),e};br.prototype.getCurrent=function(e){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};br.prototype.generate=function(e){if(!this.shouldAddClasses)return"";var t=[];if(e&&e.length>0&&t.push(e),e==="abcjs-tab-number")return t.join(" ");if(e==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&t.push("l"+this.lineNumber),this.measureNumber!==null&&t.push("m"+this.measureNumber),this.measureNumber!==null&&t.push("mm"+this.measureTotal()),this.voiceNumber!==null&&t.push("v"+this.voiceNumber),e&&(e.indexOf("note")>=0||e.indexOf("rest")>=0||e.indexOf("lyric")>=0)&&this.noteNumber!==null&&t.push("n"+this.noteNumber),t.length>0){t=t.join(" "),t=t.split(" ");for(var r=0;r<t.length;r++)t[r].indexOf("abcjs-")!==0&&t[r].length>0&&(t[r]="abcjs-"+t[r])}return t.join(" ")};var k_=br,jc=function(t,r){this.formatting=t,this.classes=r};jc.prototype.updateFonts=function(e){e.gchordfont&&(this.formatting.gchordfont=e.gchordfont),e.tripletfont&&(this.formatting.tripletfont=e.tripletfont),e.annotationfont&&(this.formatting.annotationfont=e.annotationfont),e.vocalfont&&(this.formatting.vocalfont=e.vocalfont)};jc.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};jc.prototype.calc=function(e,t){var r;typeof e=="string"?(r=this.formatting[e],r?r={face:r.face,size:Math.round(r.size*4/3),decoration:r.decoration,style:r.style,weight:r.weight,box:r.box}:r={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):r={face:e.face,size:Math.round(e.size*4/3),decoration:e.decoration,style:e.style,weight:e.weight,box:e.box};var n=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;r.padding=r.size*n;var a={"font-size":r.size,"font-style":r.style,"font-family":this.getFamily(r.face),"font-weight":r.weight,"text-decoration":r.decoration,class:this.classes.generate(t)};return{font:r,attr:a}};var S_=jc,bi=function(t,r){this.getFontAndAttr=t,this.svg=r};bi.prototype.updateFonts=function(e){this.getFontAndAttr.updateFonts(e)};bi.prototype.attr=function(e,t){return this.getFontAndAttr.calc(e,t)};bi.prototype.getFamily=function(e){return e[0]==='"'&&e[e.length-1]==='"'?e.substring(1,e.length-1):e};bi.prototype.calc=function(e,t,r,n){var a;typeof t=="string"?a=this.attr(t,r):a={font:{face:t.face,size:t.size,decoration:t.decoration,style:t.style,weight:t.weight},attr:{"font-size":t.size,"font-style":t.style,"font-family":this.getFamily(t.face),"font-weight":t.weight,"text-decoration":t.decoration,class:this.getFontAndAttr.classes.generate(r)}};var s=this.svg.getTextSize(e,a.attr,n);return a.font.box?{height:s.height+a.font.padding*4,width:s.width+a.font.padding*4}:s};bi.prototype.baselineToCenter=function(e,t,r,n,a){var s=this.calc(e,t,r).height,i=this.attr(t,r).font.size;return s*.5+(a-n-2)*i};var N_=bi,E_=function(){for(var e=0,t,r=arguments[e++],n=[],a,s,i,o;r;){if(a=/^[^\x25]+/.exec(r))n.push(a[0]);else if(a=/^\x25{2}/.exec(r))n.push("%");else if(a=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)){if((t=arguments[a[1]||e++])==null||t==null)throw"Too few arguments.";if(/[^s]/.test(a[7])&&typeof t!="number")throw"Expecting number but found "+typeof t;switch(a[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=a[6]?t.toExponential(a[6]):t.toExponential();break;case"f":t=a[6]?parseFloat(t).toFixed(a[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&a[6]?t.substring(0,a[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase();break}t=/[def]/.test(a[7])&&a[2]&&t>0?"+"+t:t,i=a[3]?a[3]=="0"?"0":a[3][1]:" ",o=a[5]-String(t).length,s=a[5]?str_repeat(i,o):"",n.push(a[4]?t+s:s+t)}else throw"Huh ?!";r=r.substring(a[0].length)}return n.join("")},Za=E_;function T_(e){return parseFloat(e.toFixed(2))}var an=T_,Yg=an;function __(e,t,r){var n=t.y;if(t.phrases){var o=e.paper.richTextLine(t.phrases,t.x,t.y,t.klass,t.anchor);return o}if(t.lane){var a=t.dim.font.size*.25;n+=(t.dim.font.size+a)*t.lane}var s;t.dim?(s=t.dim,s.attr.class=t.klass):s=e.controller.getFontAndAttr.calc(t.type,t.klass),t.anchor&&(s.attr["text-anchor"]=t.anchor),t["dominant-baseline"]&&(s.attr["dominant-baseline"]=t["dominant-baseline"]),s.attr.x=t.x,s.attr.y=n,t.centerVertically||(s.attr.y+=s.font.size),t.type==="debugfont"&&(console.log("Debug msg: "+t.text),s.attr.stroke="#ff0000"),t.cursor&&(s.attr.cursor=t.cursor);var i;t.name=="free-text"?i=t.text.replace(/^[ \t]*\n/gm,` 
`):i=t.text.replace(/\n\n/g,`
 
`),i=i.replace(/^\n/,`
`),s.font.box&&(r||e.paper.openGroup({klass:s.attr.class,fill:e.foregroundColor,"data-name":t.name}),s.attr["text-anchor"]==="end"?s.attr.x-=s.font.padding:s.attr["text-anchor"]==="start"&&(s.attr.x+=s.font.padding),s.attr.y+=s.font.padding,delete s.attr.class),t.noClass&&delete s.attr.class,s.attr.x=Yg(s.attr.x),s.attr.y=Yg(s.attr.y),t.name&&(s.attr["data-name"]=t.name);var o=e.paper.text(i,s.attr);if(s.font.box){var l=o.getBBox(),c=0;s.attr["text-anchor"]==="middle"?c=l.width/2+s.font.padding:s.attr["text-anchor"]==="end"&&(c=l.width+s.font.padding*2);var h=0;t.centerVertically&&(h=l.height-s.font.padding),e.paper.rect({"data-name":"box",x:Math.round(t.x-c),y:Math.round(n-h),width:Math.round(l.width+s.font.padding*2),height:Math.round(l.height+s.font.padding*2)}),r||(o=e.paper.closeGroup())}return o}var ya=__,ul=Za,jr=$t,j_=ya;function P_(e,t,r){var n=t.startVoice.staff.absoluteY-jr.STEP*10;return t.endVoice&&t.endVoice.staff?t.endY=t.endVoice.staff.absoluteY-jr.STEP*2:t.lastContinuedVoice&&t.lastContinuedVoice.staff?t.endY=t.lastContinuedVoice.staff.absoluteY-jr.STEP*2:t.endY=t.startVoice.staff.absoluteY-jr.STEP*2,B_(e,t.x,n,t.endY,t.type,t.header,r)}function A_(e,t,r,n,a){t+=jr.STEP;var s=jr.STEP*.75,i=jr.STEP*.75,o=n-r,l=ul("M %f %f l %f %f l %f %f l %f %f z",t,r-i,0,o+i*2,s,0,0,-(o+i*2)),c=jr.STEP*2,h=jr.STEP;return l+=ul("M %f %f q %f %f %f %f q %f %f %f %f z",t+s,r-i,c*.6,h*.2,c,-h,-c*.1,h*.3,-c,h+jr.STEP),l+=ul("M %f %f q %f %f %f %f q %f %f %f %f z",t+s,r+i+o,c*.6,-h*.2,c,h,-c*.1,-h*.3,-c,-h-jr.STEP),e.paper.path({path:l,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function M_(e,t,r,n,a){var s=n-r,i=Kg(t,r,[7.5,-8,21,0,18.5,-10.5,7.5],[0,s/5.5,s/3.14,s/2,s/2.93,s/4.88,0]);return i+=Kg(t,r,[0,17.5,-7.5,6.6,-5,20,0],[s/2,s/1.46,s/1.22,s,s/1.19,s/1.42,s/2]),e.paper.path({path:i,stroke:e.foregroundColor,fill:e.foregroundColor,class:e.controller.classes.generate(a),"data-name":a})}function Kg(e,t,r,n){return ul("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",e+r[0],t+n[0],e+r[1],t+n[1],e+r[2],t+n[2],e+r[3],t+n[3],e+r[4],t+n[4],e+r[5],t+n[5],e+r[6],t+n[6])}var B_=function(e,t,r,n,a,s,i){var o;if(s){e.paper.openGroup({klass:e.controller.classes.generate("staff-extra voice-name"),"data-name":a});var l=r+(n-r)/2;l=l-e.controller.getTextSize.baselineToCenter(s,"voicefont","staff-extra voice-name",0,1),j_(e,{x:e.padding.left,y:l,text:s,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return a==="brace"?o=M_(e,t,r,n,a):a==="bracket"&&(o=A_(e,t,r,n,a)),s&&(o=e.paper.closeGroup()),i.wrapSvgEl({el_type:a,startChar:-1,endChar:-1},o),o},L_=P_;function R_(e,t,r){var n=e.paper.path(t);return n}var Ko=R_,D_=Za,O_=Ko,I_=an;function F_(e,t,r){(!t.anchor1||!t.anchor2||!t.anchor1.heads||!t.anchor2.heads||t.anchor1.heads.length===0||t.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var n=4,a=e.calcY(t.anchor1.heads[0].pitch),s=e.calcY(t.anchor2.heads[0].pitch),i=t.anchor1.x+t.anchor1.w/2,o=t.anchor2.x+t.anchor2.w/2,l=z_(i,a,o,s),c=t.anchor1.w/2+n,h=t.anchor2.w/2+n,u=$_(i,a,o,s),f=pf(a,u,c);pf(s,u,-h);var p=H_(l-c-h),g=Y_(e,i+c,f,p,u);return r.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},g),[g]}function z_(e,t,r,n){var a=r-e,s=n-t;return Math.sqrt(a*a+s*s)}function $_(e,t,r,n){return(n-t)/(r-e)}function pf(e,t,r){return I_(e+r*t)}function H_(e){var t=5;return Math.max(2,Math.floor((e-t*2)/6))}var W_=[[3.5,-4.8]],U_=[[1.5,-1],[.3,-.3],[-3.5,3.8]],V_=[[-1.5,2]],q_=[[3,4],[3,-4]],G_=[[-3,4],[-3,-4]];function Ii(e,t){for(var r="",n=0;n<e.length;n++)r+="l"+e[n][0]+" "+pf(e[n][1],t,e[n][0]);return r}var Y_=function(e,t,r,n,a){var s=D_("M %f %f",t,r);s+=Ii(W_,a);var i;for(i=0;i<n;i++)s+=Ii(q_,a);for(s+=Ii(U_,a),i=0;i<n;i++)s+=Ii(G_,a);return s+=Ii(V_,a)+"z",O_(e,{path:s,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("decoration"),"data-name":"glissando"})},K_=F_,Q_=Za,J_=Ko,ds=an;function Z_(e,t,r){t.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var n=e.calcY(t.pitch)+4,a=8,s=t.anchor1?t.anchor1.x:0,i=t.anchor2?t.anchor2.x:800,o;return t.dir==="<"?o=Qg(e,n+a/2,n,n+a/2,n+a,s,i):o=Qg(e,n,n+a/2,n+a,n+a/2,s,i),r.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},o),[o]}var Qg=function(e,t,r,n,a,s,i){t=ds(t),r=ds(r),n=ds(n),a=ds(a),s=ds(s),i=ds(i);var o=Q_("M %f %f L %f %f M %f %f L %f %f",s,t,i,r,s,n,i,a);return J_(e,{path:o,highlight:"stroke",stroke:e.foregroundColor,class:e.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},ej=Z_,Jg=an;function Qo(){this.ingroup=!1}Qo.prototype.beginGroup=function(e,t){this.paper=e,this.controller=t,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Qo.prototype.isInGroup=function(){return this.ingroup};Qo.prototype.addPath=function(e){if(e=e||[],e.length!==0){e[0][0]="m",e[0][1]=Jg(e[0][1]-this.lastM[0]),e[0][2]=Jg(e[0][2]-this.lastM[1]),this.lastM[0]+=e[0][1],this.lastM[1]+=e[0][2],this.path.push(e[0]);for(var t=1,r=e.length;t<r;t++)e[t][0]==="m"&&(this.lastM[0]+=e[t][1],this.lastM[1]+=e[t][2]),this.path.push(e[t])}};Qo.prototype.endGroup=function(e,t){this.ingroup=!1;for(var r="",n=0;n<this.path.length;n++)r+=this.path[n].join(" ");this.path=[];var a=this.paper.closeGroup();return a&&(a.setAttribute("class",this.controller.classes.generate(e)),a.setAttribute("fill",this.controller.renderer.foregroundColor),a.setAttribute("stroke","none"),a.setAttribute("data-name",t)),a};var tj=new Qo,t1=tj,Zg=ya,fs=va,em=t1;function rj(e,t,r,n,a){var s,i;if(!n)return null;if(n.length>1&&n.indexOf(".")<0){var o=em.isInGroup()?"":a.klass;e.paper.openGroup({"data-name":a.name,klass:o});for(var l=0,c=0;c<n.length;c++){var h=n[c];i=fs.getYCorr(h),s=fs.printSymbol(t+l,e.calcY(r+i),h,e.paper,{stroke:a.stroke,fill:a.fill}),s?c<n.length-1&&(l+=nj(h,n[c+1],fs.getSymbolWidth(h))):Zg(e,{x:t,y:e.y,text:"no symbol:"+n,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var u=e.paper.closeGroup();return u}else return i=fs.getYCorr(n),em.isInGroup()?s=fs.printSymbol(t,e.calcY(r+i),n,e.paper,{"data-name":a.name}):s=fs.printSymbol(t,e.calcY(r+i),n,e.paper,{klass:a.klass,stroke:a.stroke,fill:a.fill,"data-name":a.name}),s||(Zg(e,{x:t,y:e.y,text:"no symbol:"+n,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function nj(e,t,r){var n=r;return e==="f"&&t==="f"&&(n=n*2/3),e==="p"&&t==="p"&&(n=n*5/6),e==="f"&&t==="z"&&(n=n*5/8),n}var Ux=rj,aj=Ux;function sj(e,t,r){t.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var n=1,a=1,s=aj(e,t.anchor.x,t.pitch,t.dec,{scalex:n,scaley:a,klass:e.controller.classes.generate("decoration dynamics"),fill:e.foregroundColor,stroke:"none",name:"dynamics"});return r.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:t.dec},s),[s]}var ij=sj,oj=Za,lj=ya,cj=Ko,F0=an;function uj(e,t,r){e.paper.openGroup({klass:e.controller.classes.generate("triplet "+t.durationClass),"data-name":"triplet"}),t.hasBeam||dj(e,t.anchor1.x,t.startNote,t.anchor2.x+t.anchor2.w,t.endNote),lj(e,{x:t.xTextPos,y:e.calcY(t.yTextPos-1),text:""+t.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+t.number},!0);var n=e.paper.closeGroup();return r.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},n),n}function z0(e,t,r,n){return oj("M %f %f L %f %f",F0(e),F0(t),F0(r),F0(n))}function dj(e,t,r,n,a){r=e.calcY(r),a=e.calcY(a);var s=5,i="";i+=z0(t,r,t,r+s),i+=z0(n,a,n,a+s);var o=t+(n-t)/2,l=8,c=(a-r)/(n-t),h=o-l,u=r+(h-t)*c;i+=z0(t,r,h,u);var f=o+l,p=r+(f-t)*c;i+=z0(f,p,n,a),cj(e,{path:i,stroke:e.foregroundColor,"data-name":"triplet-bracket"})}var fj=uj,Du=Za,hj=ya,pj=Ko,Ca=an;function gj(e,t,r,n,a){t.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var s=Ca(e.calcY(t.pitch)),i=20,o="";t.anchor1&&(r=Ca(t.anchor1.x+t.anchor1.w),o+=Du("M %f %f L %f %f ",r,s,r,Ca(s+i))),t.anchor2&&(n=Ca(t.anchor2.x),o+=Du("M %f %f L %f %f ",n,s,n,Ca(s+i))),o+=Du("M %f %f L %f %f ",r,s,n,s),e.paper.openGroup({klass:e.controller.classes.generate("ending"),fill:e.foregroundColor,"data-name":"ending"}),pj(e,{path:o,stroke:e.foregroundColor,fill:e.foregroundColor,"data-name":"line"}),t.anchor1&&hj(e,{x:Ca(r+5),y:Ca(e.calcY(t.pitch-.5)),text:t.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:t.text});var l=e.paper.closeGroup();return a.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},l),[l]}var mj=gj,tm=Za,lr=an;function vj(e,t,r,n,a){yj(t,r,n);var s="";t.anchor1?s+="abcjs-start-m"+t.anchor1.parent.counters.measure+"-n"+t.anchor1.parent.counters.note:s+="abcjs-start-edge",t.anchor2?s+=" abcjs-end-m"+t.anchor2.parent.counters.measure+"-n"+t.anchor2.parent.counters.note:s+=" abcjs-end-edge",t.hint&&(s="abcjs-hint");var i=t.fixedY?1.5:0,o=bj(e,t.startX,t.endX,t.startY+i,t.endY+i,t.above,s,t.isTie,t.dotted),l=-1;t.anchor1&&!t.isTie&&(l=t.anchor1.parent.abcelem.startChar-1);var c=-1;return t.anchor2&&!t.isTie&&(c=t.anchor2.parent.abcelem.endChar+1),a.wrapSvgEl({el_type:"slur",startChar:l,endChar:c},o),[o]}var yj=function(e,t,r){!e.anchor1||!e.anchor2||e.anchor1.pitch===e.anchor2.pitch&&e.internalNotes.length===0?e.isTie=!0:e.isTie=!1,e.isTie?(e.calcTieDirection(),e.calcX(t,r),e.calcTieY()):(e.calcSlurDirection(),e.calcX(t,r),e.calcSlurY()),e.avoidCollisionAbove()},bj=function(e,t,r,n,a,s,i,o,l){var c=o?1.2:1.5;t=lr(t+6),r=lr(r+4),n=n+(s?c:-c),a=a+(s?c:-c);var h=lr(e.calcY(n)),u=lr(e.calcY(a)),f=r-t,p=u-h,g=Math.sqrt(f*f+p*p),m=f/g,v=p/g,y=g/3.5,b=o?10:25,w=(s?-1:1)*Math.min(b,Math.max(4,y)),x=lr(t+y*m-w*v),X=lr(h+y*v+w*m),k=lr(r-y*m-w*v),N=lr(u-y*v+w*m),T=2;i?i+=" slur":i="slur",i+=o?" tie":" legato";var E;if(l){i+=" dotted";var M=tm("M %f %f C %f %f %f %f %f %f",t,h,x,X,k,N,r,u);E=e.paper.path({path:M,stroke:e.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:e.controller.classes.generate(i),"data-name":o?"tie":"slur"})}else{var D=tm("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",t,h,x,X,k,N,r,u,lr(k-T*v),lr(N+T*m),lr(x-T*v),lr(X+T*m),t,h);E=e.paper.path({path:D,stroke:"none",fill:e.foregroundColor,class:e.controller.classes.generate(i),"data-name":o?"tie":"slur"})}return E},xj=vj,wj=Ko,hs=an;function Xj(e,t){if(t.beams.length!==0){for(var r="",n=0;n<t.beams.length;n++){var a=t.beams[n];if(a.split){for(var s=Cj(e,a.startX,a.startY,a.endX,a.endY),i=[],o=0;o<a.split.length;o+=2)i.push([a.split[o],a.split[o+1]]);for(o=0;o<i.length;o++){var l=nm(a.startX,a.startY,s,i[o][0]),c=nm(a.startX,a.startY,s,i[o][1]);r+=rm(e,i[o][0],l,i[o][1],c,a.dy)}}else r+=rm(e,a.startX,a.startY,a.endX,a.endY,a.dy)}var h=("abcjs-d"+t.duration).replace(/\./g,"-"),u=e.controller.classes.generate("beam-elem "+h),f=wj(e,{path:r,stroke:"none",fill:e.foregroundColor,class:u});return[f]}}function rm(e,t,r,n,a,s){r=hs(e.calcY(r)),a=hs(e.calcY(a)),t=hs(t),n=hs(n);var i=hs(r+s),o=hs(a+s);return"M"+t+" "+r+" L"+n+" "+a+"L"+n+" "+o+" L"+t+" "+i+"z"}function Cj(e,t,r,n,a){return(a-r)/(n-t)}function nm(e,t,r,n){var a=n-e;return t+a*r}var kj=Xj,Sj=t1,ps=an;function Nj(e,t,r,n,a,s,i){if(r<0||n<a){var o=ps(a);a=ps(n),n=o}else n=ps(n),a=ps(a);t=ps(t);var l=ps(t+r);if(e.firefox112){t+=r/2;var h={x1:t,x2:t,y1:n,y2:a,stroke:e.foregroundColor,"stroke-width":Math.abs(r)};return s&&(h.class=s),i&&(h["data-name"]=i),e.paper.lineToBack(h)}for(var c=[["M",t,n],["L",t,a],["L",l,a],["L",l,n],["z"]],h={path:""},u=0;u<c.length;u++)h.path+=c[u].join(" ");return s&&(h.class=s),i&&(h["data-name"]=i),Sj.isInGroup()||(h.stroke="none",h.fill=e.foregroundColor),e.paper.pathToBack(h)}var Vx=Nj,Ej=Za,$0=an;function Tj(e,t,r,n,a,s,i){var o=e.foregroundColor;t=$0(t),r=$0(r);var l=$0(n-i),c=$0(n+i);if(e.firefox112){n+=i/2;var h={x1:t,x2:r,y1:n,y2:n,stroke:e.foregroundColor,"stroke-width":Math.abs(i*2)};return a&&(h.class=a),s&&(h["data-name"]=s),e.paper.lineToBack(h)}var u=Ej("M %f %f L %f %f L %f %f L %f %f z",t,l,r,l,r,c,t,c),f={path:u,stroke:"none",fill:o};s&&(f["data-name"]=s),a&&(f.class=a);var p=e.paper.pathToBack(f);return p}var _j=Tj,jj=_j;function Pj(e,t,r,n,a,s,i){var o=e.calcY(n);return jj(e,t,r,o,a,s,i)}var qx=Pj,ln=ya,am=Vx,Aj=qx,Mj=Ux;function Bj(e,t,r){t.pitch===void 0&&window.console.error(t.type+" Relative Element y-coordinate not set.");var n=e.calcY(t.pitch);switch(t.type){case"symbol":if(t.c===null)return null;var a="symbol";t.klass&&(a+=" "+t.klass),t.graphelem=Mj(e,t.x,t.pitch,t.c,{scalex:t.scalex,scaley:t.scaley,klass:e.controller.classes.generate(a),name:t.name});break;case"debug":t.graphelem=ln(e,{x:t.x,y:e.calcY(15),text:""+t.c,type:"debugfont",klass:e.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:t.dim},!1);break;case"tabNumber":var s="middle",i="tabnumberfont",o="abcjs-tab-number";t.isGrace&&(i="tabgracefont",n+=2.5,o="tab-grace"),t.graphelem=ln(e,{x:t.x,y:n,text:""+t.c,type:i,klass:e.controller.classes.generate(o),anchor:s,centerVertically:!1,dim:t.dim,cursor:"default"},!1);break;case"barNumber":t.graphelem=ln(e,{x:t.x,y:n,text:""+t.c,type:"measurefont",klass:e.controller.classes.generate("bar-number"),anchor:"middle",dim:t.dim,name:"bar-number"},!0);break;case"lyric":t.graphelem=ln(e,{x:t.x,y:n,text:t.c,type:"vocalfont",klass:e.controller.classes.generate("lyric"),anchor:"middle",dim:t.dim,name:"lyric"},!1);break;case"chord":t.graphelem=ln(e,{x:t.x,y:n,text:t.c,type:"gchordfont",klass:e.controller.classes.generate("chord"),anchor:"middle",dim:t.dim,lane:t.getLane(),name:"chord"},!1);break;case"decoration":t.graphelem=ln(e,{x:t.x,y:n+6,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:t.anchor,centerVertically:!0,dim:t.dim},!1);break;case"text":t.graphelem=ln(e,{x:t.x,y:n,text:t.c,type:"annotationfont",klass:e.controller.classes.generate("annotation"),anchor:"start",centerVertically:t.centerVertically,dim:t.dim,lane:t.getLane(),name:"annotation"},!1);break;case"multimeasure-text":t.graphelem=ln(e,{x:t.x+t.w/2,y:n,text:t.c,type:"tempofont",klass:e.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:t.dim},!1);break;case"part":t.graphelem=ln(e,{x:t.x,y:n,text:t.c,type:"partsfont",klass:e.controller.classes.generate("part"),anchor:"start",dim:t.dim,name:t.c},!0);break;case"bar":t.graphelem=am(e,t.x,t.linewidth+e.lineThickness,n,r||e.calcY(t.pitch2),null,"bar");break;case"stem":var l=t.linewidth>0?t.linewidth+e.lineThickness:t.linewidth-e.lineThickness;t.graphelem=am(e,t.x,l,n,e.calcY(t.pitch2),"abcjs-stem","stem");break;case"ledger":t.graphelem=Aj(e,t.x,t.x+t.w,t.pitch,"abcjs-ledger","ledger",.35+e.lineThickness);break}return t.scalex!==1&&t.graphelem&&Lj(e.paper,t.graphelem,t.scalex,t.scaley,t.x,n),t.graphelem}function Lj(e,t,r,n,a,s){e.setAttributeOnElement(t,{style:"transform:scale("+r+","+n+");transform-origin:"+a+"px "+s+"px;"})}var Gx=Bj,Rj=Gx,Ou=ya;function Dj(e,t){var r=t.x;t.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),t.tempo.el_type="tempo";var n=e.calcY(t.pitch)+2,a,s;if(t.tempo.preString){a=Ou(e,{x:r,y:n,text:t.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),s=e.controller.getTextSize.calc(t.tempo.preString,"tempofont","tempo",a);var i=s.width,o=i/t.tempo.preString.length;r+=i+o}if(t.note){t.note.setX(r);for(var l=0;l<t.note.children.length;l++)Rj(e,t.note.children[l],r);r+=t.note.w+5;var c="= "+t.tempo.bpm;a=Ou(e,{x:r,y:n,text:c,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),s=e.controller.getTextSize.calc(c,"tempofont","tempo",a);var h=s.width,u=h/c.length;r+=h+u}t.tempo.postString&&Ou(e,{x:r,y:n,text:t.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var Oj=Dj,Ij=Oj,Fj=Gx,zj=$t,sm=Vh,im=t1;function $j(e,t,r,n,a){if(!t.invisible){var s=t.children.length>0&&t.children[0].type==="TempoElement";t.elemset=[],im.beginGroup(e.paper,e.controller);for(var i=0;i<t.children.length;i++){var o=t.children[i];switch(o.type){case"TempoElement":Ij(e,o);break;default:var l=Fj(e,o,r);o.type==="symbol"&&o.c&&o.c.indexOf("notehead")>=0&&l.setAttribute("class","abcjs-notehead")}}var c=t.type;if((t.type==="note"||t.type==="rest")&&(t.counters=e.controller.classes.getCurrent(),c+=" d"+Math.round(t.durationClass*1e3)/1e3,c=c.replace(/\./g,"-"),t.abcelem.pitches))for(var h=0;h<t.abcelem.pitches.length;h++)c+=" p"+t.abcelem.pitches[h].pitch;var u=im.endGroup(c,t.type);if(u){if(t.cloned&&(t.cloned.overrideClasses=u.className.baseVal),t.overrideClasses){var f=u.classList&&u.classList.length>0?u.classList[0]+" ":"";u.setAttribute("class",f+t.overrideClasses)}if(s)t.startChar=t.abcelem.startChar,t.endChar=t.abcelem.endChar,n.add(t,u,!1,a);else{t.elemset.push(u);var p=!1;(t.type==="note"||t.type==="tabNumber")&&(p=!0),n.add(t,u,p,a)}}else t.elemset.length>0&&n.add(t,t.elemset[0],t.type==="note",a);if(t.klass&&sm(t.elemset,"mark","","#00ff00"),t.hint&&sm(t.elemset,"abcjs-hint","",null),t.abcelem.abselem=t,t.heads&&t.heads.length>0){t.notePositions=[];for(var g=0;g<t.heads.length;g++)t.notePositions.push({x:t.heads[g].x+t.heads[g].w/2,y:a.zero-t.heads[g].pitch*zj.STEP})}}}var Hj=$j,Wj=K_,Uj=ej,Vj=ij,qj=fj,Gj=mj,Yj=xj,Kj=kj,Qj=ya,om=Hj;function Jj(e,t,r,n,a){var s=t.w-1;e.staffbottom=t.staff.bottom;var i=e.foregroundColor;if(t.color&&(e.foregroundColor=t.color),t.header){var o=Qj(e,{x:e.padding.left,y:e.calcY(t.headerPosition),text:t.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);n.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:t.header},o)}var l,c,h=!1;for(l=0;l<t.children.length;l++){c=t.children[l],(c.type==="note"||c.type==="rest")&&(h=!0);var u=!1;c.type!=="staff-extra"&&!e.controller.classes.isInMeasure()&&(e.controller.classes.startMeasure(),u=!0),t.staff.isTabStaff&&(c.invisible=!1,c.type=="bar"&&c.abcelem.lastBar&&(r=t.topLine)),om(e,c,t.barto||l===t.children.length-1?r:0,n,a),(c.type==="note"||Zj(c))&&e.controller.classes.incrNote(),c.type==="bar"&&!u&&h&&e.controller.classes.incrMeasure()}for(e.controller.classes.startMeasure(),l=0;l<t.beams.length;l++){var f=t.beams[l];f==="bar"?e.controller.classes.incrMeasure():Kj(e,f)}for(e.controller.classes.startMeasure(),l=0;l<t.otherchildren.length;l++)if(c=t.otherchildren[l],c==="bar")e.controller.classes.incrMeasure();else switch(c.type){case"GlissandoElem":c.elemset=Wj(e,c,n);break;case"CrescendoElem":c.elemset=Uj(e,c,n);break;case"DynamicDecoration":c.elemset=Vj(e,c,n);break;case"TripletElem":qj(e,c,n);break;case"EndingElem":c.elemset=Gj(e,c,t.startx+10,s,n);break;case"TieElem":c.elemset=Yj(e,c,t.startx+10,s,n);break;default:console.log(c),om(e,c,t.startx+10,s,n)}e.foregroundColor=i}function Zj(e){return e.type!=="rest"?!1:!!(e.abcelem&&e.abcelem.rest&&e.abcelem.rest.type!=="spacer")}var eP=Jj,lm=qx;function tP(e,t,r,n,a,s){var i="abcjs-top-line",o=2;a&&(o=a),e.paper.openGroup({prepend:!0,klass:e.controller.classes.generate("abcjs-staff")});var l=0,c=0;if(n===1)lm(e,t,r,6,i,null,s+e.lineThickness),l=e.calcY(10),c=e.calcY(2);else for(var h=n-1;h>=0;h--){var u=(h+1)*o;c=e.calcY(u),l===0&&(l=c),lm(e,t,r,u,i,null,s+e.lineThickness),i=void 0}return e.paper.closeGroup(),[l,c]}var rP=tP;function nP(e,t,r){var n=e.paper.rectBeneath(t);return r&&e.paper.text(r,{x:0,y:t.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),n}var aP=nP;function sP(e,t){var r="rgba(0,0,0,255)",n="rgba(0,0,0,0)",a=Math.round(e.y),s=e.controller.width,i=(s-t)/2,o=i+t,l="M "+i+" "+a+" L "+o+" "+a+" L "+o+" "+(a+1)+" L "+i+" "+(a+1)+" L "+i+" "+a+" z";e.paper.pathToBack({path:l,stroke:n,fill:r,class:e.controller.classes.generate("defined-text")})}var iP=sP,oP=iP,lP=ya;function cP(e,t,r){for(var n=0;n<t.rows.length;n++){var a=t.rows[n];if(a.absmove)e.absolutemoveY(a.absmove);else if(a.move)e.moveY(a.move);else if(a.text||a.phrases){var s=a.left?a.left:0,i=lP(e,{x:s,y:e.y,text:a.text,phrases:a.phrases,"dominant-baseline":a["dominant-baseline"],type:a.font,klass:a.klass,name:a.name,anchor:a.anchor});a.absElemType&&r.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:a.text},i)}else if(a.separator)oP(e,a.separator);else if(a.startGroup)e.paper.openGroup({klass:a.klass,"data-name":a.name});else if(a.endGroup){var o=e.paper.closeGroup();a.absElemType&&r.wrapSvgEl({el_type:a.absElemType,name:a.name,startChar:a.startChar,endChar:a.endChar,text:""},o)}}}var Yx=cP,Ts=$t,uP=L_,dP=eP,fP=rP,Wl=aP,hP=Vx,pP=Yx;function gP(e,t,r,n){for(var a,s=e.y,i=0;i<t.staffs.length;i++){var o=t.staffs[i];e.moveY(Ts.STEP,o.top),o.absoluteY=e.y,e.showDebug&&(e.showDebug.indexOf("box")>=0&&o.voices&&mP(e,t.voices,o.voices),e.showDebug.indexOf("grid")>=0&&(e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:s,y2:s,stroke:"#0000ff"}),Wl(e,{x:e.padding.left,y:e.calcY(o.originalTop),width:e.controller.width,height:e.calcY(o.originalBottom)-e.calcY(o.originalTop),fill:e.foregroundColor,stroke:e.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),a=0,x(o,"chordHeightAbove"),x(o,"chordHeightBelow"),x(o,"dynamicHeightAbove"),x(o,"dynamicHeightBelow"),x(o,"endingHeightAbove"),x(o,"lyricHeightAbove"),x(o,"lyricHeightBelow"),x(o,"partHeightAbove"),x(o,"tempoHeightAbove"),x(o,"volumeHeightAbove"),x(o,"volumeHeightBelow"))),e.moveY(Ts.STEP,-o.bottom),e.showDebug&&e.showDebug.indexOf("grid")>=0&&e.paper.dottedLine({x1:e.padding.left,x2:e.padding.left+e.controller.width,y1:e.y,y2:e.y,stroke:"#0000aa"})}for(var l,c,h=2,u=0,f=0;f<t.voices.length;f++){var p=t.voices[f].staff,g=t.voices[f].tabNameInfos;if(e.y=p.absoluteY,e.controller.classes.incrVoice(),!t.voices[f].duplicate){if(l||(l=e.calcY(10)),c=e.calcY(h),p.lines!==0){p.linePitch&&(h=p.linePitch),e.controller.classes.newMeasure();var m=fP(e,t.startx,t.w,p.lines,p.linePitch,.35);c=m[1],p.bottomLine=c,p.topLine=m[0],p.hasTab&&(u=p.topLine),p.hasStaff&&(u=p.hasStaff.topLine,t.voices[f].barto=!0,t.voices[f].topLine=l)}cm(e,p.absoluteY,t.brace,f,r),cm(e,p.absoluteY,t.bracket,f,r)}dP(e,t.voices[f],u,r,{top:s,zero:e.y,height:t.height*Ts.STEP});var v=0;if(g){var y={rows:[]};y.rows.push({absmove:c+2});var b=8;y.rows.push({left:t.startx+b,text:g.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),y.rows.push({move:g.textSize.height}),pP(e,y),v=g.textSize.height}e.controller.classes.newMeasure(),t.voices[f].duplicate||(u=e.calcY(2+v))}e.controller.classes.newMeasure();var w=t.staffs.length;w>1&&(l=t.staffs[0].topLine,c=t.staffs[w-1].bottomLine,hP(e,t.startx,.6,l,c,null)),e.y=s;function x(X,k){var N=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(X.positionY&&X.positionY[k]){var T=X.specialY[k]*Ts.STEP;k==="chordHeightAbove"&&X.specialY.chordLines&&X.specialY.chordLines.above&&(T*=X.specialY.chordLines.above),k==="chordHeightBelow"&&X.specialY.chordLines&&X.specialY.chordLines.below&&(T*=X.specialY.chordLines.below),Wl(e,{x:e.padding.left,y:e.calcY(X.positionY[k]),width:e.controller.width,height:T,fill:N[a],stroke:N[a],"fill-opacity":.4,"stroke-opacity":.4},k.substr(0,4)),a+=1,a>6&&(a=0)}}}function cm(e,t,r,n,a){if(r)for(var s=0;s<r.length;s++)r[s].isStartVoice(n)&&(r[s].startY=t-Ts.STEP*10,r[s].elemset=uP(e,r[s],a))}function mP(e,t,r){for(var n=0;n<r.length;n++)for(var a=t[r[n]].children,s=0;s<a.length;s++){var i=a[s],o=i.getFixedCoords();if(!(i.invisible||o.t===void 0||o.b===void 0)){var l=(o.t-o.b)*Ts.STEP;Wl(e,{x:o.x,y:e.calcY(o.t),width:o.w,height:l,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var c=0;c<i.children.length;c++){var h=i.children[c],u=h.getChordDim();if(u){var f=e.calcY(h.pitch);f+=h.dim.font.size*h.getLane(),Wl(e,{x:u.left,y:f,width:u.right-u.left,height:h.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var vP=gP;function yP(e,t,r,n){var a=(t+e.padding.left+e.padding.right)*r,s=(e.y+e.padding.bottom)*r;if(e.isPrint&&(s=Math.max(s,1056)),e.ariaLabel!==""){var i="Sheet Music";e.abctune&&e.abctune.metaText&&e.abctune.metaText.title&&(i+=' for "'+e.abctune.metaText.title+'"'),e.paper.setTitle(i);var o=e.ariaLabel?e.ariaLabel:i;e.paper.setAttribute("aria-label",o)}var l=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];e.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+l.join(" ")+"}");var c={overflow:"hidden"};n==="resize"?e.paper.setResponsiveWidth(a,s):(c.width="",c.height=s+"px",r<1?(c.width=a+"px",e.paper.setSize(a/r,s/r)):e.paper.setSize(a,s)),e.paper.setScale(r),e.paper.setParentStyles(c)}var bP=yP,xP=px,wP=gx;function Jo(e,t,r){this.elements=[],this.paper=e,this.tuneNumber=r,this.selectTypes=t}Jo.prototype.getElements=function(){return this.elements};Jo.prototype.add=function(e,t,r,n){if(this.canSelect(e)){var a;this.selectTypes===void 0?a={selectable:!1,"data-index":this.elements.length}:a={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement(t,a);var s={absEl:e,svgEl:t,isDraggable:r};n!==void 0&&(s.staffPos=n),this.elements.push(s)}};Jo.prototype.canSelect=function(e){return this.selectTypes===!1||!e||!e.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?e.abcelem.el_type==="note"||e.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(e.abcelem.el_type)>=0};Jo.prototype.wrapSvgEl=function(e,t){var r={tuneNumber:this.tuneNumber,abcelem:e,elemset:[t],highlight:xP,unhighlight:wP};this.add(r,t,!1)};var XP=Jo,CP=vP,kP=bP,Iu=Yx,Kx=$t,SP=XP;function NP(e,t,r,n,a,s,i,o,l,c){var h=new SP(e.paper,o,l),u={};t.shouldAddClasses&&(u.klass="abcjs-meta-top"),e.paper.openGroup(u),e.moveY(e.padding.top),Iu(e,r.topText,h),e.paper.closeGroup(),e.moveY(e.spacing.music);for(var f=[],p=0,g=0;g<r.lines.length;g++){t.incrLine();var m=r.lines[g];if(m.staff){if(p++,r.formatting.maxStaves&&p>r.formatting.maxStaves)break;t.shouldAddClasses&&(u.klass="abcjs-staff-wrapper abcjs-l"+t.lineNumber),e.paper.openGroup(u),m.vskip&&e.moveY(m.vskip),f.length>=1&&TP(e,e.spacing.staffSeparation,f[f.length-1],m.staffGroup);var v=EP(e,m.staffGroup,h);v.line=c+g,f.push(v),e.paper.closeGroup()}else m.nonMusic&&(t.shouldAddClasses&&(u.klass="abcjs-non-music"),e.paper.openGroup(u),Iu(e,m.nonMusic,h),e.paper.closeGroup())}return t.reset(),r.bottomText&&r.bottomText.rows&&r.bottomText.rows.length>0&&(t.shouldAddClasses&&(u.klass="abcjs-meta-bottom"),e.paper.openGroup(u),e.moveY(24),Iu(e,r.bottomText,h),e.paper.closeGroup()),kP(e,a,i,s),{staffgroups:f,selectables:h.getElements()}}function EP(e,t,r,n){CP(e,t,r);var a=t.height*Kx.STEP;return e.y+=a,t}function TP(e,t,r,n){var a=r.staffs[r.staffs.length-1],s=-(a.bottom-2),i=n.staffs[0].top-10,o=i+s,l=o*Kx.STEP;l<t&&e.moveY(t-l)}var _P=NP,jP=Dx;function PP(e){for(var t=e;t&&t.attributes&&t.tagName.toLowerCase()!=="svg"&&!t.attributes.selectable;)t=t.parentNode;if(t&&t.attributes&&t.attributes.selectable){var r=t.attributes["data-index"].nodeValue;if(r&&(r=parseInt(r,10),r>=0&&r<this.selectables.length)){var n=this.selectables[r],a=jP(n,e);return a.index=r,a.element=n,a}}return null}var AP=PP,MP=$t,BP=HE,LP=VE,RP=GE,DP=KE,OP=JE,Qx=nT,IP=aT,FP=xT,Jx=C_,zP=k_,Zx=S_,e6=N_,$P=_P,HP=Xx,WP=AP,sn=function(e,t){t=t||{},this.findSelectableElement=WP,this.oneSvgPerLine=t.oneSvgPerLine,this.selectionColor=t.selectionColor,this.dragColor=t.dragColor?t.dragColor:t.selectionColor,this.dragging=!!t.dragging,this.selectTypes=t.selectTypes,this.responsive=t.responsive,this.space=3*MP.SPACE,this.initialClef=t.initialClef,this.timeBasedLayout=t.timeBasedLayout,this.expandToWidest=!!t.expandToWidest,this.scale=t.scale?parseFloat(t.scale):0,this.classes=new zP({shouldAddClasses:t.add_classes}),this.scale>.1||(this.scale=void 0),t.staffwidth?(this.staffwidthScreen=t.staffwidth,this.staffwidthPrint=t.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],t.clickListener&&this.addSelectListener(t.clickListener),this.renderer=new LP(e),this.renderer.setPaddingOverride(t),t.showDebug&&(this.renderer.showDebug=t.showDebug),t.jazzchords&&(this.jazzchords=t.jazzchords),t.accentAbove&&(this.accentAbove=t.accentAbove),t.germanAlphabet&&(this.germanAlphabet=t.germanAlphabet),t.lineThickness&&(this.lineThickness=t.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=t.foregroundColor?t.foregroundColor:"currentColor",t.ariaLabel!==void 0&&(this.renderer.ariaLabel=t.ariaLabel),this.renderer.minPadding=t.minPadding?t.minPadding:0,this.reset()};sn.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};sn.prototype.engraveABC=function(e,t,r){e[0]===void 0&&(e=[e]),this.reset();for(var n=0;n<e.length;n++)t===void 0&&(t=n),this.getFontAndAttr=new Zx(e[n].formatting,this.classes),this.getTextSize=new e6(this.getFontAndAttr,this.renderer.paper),this.engraveTune(e[n],t,r)};sn.prototype.adjustNonScaledItems=function(e){this.width/=e,this.renderer.adjustNonScaledItems(e)};sn.prototype.getMeasureWidths=function(e){this.reset(),this.getFontAndAttr=new Zx(e.formatting,this.classes),this.getTextSize=new e6(this.getFontAndAttr,this.renderer.paper);var t=this.jazzchords;this.setupTune(e,0),this.constructTuneElements(e),Jx(this.renderer,e,0,this.space,this.timeBasedLayout);for(var r=[],n,a=!0,s=0;s<e.lines.length;s++){var i=e.lines[s];if(i.staff){if(a&&(n={left:0,measureWidths:[],total:0},r.push(n),a=!1),i.staffGroup.voices.length>0)for(var o=i.staffGroup.voices[0],l=!1,c=0,h=0;h<o.children.length;h++){var u=o.children[h];!l&&!u.isClef&&!u.isKeySig&&(l=!0,n.left=u.x,c=u.x),u.type==="bar"&&(n.measureWidths.push(u.x-c),n.total+=u.x-c,c=u.x)}}else a=!0}return this.jazzchords=t,r};sn.prototype.setupTune=function(e,t){this.classes.reset(),e.formatting.jazzchords!==void 0&&(this.jazzchords=e.formatting.jazzchords),e.formatting.accentAbove!==void 0&&(this.accentAbove=e.formatting.accentAbove),this.renderer.newTune(e),this.engraver=new BP(this.getTextSize,t,{bagpipes:e.formatting.bagpipes,flatbeams:e.formatting.flatbeams,graceSlurs:e.formatting.graceSlurs!==!1,percmap:e.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,timeBasedLayout:this.timeBasedLayout,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=e.getMeterFraction().num/e.getMeterFraction().den,e.formatting.staffwidth?this.width=e.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var r=e.formatting.scale?e.formatting.scale:this.scale;return this.responsive==="resize"&&(r=void 0),r===void 0&&(r=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(r),r};sn.prototype.constructTuneElements=function(e){e.topText=new Qx(e.metaText,e.metaTextInfo,e.formatting,e.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var t,r,n=!1,a=!1;for(t=0;t<e.lines.length;t++)if(r=e.lines[t],r.staff)a=!0,r.staffGroup=this.engraver.createABCLine(r.staff,n?null:e.metaText.tempo,t),n=!0;else if(r.subtitle){if(a){var s=this.width/2+this.renderer.padding.left;r.nonMusic=new OP(this.renderer.spacing.subtitle,e.formatting,r.subtitle,s,this.renderer.padding.left,this.getTextSize)}}else r.text!==void 0?(a=!0,r.nonMusic=new RP(r.text,r.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):r.separator!==void 0&&r.separator.lineLength&&(a=!0,r.nonMusic=new DP(r.separator.spaceAbove,r.separator.lineLength,r.separator.spaceBelow));e.bottomText=new IP(e.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};sn.prototype.engraveTune=function(e,t,r){var n=this.jazzchords,a=this.setupTune(e,t);this.constructTuneElements(e);var s=Jx(this.renderer,e,this.width,this.space,this.expandToWidest,this.timeBasedLayout);if(this.expandToWidest&&s>this.width+1&&(e.topText=new Qx(e.metaText,e.metaTextInfo,e.formatting,e.lines,s,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),e.lines&&e.lines.length>0))for(var i=e.lines.length,o=0;o<i;++o){var l=e.lines[o];if(l.nonMusic&&l.nonMusic.rows&&l.nonMusic.rows.length>0)for(var c=l.nonMusic.rows.length,h=0;h<c;++h){var u=l.nonMusic.rows[h];u.left&&(l.subtitle?u.left=s/2+this.renderer.padding.left:l.text&&l.text.length>0&&l.text[0].center&&(u.left=s/2+this.renderer.padding.left))}}e.tablatures&&HP.layoutTablatures(this.renderer,e);var f=$P(this.renderer,this.classes,e,this.width,s,this.responsive,a,this.selectTypes,t,r);if(this.staffgroups=f.staffgroups,this.selectables=f.selectables,this.oneSvgPerLine){var p=this.renderer.paper.svg.parentNode;this.svgs=UP(this.renderer,p,e.metaText.title,this.responsive,a)}else this.svgs=[this.renderer.paper.svg];FP(this,this.svgs),this.jazzchords=n};function UP(e,t,r,n,a){r||(r="Untitled");var s=t.querySelector("svg");n==="resize"&&(t.style.paddingBottom="");for(var i=s.querySelector("style"),o=n==="resize"?s.viewBox.baseVal.width:s.getAttribute("width"),l=t.querySelectorAll("svg > g"),c=0,h=[],u=0;u<l.length;u++){var f=l[u],p=f.getBBox(),g=p.y-c,m=p.height+g,v=document.createElement("div"),y="overflow: hidden;";n!=="resize"&&(y+="height:"+m*a+"px;"),v.setAttribute("style",y);var b=VP(s),w='Sheet Music for "'+r+'" section '+(u+1);b.setAttribute("aria-label",w),n!=="resize"&&b.setAttribute("height",m),n==="resize"&&(b.style.position="");var x=e.firefox112?m+1:m;b.setAttribute("viewBox","0 "+c+" "+o+" "+x),b.appendChild(i.cloneNode(!0));var X=document.createElement("title");X.innerText=w,b.appendChild(X),b.appendChild(f),v.appendChild(b),h.push(b),t.appendChild(v),c=p.y+p.height}return t.removeChild(s),h}function VP(e){for(var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg"),n=0;n<e.attributes.length;n++){var a=e.attributes[n];a.name!=="height"&&a.name!="aria-label"&&r.setAttribute(a.name,a.value)}return r}sn.prototype.getDim=function(e){if(!e.dim){var t=e.svgEl.getBBox();e.dim={left:Math.round(t.x),top:Math.round(t.y),right:Math.round(t.x+t.width),bottom:Math.round(t.y+t.height)}}return e.dim};sn.prototype.addSelectListener=function(e){this.listeners[this.listeners.length]=e};var t6=sn,qP=Ec,r6=t6,GP=fx,YP=ax,dl={};function um(){var e=window.innerWidth;for(var t in dl)if(dl.hasOwnProperty(t)){var r=dl[t],n=r.offsetLeft;e-=n*2,r.style.width=e+"px"}}try{window.addEventListener("resize",um),window.addEventListener("orientationChange",um)}catch{}function n6(e,t,r,n,a){r.viewportHorizontal?(e.innerHTML='<div class="abcjs-inner"></div>',r.scrollHorizontal?(e.style.overflowX="auto",e.style.overflowY="hidden"):e.style.overflow="hidden",dl[e.id]=e,e=e.children[0]):r.viewportVertical?(e.innerHTML='<div class="abcjs-inner scroll-amount"></div>',e.style.overflowX="hidden",e.style.overflowY="auto",e=e.children[0]):e.innerHTML="";var s=new r6(e,r);if(s.engraveABC(t,n,a),t.engraver=s,r.viewportVertical||r.viewportHorizontal){var i=e.parentNode;i.style.width=e.style.width}}var KP=function(e,t,r,n,a){var s={},i;if(r){for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);s.warnings_id&&s.tablature&&(s.tablature.warning_id=s.warnings_id)}if(n)for(i in n)n.hasOwnProperty(i)&&(i==="listener"?n[i].highlight&&(s.clickListener=n[i].highlight):s[i]=n[i]);if(a)for(i in a)a.hasOwnProperty(i)&&(s[i]=a[i]);function o(l,c,h,u){var f=!1;return l==="*"&&(f=!0,l=document.createElement("div"),l.setAttribute("style","visibility: hidden;"),document.body.appendChild(l)),!f&&s.wrap&&s.staffwidth?(c=QP(l,c,h,u,s),c):(s.afterParsing&&s.afterParsing(c,h,u),n6(l,c,s,h,0),f&&l.parentNode.removeChild(l),null)}return qP.renderEngine(o,e,t,s)};function QP(e,t,r,n,a){var s=new r6(e,a),i=s.getMeasureWidths(t),o=YP.calcLineWraps(t,i,a);if(o.reParse){var l=new GP;l.parse(n,o.revisedParams),t=l.getTune();var c=l.getWarnings();c&&(t.warnings=c)}return a.afterParsing&&a.afterParsing(t,r,n),n6(e,t,o.revisedParams,r,0),t.explanation=o.explanation,t}var a6=KP,JP=Ec,ZP=t6,eA=function(e,t){function r(n,a,s,i){n=document.createElement("div"),n.setAttribute("style","visibility: hidden;"),document.body.appendChild(n);var o=new ZP(n,t),l=o.getMeasureWidths(a);return n.parentNode.removeChild(n),{sections:l}}return JP.renderEngine(r,"*",e,t)},tA=eA,rA={},r1=rA,Fu=r1,nA=function(e,t,r,n){Fu[t]||(Fu[t]={});var a=Fu[t];return a[r]||(a[r]=new Promise(function(s,i){var o=new XMLHttpRequest;let l=e+t+"-mp3/"+r+".mp3";o.open("GET",l,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status!==200){i(Error("Can't load sound at "+l+" status="+o.status));return}var c=function(u){s({instrument:t,name:r,status:"loaded",audioBuffer:u})},h=n.decodeAudioData(o.response,c,function(){i(Error("Can't decode sound at "+l))});h&&typeof h.catch=="function"&&h.catch(i)},o.onerror=function(){i(Error("Can't load sound at "+l))},o.send()}).catch(s=>{throw console.error("Didn't load note",t,r,":",s.message),s})),a[r]},aA=nA,sA=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],n1=sA,zu=n1,iA=function(e){for(var t=[],r=0;r<e.tracks.length;r++)t.push([]);var n=zu[0];return e.tracks.forEach(function(a,s){a.forEach(function(i){switch(i.cmd){case"note":var o=i.instrument!==void 0?zu[i.instrument]:n;if(i.duration>0){var l=i.gap?i.gap:0,c=i.duration;l=Math.min(l,c*2/3);var h={pitch:i.pitch,instrument:o,start:Math.round(i.start*1e6)/1e6,end:Math.round((i.start+c-l)*1e6)/1e6,volume:i.volume};i.startChar&&(h.startChar=i.startChar),i.endChar&&(h.endChar=i.endChar),i.style&&(h.style=i.style),i.cents&&(h.cents=i.cents),t[s].push(h)}break;case"program":n=zu[i.instrument];break;case"text":break;default:console.log("Unhandled midi event",i)}})}),t},oA=iA;function lA(e){if(e)window.abcjsAudioContext=e;else if(!window.abcjsAudioContext){var t=window.AudioContext||window.webkitAudioContext;if(t)window.abcjsAudioContext=new t;else return!1}return window.abcjsAudioContext.state!=="suspended"}var Pc=lA,cA=Pc;function uA(){return window.abcjsAudioContext||cA(),window.abcjsAudioContext}var xi=uA,dA=xi;function fA(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var e=dA();if(e)return e.resume!==void 0}var Ac=fA,hA={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},a1=hA,pA=function(e){return window.URL.createObjectURL(gA(e.audioBuffers))};function gA(e){var t=e[0],r=t.numberOfChannels,n=t.length*r*2+44,a=new ArrayBuffer(n),s=new DataView(a),i=[],o,l,c=0,h=0;for(f(1179011410),f(n-8),f(1163280727),f(544501094),f(16),u(1),u(r),f(t.sampleRate),f(t.sampleRate*2*r),u(r*2),u(16),f(1635017060),f(n-h-4),o=0;o<r;o++)i.push(t.getChannelData(o));for(;h<n;){for(o=0;o<i.length;o++)l=Math.max(-1,Math.min(1,i[o][c])),l=(.5+l<0?l*32768:l*32767)|0,s.setInt16(h,l,!0),h+=2;c++}return new Blob([a],{type:"audio/wav"});function u(p){s.setUint16(h,p,!0),h+=2}function f(p){s.setUint32(h,p,!0),h+=4}}var mA=pA;function vA(e){return Math.pow(2,e/1200)}var s6=vA,dm=r1,yA=a1,bA=s6;function xA(e,t,r,n,a,s,i,o,l){var c=window.OfflineAudioContext||window.webkitOfflineAudioContext,h=r.len*r.tempoMultiplier;s&&(h+=s/1e3),h-=o,h<0&&(h=.005);var u=new c(2,Math.floor((h+i)*t),t),f=yA[r.pitch];if(!dm[r.instrument])return l&&l("placeNote skipped (instrument empty): "+r.instrument+":"+f),Promise.resolve();var p=dm[r.instrument][f];return p?p.then(function(g){var m=u.createBufferSource();m.buffer=g.audioBuffer;var v=r.volume/96*a;m.gainNode=u.createGain(),r.pan&&u.createStereoPanner&&(m.panNode=u.createStereoPanner(),m.panNode.pan.setValueAtTime(r.pan,0)),m.gainNode.gain.value=v,m.gainNode.gain.linearRampToValueAtTime(m.gainNode.gain.value,h),m.gainNode.gain.linearRampToValueAtTime(0,h+i),r.cents&&(m.playbackRate.value=bA(r.cents)),m.panNode?(m.panNode.connect(u.destination),m.gainNode.connect(m.panNode)):m.gainNode.connect(u.destination),m.connect(m.gainNode),m.start(0),m.noteOff?m.noteOff(h+i):m.stop(h+i);var y;return u.oncomplete=function(b){if(b.renderedBuffer&&b.renderedBuffer.getChannelData)for(var w=0;w<n.length;w++){var x=n[w]*r.tempoMultiplier;s&&(x-=s/1e3),x<0&&(x=0),x=Math.floor(x*t),wA(e,b.renderedBuffer,x)}l&&l("placeNote: "+r.instrument+":"+f),y()},u.startRendering(),new Promise(function(b){y=b})}).catch(function(g){return l&&l("placeNote catch: "+g.message),Promise.reject(g)}):(l&&l("placeNote skipped: "+r.instrument+":"+f),Promise.resolve())}var wA=function(e,t,r){for(var n=0;n<2;n++)for(var a=t.getChannelData(n),s=e.getChannelData(n),i=0;i<a.length;i++)s[i+r]+=a[i]},XA=xA,CA=aA,kA=oA,SA=Pc,Oe=xi,NA=Ac,EA=a1,H0=n1,TA=mA,_A=XA,fm=r1,ka="MIDI is not supported in this browser.",hm="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",pm="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",jA="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function PA(){var e=this;e.audioBufferPossible=void 0,e.directSource=[],e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.audioBuffers=[],e.duration=void 0,e.isRunning=!1,e.options={},e.pickupLength=0,e.init=function(n){n||(n={}),n.options&&(e.options=n.options),SA(n.audioContext);var a=Oe().currentTime;if(e.debugCallback=n.debugCallback,e.debugCallback&&e.debugCallback("init called"),e.audioBufferPossible=e._deviceCapable(),!e.audioBufferPossible)return Promise.reject({status:"NotSupported",message:ka});var s=n.options?n.options:{};e.soundFontUrl=s.soundFontUrl?s.soundFontUrl:pm,e.soundFontUrl[e.soundFontUrl.length-1]!=="/"&&(e.soundFontUrl+="/"),s.soundFontVolumeMultiplier||s.soundFontVolumeMultiplier===0?e.soundFontVolumeMultiplier=s.soundFontVolumeMultiplier:e.soundFontUrl===pm||e.soundFontUrl===jA?e.soundFontVolumeMultiplier=3:e.soundFontUrl===hm?e.soundFontVolumeMultiplier=.4:e.soundFontVolumeMultiplier=1,s.programOffsets?e.programOffsets=s.programOffsets:e.soundFontUrl===hm?e.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:e.programOffsets={};var i=s.fadeLength!==void 0?parseInt(s.fadeLength,10):NaN;if(e.fadeLength=isNaN(i)?200:i,i=s.noteEnd!==void 0?parseInt(s.noteEnd,10):NaN,e.noteEnd=isNaN(i)?0:i,e.pan=s.pan,e.meterSize=1,n.visualObj){e.flattened=n.visualObj.setUpAudio(s);var o=n.visualObj.getMeterFraction();o.den&&(e.meterSize=n.visualObj.getMeterFraction().num/n.visualObj.getMeterFraction().den),e.pickupLength=n.visualObj.getPickupLength()}else if(n.sequence)e.flattened=n.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));e.millisecondsPerMeasure=n.millisecondsPerMeasure?n.millisecondsPerMeasure:n.visualObj?n.visualObj.millisecondsPerMeasure(e.flattened.tempo):1e3,e.beatsPerMeasure=n.visualObj?n.visualObj.getBeatsPerMeasure():4,e.sequenceCallback=s.sequenceCallback,e.callbackContext=s.callbackContext,e.onEnded=s.onEnded,e.meterFraction=n.visualObj?n.visualObj.getMeterFraction():{den:1};var l={},c=[],h=[],u=H0[0];e.flattened.tracks.forEach(function(v){v.forEach(function(y){if(y.cmd==="program"&&H0[y.instrument]&&(u=H0[y.instrument]),y.pitch!==void 0){var b=y.pitch,w=EA[b],x=y.instrument!==void 0?H0[y.instrument]:u;if(w)if(l[x]||(l[x]={}),!fm[x]||!fm[x][w])l[x][w]=!0;else{var X=x+":"+w;c.indexOf(X)<0&&c.push(X)}else{var k=x+":"+w;console.log("Can't find note: ",b,k),h.indexOf(k)<0&&h.push(k)}}})}),e.debugCallback&&e.debugCallback("note gathering time = "+Math.floor((Oe().currentTime-a)*1e3)+"ms"),a=Oe().currentTime;var f=[];Object.keys(l).forEach(function(v){Object.keys(l[v]).forEach(function(y){f.push({instrument:v,note:y})})}),e.debugCallback&&e.debugCallback("notes "+JSON.stringify(f));for(var p=[],g=256,m=0;m<f.length;m+=g)p.push(f.slice(m,m+g));return new Promise(function(v,y){var b={cached:c,error:h,loaded:[]},w=0,x=function(){e.debugCallback&&e.debugCallback("loadBatch idx="+w+" len="+p.length),w<p.length?e._loadBatch(p[w],e.soundFontUrl,a).then(function(X){e.debugCallback&&e.debugCallback("loadBatch then"),a=Oe().currentTime,X&&(X.error&&(b.error=b.error.concat(X.error)),X.loaded&&(b.loaded=b.loaded.concat(X.loaded))),w++,x()},y):(e.debugCallback&&e.debugCallback("resolve init"),v(b))};x()})},e._loadBatch=function(n,a,s,i){var o=[];return n.forEach(function(l){e.debugCallback&&e.debugCallback("getNote "+l.instrument+":"+l.note),o.push(CA(a,l.instrument,l.note,Oe()))}),Promise.all(o).then(function(l){e.debugCallback&&e.debugCallback("mp3 load time = "+Math.floor((Oe().currentTime-s)*1e3)+"ms");for(var c=[],h=[],u=[],f=[],p=0;p<l.length;p++){var g=l[p],m=g.instrument+":"+g.name;g.status==="loaded"?c.push(m):g.status==="pending"?u.push(m):g.status==="cached"?h.push(m):f.push(m+" "+g.message)}if(u.length>0){if(e.debugCallback&&e.debugCallback("pending "+JSON.stringify(u)),i?i=i*2:i=50,i<9e4)return new Promise(function(b,w){setTimeout(function(){var x=[];for(p=0;p<u.length;p++)m=u[p].split(":"),x.push({instrument:m[0],note:m[1]});e.debugCallback&&e.debugCallback("retry "+JSON.stringify(x)),e._loadBatch(x,a,s,i).then(function(X){b(X)}).catch(function(X){w(X)})},i)});for(var v=[],y=0;y<n.length;y++)v.push(n[y].instrument+"/"+n[y].note);return e.debugCallback&&e.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+v.join(", ")))}else return e.debugCallback&&e.debugCallback("loadBatch resolve"),Promise.resolve({loaded:c,cached:h,error:f})}).catch(function(l){e.debugCallback&&e.debugCallback("loadBatch catch "+l.message)})},e.prime=function(){var n=e.fadeLength/1e3;return e.isRunning=!1,e.audioBufferPossible?(e.debugCallback&&e.debugCallback("prime called"),new Promise(function(a,s){try{let w=function(x){var X=x&&x.audioBuffers&&x.audioBuffers.length>0?x.audioBuffers[0].duration:0;return{status:Oe().state,duration:X}};var b=w,i=Oe().currentTime,o=e.millisecondsPerMeasure/1e3/e.meterSize;if(e.duration=e.flattened.totalDuration*o,e.duration<=0)return e.audioBuffers=[],a({status:"empty",seconds:0});e.duration+=n;var l=Math.floor(Oe().sampleRate*e.duration);e.stop();var c=kA(e.flattened);e.options.swing&&r(c,e.options.swing,e.meterFraction,e.pickupLength),e.sequenceCallback&&e.sequenceCallback(c,e.callbackContext);var h=t(c.length,e.pan),u={};c.forEach(function(x,X){var k=h&&h.length>X?h[X]:0;x.forEach(function(N){var T=N.instrument+":"+N.pitch+":"+N.volume+":"+Math.round((N.end-N.start)*1e3)/1e3+":"+k+":"+o+":"+(N.cents?N.cents:0);e.debugCallback&&e.debugCallback("noteMapTrack "+T),u[T]||(u[T]=[]),u[T].push(N.start)})});for(var f=[],p=Oe().createBuffer(2,l,Oe().sampleRate),g=0;g<Object.keys(u).length;g++){var m=Object.keys(u)[g],v=m.split(":"),y=v[6]!==void 0?parseFloat(v[6]):0;v={instrument:v[0],pitch:parseInt(v[1],10),volume:parseInt(v[2],10),len:parseFloat(v[3]),pan:parseFloat(v[4]),tempoMultiplier:parseFloat(v[5]),cents:y},f.push(_A(p,Oe().sampleRate,v,u[m],e.soundFontVolumeMultiplier,e.programOffsets[v.instrument],n,e.noteEnd/1e3,e.debugCallback))}e.audioBuffers=[p],e.debugCallback&&(e.debugCallback("sampleRate = "+Oe().sampleRate),e.debugCallback("totalSamples = "+l),e.debugCallback("creationTime = "+Math.floor((Oe().currentTime-i)*1e3)+"ms")),Promise.all(f).then(function(){Oe().state==="suspended"?Oe().resume().then(function(){a(w(e))}):Oe().state==="interrupted"?Oe().suspend().then(function(){Oe().resume().then(function(){a(w(e))})}):a(w(e))}).catch(function(x){s(x)})}catch(w){s(w)}})):Promise.reject(new Error(ka))};function t(n,a){if(a==null)return null;var s=[];if(a.length){for(var i=0;i<n;i++)if(i<a.length){var o=parseFloat(a[i]);o<-1?o=-1:o>1&&(o=1),s.push(o)}else s.push(0);return s}else{var l=parseFloat(a);if(l*(n-1)>2)return null;for(var c=n%2===0,h=c?0-l/2:0,u=h+l,f=0;f<n;f++)c=f%2===0,c?(s.push(h),h-=l):(s.push(u),u+=l);return s}}e.start=function(){if(!e.audioBufferPossible)throw new Error(ka);e.debugCallback&&e.debugCallback("start called");var n=e.pausedTimeSec?e.pausedTimeSec:0;e._kickOffSound(n),e.startTimeSec=Oe().currentTime-n,e.pausedTimeSec=void 0,e.debugCallback&&e.debugCallback("MIDI STARTED",e.startTimeSec)},e.pause=function(){if(!e.audioBufferPossible)throw new Error(ka);return e.debugCallback&&e.debugCallback("pause called"),e.pausedTimeSec=e.stop(),e.pausedTimeSec},e.resume=function(){e.start()},e.seek=function(n,a){var s;switch(a){case"seconds":s=n;break;case"beats":s=n*e.millisecondsPerMeasure/e.beatsPerMeasure/1e3;break;default:s=(e.duration-e.fadeLength/1e3)*n;break}if(!e.audioBufferPossible)throw new Error(ka);e.debugCallback&&e.debugCallback("seek called sec="+s),e.isRunning?(e.stop(),e._kickOffSound(s)):e.pausedTimeSec=s,e.pausedTimeSec=s},e.stop=function(){e.isRunning=!1,e.pausedTimeSec=void 0,e.directSource.forEach(function(a){try{a.stop()}catch(s){console.log("direct source didn't stop:",s)}}),e.directSource=[];var n=Oe().currentTime-e.startTimeSec;return n},e.finished=function(){e.startTimeSec=void 0,e.pausedTimeSec=void 0,e.isRunning=!1},e.download=function(){return TA(e)},e.getAudioBuffer=function(){return e.audioBuffers[0]},e.getIsRunning=function(){return e.isRunning},e._deviceCapable=function(){return NA()?!0:(console.warn(ka),e.debugCallback&&e.debugCallback(ka),!1)},e._kickOffSound=function(n){e.isRunning=!0,e.directSource=[],e.audioBuffers.forEach(function(a,s){e.directSource[s]=Oe().createBufferSource(),e.directSource[s].buffer=a,e.directSource[s].connect(Oe().destination)}),e.directSource.forEach(function(a){a.start(0,n)}),e.onEnded&&(e.directSource[0].onended=function(){e.onEnded(e.callbackContext)})};function r(n,a,s,i){if(!(s.den!=4&&s.den!=8)&&(a=parseFloat(a),!(isNaN(a)||a<=50))){a>75&&(a=75),a=a/50-1;var o=0,l=.25;s.den===8&&(l=l/2);for(var c=l/2,h=c*a,u=0;u<n.length;u++)for(var f=n[u],p=0;p<f.length;p++){var g=f[p];if((g.start-i)%c==0&&(g.start-i)%l!=0&&(p==0||f[p-1].start<=f[p].start-c)&&(p==f.length-1||f[p+1].start>=f[p].start+c)){var m=g.start;g.start+=h,g.volume*=1+o,p>0&&f[p-1].end==m&&(f[p-1].end=g.start,f[p-1].volume*=1-o)}}}}}var s1=PA,AA=function(){var e=this;e.tracks=[],e.totalDuration=0,e.currentInstrument=[],e.starts=[],e.addTrack=function(){return e.tracks.push([]),e.currentInstrument.push(0),e.starts.push(0),e.tracks.length-1},e.setInstrument=function(t,r){e.tracks[t].push({channel:0,cmd:"program",instrument:r}),e.currentInstrument[t]=r},e.appendNote=function(t,r,n,a,s){var i={cmd:"note",duration:n,gap:0,instrument:e.currentInstrument[t],pitch:r,start:e.starts[t],volume:a};s&&(i.cents=s),e.tracks[t].push(i),e.starts[t]+=n,e.totalDuration=Math.max(e.totalDuration,e.starts[t])}},i6=AA,MA=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,BA=MA,LA=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,RA=LA,DA=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,OA=DA,IA=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,FA=IA,zA=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,$A=zA,HA=Ac,o6=Pc,lo=xi,WA=BA,UA=RA,VA=OA,qA=FA,GA=$A;function YA(e,t){var r=this;if(typeof e=="string"){var n=e;if(e=document.querySelector(n),!e)throw new Error('Cannot find element "'+n+'" in the DOM.')}else if(!(e instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(r.parent=e,r.options={},t&&(r.options=Object.assign({},t)),r.options.ac&&o6(r.options.ac),KA(r.parent,r.options),QA(r),r.disable=function(s){var i=r.parent.querySelector(".abcjs-inline-audio");s?i.classList.add("abcjs-disabled"):i.classList.remove("abcjs-disabled")},r.setWarp=function(s,i){var o=r.parent.querySelector(".abcjs-midi-tempo");o.value=Math.round(i),r.setTempo(s)},r.setTempo=function(s){var i=r.parent.querySelector(".abcjs-midi-current-tempo");i&&(i.innerHTML=Math.round(s))},r.resetAll=function(){for(var s=r.parent.querySelectorAll(".abcjs-pushed"),i=0;i<s.length;i++){var o=s[i];o.classList.remove("abcjs-pushed")}},r.pushPlay=function(s){var i=r.parent.querySelector(".abcjs-midi-start");i&&(s?i.classList.add("abcjs-pushed"):i.classList.remove("abcjs-pushed"))},r.pushLoop=function(s){var i=r.parent.querySelector(".abcjs-midi-loop");i&&(s?i.classList.add("abcjs-pushed"):i.classList.remove("abcjs-pushed"))},r.setProgress=function(s,i){var o=r.parent.querySelector(".abcjs-midi-progress-background"),l=r.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!o||!l)){var c=o.clientWidth,h=c*s;l.style.left=h+"px";var u=r.parent.querySelector(".abcjs-midi-clock");if(u){var f=i*s/1e3,p=Math.floor(f/60),g=Math.floor(f%60),m=g<10?"0"+g:g;u.innerHTML=p+":"+m}}},r.options.afterResume){var a=!1;r.options.ac?a=r.options.ac.state!=="suspended":lo()&&(a=lo().state!=="suspended"),a&&r.options.afterResume()}}function KA(e,t){var r=!!t.loopHandler,n=!!t.restartHandler,a=!!t.playHandler||!!t.playPromiseHandler,s=!!t.progressHandler,i=!!t.warpHandler,o=t.hasClock!==!1,l=`<div class="abcjs-inline-audio">
`;if(r){var c=t.repeatTitle?t.repeatTitle:"Click to toggle play once/repeat.",h=t.repeatAria?t.repeatAria:c;l+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+c+'" aria-label="'+h+'">'+WA+`</button>
`}if(n){var u=t.restartTitle?t.restartTitle:"Click to go to beginning.",f=t.restartAria?t.restartAria:u;l+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+u+'" aria-label="'+f+'">'+GA+`</button>
`}if(a){var p=t.playTitle?t.playTitle:"Click to play/pause.",g=t.playAria?t.playAria:p;l+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+p+'" aria-label="'+g+'">'+UA+VA+qA+`</button>
`}if(s){var m=t.randomTitle?t.randomTitle:"Click to change the playback position.",v=t.randomAria?t.randomAria:m;l+='<button type="button" class="abcjs-midi-progress-background" title="'+m+'" aria-label="'+v+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(o&&(l+=`<span class="abcjs-midi-clock"></span>
`),i){var y=t.warpTitle?t.warpTitle:"Change the playback speed.",b=t.warpAria?t.warpAria:y,w=t.bpm?t.bpm:"BPM";l+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+y+'" aria-label="'+b+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+w+`)</span></span>
`}l+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',l+=`</div>
`,e.innerHTML=l}function Fi(e,t,r,n,a){var s=!0;if(lo()?s=lo().state==="suspended":o6(),!HA())throw{status:"NotSupported",message:"This browser does not support audio."};(s||a)&&r&&r.classList.add("abcjs-loading"),s?lo().resume().then(function(){n?n().then(function(i){$u(e,t,r,a)}):$u(e,t,r,a)}):$u(e,t,r,a)}function $u(e,t,r,n){n?e(t).then(function(){r&&r.classList.remove("abcjs-loading")}):(e(t),r&&r.classList.remove("abcjs-loading"))}function QA(e){var t=!!e.options.loopHandler,r=!!e.options.restartHandler,n=!!e.options.playHandler||!!e.options.playPromiseHandler,a=!!e.options.progressHandler,s=!!e.options.warpHandler,i=e.parent.querySelector(".abcjs-midi-start");t&&e.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(o){Fi(e.options.loopHandler,o,i,e.options.afterResume)}),r&&e.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(o){Fi(e.options.restartHandler,o,i,e.options.afterResume)}),n&&i.addEventListener("click",function(o){Fi(e.options.playPromiseHandler||e.options.playHandler,o,i,e.options.afterResume,!!e.options.playPromiseHandler)}),a&&e.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(o){Fi(e.options.progressHandler,o,i,e.options.afterResume)}),s&&e.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(o){Fi(e.options.warpHandler,o,i,e.options.afterResume)})}var l6=YA,JA=i6,ZA=s1,eM=xi;function tM(e,t,r,n,a){for(var s=new JA,i=0;i<e.length;i++){var o=e[i],l=s.addTrack();if(s.setInstrument(l,o.instrument),i===0&&t)for(var c=0;c<t.length;c++){var h=t[c];s.appendNote(l,h.pitch,1/64,h.volume,h.cents)}s.appendNote(l,o.pitch,o.duration,o.volume,o.cents)}var u=eM();return u.state==="suspended"?u.resume().then(function(){return gm(s,r,n,a)}):gm(s,r,n,a)}function gm(e,t,r,n){var a=new ZA;return a.init({sequence:e,millisecondsPerMeasure:t,options:{soundFontUrl:r},debugCallback:n}).then(function(){return a.prime()}).then(function(){return a.start(),Promise.resolve()})}var rM=tM,nM=l6,aM=s1,sM=Oh,mm=xi;function iM(){var e=this;e.warp=100,e.cursorControl=null,e.visualObj=null,e.timer=null,e.midiBuffer=null,e.options=null,e.currentTempo=null,e.control=null,e.isLooping=!1,e.isStarted=!1,e.isLoaded=!1,e.isLoading=!1,e.load=function(r,n,a){a||(a={}),a.displayPlay===void 0&&(a.displayPlay=!0),a.displayProgress===void 0&&(a.displayProgress=!0),e.control=new nM(r,{loopHandler:a.displayLoop?e.toggleLoop:void 0,restartHandler:a.displayRestart?e.restart:void 0,playPromiseHandler:a.displayPlay?e.play:void 0,progressHandler:a.displayProgress?e.randomAccess:void 0,warpHandler:a.displayWarp?e.onWarp:void 0,afterResume:e.init}),e.cursorControl=n,e.disable(!0)},e.disable=function(r){e.control&&e.control.disable(r)},e.setTune=function(r,n,a){return e.visualObj=r,e.disable(!1),e.options=a||{},e.control&&(e.pause(),e.setProgress(0,1),e.control.resetAll(),e.restart(),e.isStarted=!1),e.isLooping=!1,n?e.go():Promise.resolve({status:"no-audio-context"})},e.go=function(){e.isLoading=!0;var r=e.visualObj.millisecondsPerMeasure()*100/e.warp;e.currentTempo=Math.round(e.visualObj.getBeatsPerMeasure()/r*6e4),e.control&&e.control.setTempo(e.currentTempo),e.percent=0;var n;return e.midiBuffer||(e.midiBuffer=new aM),mm().resume().then(function(a){return e.midiBuffer.init({visualObj:e.visualObj,options:e.options,millisecondsPerMeasure:r})}).then(function(a){return n=a,e.midiBuffer.prime()}).then(function(){var a=16;return e.cursorControl&&e.cursorControl.beatSubdivisions!==void 0&&parseInt(e.cursorControl.beatSubdivisions,10)>=1&&parseInt(e.cursorControl.beatSubdivisions,10)<=64&&(a=parseInt(e.cursorControl.beatSubdivisions,10)),e.timer=new sM(e.visualObj,{beatCallback:e.beatCallback,eventCallback:e.eventCallback,lineEndCallback:e.lineEndCallback,qpm:e.currentTempo,extraMeasuresAtBeginning:e.cursorControl?e.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:e.cursorControl?e.cursorControl.lineEndAnticipation:0,beatSubdivisions:a}),e.cursorControl&&e.cursorControl.onReady&&typeof e.cursorControl.onReady=="function"&&e.cursorControl.onReady(e),e.isLoaded=!0,e.isLoading=!1,Promise.resolve({status:"created",notesStatus:n})})},e.destroy=function(){e.timer&&(e.timer.reset(),e.timer.stop(),e.timer=null),e.midiBuffer&&(e.midiBuffer.stop(),e.midiBuffer=null),e.setProgress(0,1),e.control&&e.control.resetAll()},e.play=function(){return e.runWhenReady(e._play,void 0)};function t(r){return new Promise(function(n){setTimeout(n,r)})}e.runWhenReady=function(r,n){return e.visualObj?e.isLoading?t(500).then(function(){return e.isLoading?e.runWhenReady(r,n):r(n)}):e.isLoaded?r(n):e.go().then(function(){return r(n)}):Promise.resolve({status:"loading"})},e._play=function(){return mm().resume().then(function(){return e.isStarted=!e.isStarted,e.isStarted?(e.cursorControl&&e.cursorControl.onStart&&typeof e.cursorControl.onStart=="function"&&e.cursorControl.onStart(),e.midiBuffer.start(),e.timer.start(e.percent),e.control&&e.control.pushPlay(!0)):e.pause(),Promise.resolve({status:"ok"})})},e.pause=function(){e.timer&&(e.timer.pause(),e.midiBuffer.pause(),e.control&&e.control.pushPlay(!1))},e.toggleLoop=function(){e.isLooping=!e.isLooping,e.control&&e.control.pushLoop(e.isLooping)},e.restart=function(){e.timer&&(e.timer.setProgress(0),e.midiBuffer.seek(0))},e.randomAccess=function(r){return e.runWhenReady(e._randomAccess,r)},e._randomAccess=function(r){var n=r.target.classList.contains("abcjs-midi-progress-indicator")?r.target.parentNode:r.target,a=(r.x-n.getBoundingClientRect().left)/n.offsetWidth;return a<0&&(a=0),a>1&&(a=1),e.seek(a),Promise.resolve({status:"ok"})},e.seek=function(r,n){e.timer&&e.midiBuffer&&(e.timer.setProgress(r,n),e.midiBuffer.seek(r,n))},e.setWarp=function(r){if(parseInt(r,10)>0){e.warp=parseInt(r,10);var n=e.isStarted,a=e.percent;return e.destroy(),e.isStarted=!1,e.go().then(function(){return e.setProgress(a,e.midiBuffer.duration*1e3),e.control&&e.control.setWarp(e.currentTempo,e.warp),n?e.play().then(function(){return e.seek(a),Promise.resolve()}):(e.seek(a),Promise.resolve())})}return Promise.resolve()},e.onWarp=function(r){var n=r.target.value;return e.setWarp(n)},e.setProgress=function(r,n){e.percent=r,e.control&&e.control.setProgress(r,n)},e.finished=function(){if(e.timer.reset(),e.isLooping)return e.timer.start(0),e.midiBuffer.finished(),e.midiBuffer.start(),"continue";e.timer.stop(),e.isStarted&&(e.control&&e.control.pushPlay(!1),e.isStarted=!1,e.midiBuffer.finished(),e.cursorControl&&e.cursorControl.onFinished&&typeof e.cursorControl.onFinished=="function"&&e.cursorControl.onFinished(),e.setProgress(0,1))},e.beatCallback=function(r,n,a,s){var i=r/n;e.setProgress(i,a),e.cursorControl&&e.cursorControl.onBeat&&typeof e.cursorControl.onBeat=="function"&&e.cursorControl.onBeat(r,n,a,s)},e.eventCallback=function(r){if(r)e.cursorControl&&e.cursorControl.onEvent&&typeof e.cursorControl.onEvent=="function"&&e.cursorControl.onEvent(r);else return e.finished()},e.lineEndCallback=function(r,n){e.cursorControl&&e.cursorControl.onLineEnd&&typeof e.cursorControl.onLineEnd=="function"&&e.cursorControl.onLineEnd(r,n)},e.getUrl=function(){return e.midiBuffer.download()},e.download=function(r){var n=e.getUrl(),a=document.createElement("a");document.body.appendChild(a),a.setAttribute("style","display: none;"),a.href=n,a.download=r||"output.wav",a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}}var c6=iM,oM=s6,u6;(function(){function e(h,u){for(var f in u)u.hasOwnProperty(f)&&h.setAttribute(f,u[f]);return h}function t(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}t.prototype.setTempo=function(h){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+o(Math.round(6e7/h),6),this.endTrack())},t.prototype.setGlobalInfo=function(h,u,f,p){if(this.trackcount===0){this.startTrack();var g=Math.round(6e7/h);this.track+="%00%FF%51%03"+o(g,6),f&&(this.track+=a(f)),p&&(this.track+=s(p)),u&&(this.track+=n(u,"%01")),this.endTrack()}},t.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},t.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var h=o(this.track.length/3+4,8);this.track="MTrk"+h+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},t.prototype.setText=function(h,u){switch(h){case"name":this.trackName=n(u,"%03");break}},t.prototype.setInstrument=function(h){this.trackInstrument="%00%C0"+o(h,2),this.instrument=h},t.prototype.setChannel=function(h,u){this.channel=h;var f="%00%B"+this.channel.toString(16);this.track+=f+"%79%00",this.track+=f+"%40%00",this.track+=f+"%5B%30",u||(u=0),u=Math.round((u+1)*64),this.track+=f+"%0A"+o(u,2),this.track+=f+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var r=4096;t.prototype.startNote=function(h,u,f){if(this.track+=c(this.silencelength),this.silencelength=0,f){this.track+="%e"+this.channel.toString(16);var p=Math.round(oM(f)*r);this.track+=l(8192+p),this.track+=c(0),this.noteWarped[h]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+h.toString(16)+o(u,2)},t.prototype.endNote=function(h){this.track+=c(this.silencelength),this.silencelength=0,this.noteWarped[h]&&(this.track+="%e"+this.channel.toString(16),this.track+=l(8192),this.track+=c(0),this.noteWarped[h]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+h.toString(16)+"%00"},t.prototype.addRest=function(h){this.silencelength+=h,this.silencelength<0&&(this.silencelength=0)},t.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+o(this.trackcount,4)+"%01%e0"+this.trackstrings},t.prototype.embed=function(h,u){var f=this.getData(),p=e(document.createElement("a"),{href:f});if(p.innerHTML="download midi",h.insertBefore(p,h.firstChild),!u){var g=e(document.createElement("embed"),{src:f,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});h.insertBefore(g,h.firstChild)}};function n(h,u){for(var f="",p=0;p<h.length;p++)f+=o(h.charCodeAt(p),2);return"%00%FF"+u+o(f.length/3,2)+f}function a(h){if(!h||!h.accidentals)return"";for(var u="%00%FF%59%02",f=0,p=256,g=0;g<h.accidentals.length;g++)h.accidentals[g].acc==="sharp"?f++:h.accidentals[g].acc==="flat"&&p--;var m=o(p!==256?p:f,2),v=h.mode==="m"?"%01":"%00";return u+m+v}function s(h){var u="%00%FF%58%04"+o(h.num,2),f={1:0,2:1,4:2,8:3,16:4,32:5},p=f[h.den];if(!p)return"";u+=o(p,2);var g;switch(h.num+"/"+h.den){case"2/4":case"3/4":case"4/4":case"5/4":g=24;break;case"6/4":g=72;break;case"2/2":case"3/2":case"4/2":g=48;break;case"3/8":case"6/8":case"9/8":case"12/8":g=36;break}return g?(u+=o(g,2),u+"%08"):""}function i(h){for(var u="",f=0;f<h.length;f+=2)u+="%",u+=h.substr(f,2);return u}function o(h,u){var f=h.toString(16);for(f=f.split(".")[0];f.length<u;)f="0"+f;return f.length>u&&(f=f.substring(0,u)),i(f)}function l(h){h=Math.round(h);var u=h%128,f=h-u;return o(f*2+u,4)}function c(h){var u=0,f=[];for(h=Math.round(h);h!==0;)f.push(h&127),h=h>>7;for(var p=f.length-1;p>=0;p--){u=u<<8;var g=f[p];p!==0&&(g=g|128),u=u|g}var m=u.toString(16).length;return m+=m%2,o(u,m)}u6=function(){return new t}})();var d6=u6,lM=d6,f6;(function(){var e=1920;f6=function(n,a){a===void 0&&(a={});var s=n.setUpAudio(a),i=lM(),o=n.metaText?n.metaText.title:void 0;o&&o.length>128&&(o=o.substring(0,124)+"...");var l=n.getKeySignature(),c=n.getMeterFraction(),h=s.tempo,u=h/60;if(c.den==8){var f=n.millisecondsPerMeasure();h=6e4/(f/c.num)/2,u=h/60}i.setGlobalInfo(h,o,l,c);for(var p=0;p<s.tracks.length;p++){i.startTrack();for(var g={},m=0;m<s.tracks[p].length;m++){var v=s.tracks[p][m];switch(v.cmd){case"text":i.setText(v.type,v.text);break;case"program":var y=0;a.pan&&a.pan.length>p&&(y=a.pan[p]),v.instrument===128?(i.setChannel(9,y),i.setInstrument(0)):(i.setChannel(v.channel,y),i.setInstrument(v.instrument));break;case"note":var b=v.gap*u,w=v.start,x=w+v.duration-b;g[w]||(g[w]=[]),g[w].push({pitch:v.pitch,volume:v.volume,cents:v.cents}),g[x]||(g[x]=[]),g[x].push({pitch:v.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+v.cmd)}}t(i,g,e),i.endTrack()}return i.getData()};function t(r,n,a){for(var s=Object.keys(n),i=0;i<s.length;i++)s[i]=parseFloat(s[i]);s.sort(function(p,g){return p-g});for(var o=0,l=0;l<s.length;l++){var c=n[s[l]];if(s[l]>o){var h=(s[l]-o)*a;r.addRest(h),o=s[l]}for(var u=0;u<c.length;u++){var f=c[u];f.volume?r.startNote(f.pitch,f.volume,f.cents):r.endNote(f.pitch)}}}})();var cM=f6,uM=Ec,dM=cM,fM=function(e,t){var r={};if(t)for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.generateInline=!1;function a(s,i,o){var l=dM(i,r);switch(r.midiOutputType){case"encoded":return l;case"binary":var c=l.replace("data:audio/midi,","");c=c.replace(/MThd/g,"%4d%54%68%64"),c=c.replace(/MTrk/g,"%4d%54%72%6b");for(var h=new ArrayBuffer(c.length/3),u=new Uint8Array(h),f=0;f<c.length/3;f++){var p=f*3+1,g=parseInt(c.substring(p,p+2),16);u[f]=g}return u;case"link":default:return pM(i,r,l,o)}}return typeof e=="string"?uM.renderEngine(a,"*",e,r):a(null,e,0)};function hM(e){var t={};return e&&t.toString.call(e)==="[object Function]"}var pM=function(e,t,r,n){var a=["abcjs-download-midi","abcjs-midi-"+n];t.downloadClass&&a.push(t.downloadClass);var s='<div class="'+a.join(" ")+'">';t.preTextDownload&&(s+=t.preTextDownload);var i=e.metaText&&e.metaText.title?e.metaText.title:"Untitled",o;t.downloadLabel&&hM(t.downloadLabel)?o=t.downloadLabel(e,n):t.downloadLabel?o=t.downloadLabel.replace(/%T/,i):o='Download MIDI for "'+i+'"',i=i.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var l=t.fileName?t.fileName:i+".midi";return s+='<a download="'+l+'" href="'+r+'">'+o+"</a>",t.postTextDownload&&(s+=t.postTextDownload),s+"</div>"},gM=fM;try{if(typeof window.CustomEvent!="function"){var vm=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};vm.prototype=window.Event.prototype,window.CustomEvent=vm}}catch{}var ba=function(e){this.isEditArea=!0,typeof e=="string"?(this.textarea=document.getElementById(e),this.textarea||(this.textarea=document.querySelector(e))):this.textarea=e,this.initialText=this.textarea.value,this.isDragging=!1};ba.prototype.addSelectionListener=function(e){this.textarea.onmousemove=function(t){this.isDragging&&e.fireSelectionChanged()}};ba.prototype.addChangeListener=function(e){this.changelistener=e,this.textarea.onkeyup=function(){e.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,e.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,e.fireChanged()},this.textarea.onchange=function(){e.fireChanged()}};ba.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};ba.prototype.setSelection=function(e,t){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(e,t);else if(this.textarea.createTextRange){var r=this.textarea.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}this.textarea.focus()};ba.prototype.getString=function(){return this.textarea.value};ba.prototype.setString=function(e){this.textarea.value=e,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};ba.prototype.getElem=function(){return this.textarea};var h6=ba,p6=Sn,mM=c6,vM=Ac,yM=a6,ym=h6;function bM(e){var t={},r;if(e.abcjsParams)for(r in e.abcjsParams)e.abcjsParams.hasOwnProperty(r)&&(t[r]=e.abcjsParams[r]);if(e.midi_options)for(r in e.midi_options)e.midi_options.hasOwnProperty(r)&&(t[r]=e.midi_options[r]);if(e.parser_options)for(r in e.parser_options)e.parser_options.hasOwnProperty(r)&&(t[r]=e.parser_options[r]);if(e.render_options)for(r in e.render_options)e.render_options.hasOwnProperty(r)&&(t[r]=e.render_options[r]);return t.tablature&&e.warnings_id&&(t.tablature.warnings_id=e.warnings_id),t}var pt=function(e,t){this.abcjsParams=bM(t),t.indicate_changed&&(this.indicate_changed=!0),typeof e=="string"?this.editarea=new ym(e):e.isEditArea?this.editarea=e:this.editarea=new ym(e),this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),t.canvas_id?this.div=t.canvas_id:t.paper_id?this.div=t.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),t.selectionChangeCallback&&(this.selectionChangeCallback=t.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),t.synth&&vM()&&(this.synth={el:t.synth.el,cursorControl:t.synth.cursorControl,options:t.synth.options}),t.generate_midi&&(this.generate_midi=t.generate_midi,this.abcjsParams.generateDownload&&(typeof t.midi_download_id=="string"?this.downloadMidi=document.getElementById(t.midi_download_id):t.midi_download_id&&(this.downloadMidi=t.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof t.midi_id=="string"?this.inlineMidi=document.getElementById(t.midi_id):t.midi_id&&(this.inlineMidi=t.midi_id))),t.warnings_id?typeof t.warnings_id=="string"?this.warningsdiv=document.getElementById(t.warnings_id):this.warningsdiv=t.warnings_id:t.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=t.onchange,this.redrawCallback=t.redrawCallback,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(r,n){var a=function(s,i){var o=s.className;return o.length>0&&(o===i||new RegExp("(^|\\s)"+i+"(\\s|$)").test(o))};return a(r,n)||(r.className+=(r.className?" ":"")+n),r},this.removeClassName=function(r,n){return r.className=p6.strip(r.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ")),r},this.setReadOnly=function(r){var n="abc_textarea_readonly",a=this.editarea.getElem();r?(a.setAttribute("readonly","yes"),this.addClassName(a,n)):(a.removeAttribute("readonly"),this.removeClassName(a,n))}};pt.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var e=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(e)}if(this.synth){var t=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new mM,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],t,this.synth.options)}};pt.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.redrawCallback&&this.redrawCallback(!0),this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=yM(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi(),this.redrawCallback&&this.redrawCallback(!1)}catch(e){console.error("ABCJS error: ",e),this.warnings||(this.warnings=[]),this.warnings.push(e.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};pt.prototype.paramChanged=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.abcjsParams[t]=e[t]);this.currentAbc="",this.fireChanged()};pt.prototype.getTunes=function(){return this.tunes};pt.prototype.synthParamChanged=function(e){if(this.synth){if(this.synth.options={},e)for(var t in e)e.hasOwnProperty(t)&&(this.synth.options[t]=e[t]);this.currentAbc="",this.fireChanged()}};pt.prototype.parseABC=function(){var e=this.editarea.getString();return e===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=e,!0)};pt.prototype.updateSelection=function(){var e=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(e.start,e.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(e.start,e.end)};pt.prototype.fireSelectionChanged=function(){this.updateSelection()};pt.prototype.setDirtyStyle=function(e){if(this.indicate_changed!==void 0){var t=function(s,i){var o=function(l,c){var h=l.className;return h.length>0&&(h===c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(h))};return o(s,i)||(s.className+=(s.className?" ":"")+i),s},r=function(s,i){return s.className=p6.strip(s.className.replace(new RegExp("(^|\\s+)"+i+"(\\s+|$)")," ")),s},n="abc_textarea_dirty",a=this.editarea.getElem();e?t(a,n):r(a,n)}};pt.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var e=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){e.modelChanged()},300);var t=this.isDirty();this.wasDirty!==t&&(this.wasDirty=t,this.setDirtyStyle(t)),this.onchangeCallback&&this.onchangeCallback(this)}};pt.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};pt.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};pt.prototype.highlight=function(e,t,r,n,a,s){this.editarea.setSelection(e.startChar,e.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(e.startChar,e.endChar),this.clientClickListener&&this.clientClickListener(e,t,r,n,a,s)};pt.prototype.pause=function(e){this.bIsPaused=e,e||this.fireChanged()};pt.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};pt.prototype.pauseMidi=function(e){this.midiPause=e,e||this.redrawMidi()};var xM=pt,wM=JC,bm=rk,xm=Ec,XM=ix,CM=IN,xr={};xr.signature="abcjs-basic v"+wM;Object.keys(bm).forEach(function(e){xr[e]=bm[e]});Object.keys(xm).forEach(function(e){xr[e]=xm[e]});xr.renderAbc=a6;xr.tuneMetrics=tA;xr.TimingCallbacks=Oh;var kM=va;xr.setGlyph=kM.setSymbol;xr.strTranspose=CM;var SM=s1,NM=n1,EM=a1,TM=i6,_M=l6,jM=Pc,PM=xi,AM=Ac,MM=rM,BM=c6,LM=gM,RM=d6;xr.synth={CreateSynth:SM,instrumentIndexToName:NM,pitchToNoteName:EM,SynthController:BM,SynthSequence:TM,CreateSynthControl:_M,registerAudioContext:jM,activeAudioContext:PM,supportsAudio:AM,playEvent:MM,getMidiFile:LM,sequence:XM,midiRenderer:RM};xr.Editor=xM;xr.EditArea=h6;var DM=xr;const W0=mf(DM),OM=({abcCode:e,visualOptions:t})=>{const[r]=C.useState(Math.random().toString(36).substring(2));var n;class a{onStart(){var o=document.querySelector("#paper-"+r+" svg");if(o){var l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("class","abcjs-cursor"),l.setAttributeNS(null,"x1","0"),l.setAttributeNS(null,"y1","0"),l.setAttributeNS(null,"x2","0"),l.setAttributeNS(null,"y2","0"),o.appendChild(l)}}onEvent(o){if(!(o.measureStart&&o.left===null)){for(var l=document.querySelectorAll("#paper-"+r+" svg .highlight"),c=0;c<l.length;c++)l[c].classList.remove("highlight");if(o.elements)for(var h=0;h<o.elements.length;h++)for(var u=o.elements[h],f=0;f<u.length;f++)u[f].classList.add("highlight");var p=document.querySelector("#paper-"+r+" svg .abcjs-cursor");p&&o.left&&o.top&&o.height&&(p.setAttribute("x1",`${o.left-2}`),p.setAttribute("x2",`${o.left-2}`),p.setAttribute("y1",`${o.top}`),p.setAttribute("y2",`${o.top+o.height}`))}}onFinished(){for(var o=document.querySelectorAll("#paper-"+r+" svg .highlight"),l=0;l<o.length;l++)o[l].classList.remove("highlight");var c=document.querySelector("#paper-"+r+" svg .abcjs-cursor");c&&(c.setAttribute("x1","0"),c.setAttribute("x2","0"),c.setAttribute("y1","0"),c.setAttribute("y2","0"))}}const s=new a;return C.useEffect(()=>{if(n=W0.renderAbc("paper-"+r,e,{add_classes:!0,wrap:{minSpacing:1.8,maxSpacing:2.7,preferredMeasuresPerLine:4},responsive:"resize"}),W0.synth.supportsAudio()){var i={displayLoop:!1,displayRestart:!0,displayPlay:!0,displayProgress:!1,displayWarp:!0},o=new W0.synth.SynthController;o.load("#audio-"+r,s,i),o.disable(!0);var l=new W0.synth.CreateSynth;l.init({visualObj:n[0],options:{}}).then(function(){o.setTune(n[0],!0,{drum:"dddd 76 77 77 77 20 20 20 20",drumIntro:0}).then(function(c){var h=document.querySelector(".abcjs-inline-audio");h&&h.classList.remove("disabled"),o.toggleLoop()})})}else console.log("audio is not supported on this browser");return()=>{o.pause()}}),d.jsxs("div",{children:[d.jsx("div",{id:"paper-"+r}),d.jsx("div",{id:"audio-"+r})]})};function IM({lesson:e}){const t=Object.keys(e.excercises)[0]||"Excercise",[r,n]=C.useState(t);C.useEffect(()=>{const s=Object.keys(e.excercises)[0];s&&!e.excercises[r]&&n(s)},[e,r]);const a=e.excercises[r];return a?d.jsxs(d.Fragment,{children:[d.jsx(qb,{}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsxs(ye,{children:[d.jsx(be,{className:"street-text text-2xl",children:e.name}),d.jsx("p",{className:"text-xl text-gray-300",children:e.description})]}),d.jsxs(ue,{className:"space-y-6 px-2 sm:px-4",children:[d.jsx("div",{children:d.jsxs(Oa,{value:r,onValueChange:n,children:[d.jsx(aa,{className:"w-full md:w-64 bg-black border-gray-600 text-white",children:d.jsx(Ia,{placeholder:"Select a pattern"})}),d.jsx(sa,{className:"bg-gray-800 border-gray-600",children:Object.keys(e.excercises).map(s=>d.jsx(Tt,{value:s,className:"text-white hover:bg-gray-700",children:s},s))})]})}),d.jsx("p",{className:"text-gray-300",children:a.description}),d.jsx(OM,{abcCode:a.abcCode,visualOptions:{}})]})]})]}):null}const wm=[{name:"Lesson 1",description:"Basic rhythm - 1 note on each beat.",excercises:{"Excercise 1":{description:"Practice at different speeds to really lock in with the metronome. Pay atention to the accented notes.",abcCode:`X:1
M:4/4
L:1/4
Q: 120
V:1 perc stafflines=1
%%percmap B  acoustic-snare
%%percmap ^B side-stick x
K:perc
!ppp!|: "R"LB"L"B"R"B"L"B | "R"LB"L"B"R"B"L"B | "R"LB"L"B"R"B"L"B | "R"LB"L"B"R"B"L"B :|
|: "R"B"L"LB"R"B"L"B | "R"B"L"LB"R"B"L"B | "R"B"L"LB"R"B"L"B | "R"B"L"LB"R"B"L"B :|
|: "R"B"L"B"R"LB"L"B | "R"B"L"B"R"LB"L"B | "R"B"L"B"R"LB"L"B | "R"B"L"B"R"LB"L"B :|
|: "R"B"L"B"R"B"L"LB | "R"B"L"B"R"B"L"LB | "R"B"L"B"R"B"L"LB | "R"B"L"B"R"B"L"LB :|`},"Excercise 2 - reverse sticking":{description:"Now try leading with your other hand.",abcCode:`X:1
M:4/4
L:1/4
Q: 120
V:1 perc stafflines=1
%%percmap B  acoustic-snare
%%percmap ^B side-stick x
K:perc
!ppp!|: "L"LB"R"B"L"B"R"B | "L"LB"R"B"L"B"R"B | "L"LB"R"B"L"B"R"B | "L"LB"R"B"L"B"R"B :|
|: "L"B"R"LB"L"B"R"B | "L"B"R"LB"L"B"R"B | "L"B"R"LB"L"B"R"B | "L"B"R"LB"L"B"R"B :|
|: "L"B"R"B"L"LB"R"B | "L"B"R"B"L"LB"R"B | "L"B"R"B"L"LB"R"B | "L"B"R"B"L"LB"R"B :|
|: "L"B"R"B"L"B"R"LB | "L"B"R"B"L"B"R"LB | "L"B"R"B"L"B"R"LB | "L"B"R"B"L"B"R"LB :|`}}},{name:"Lesson 5",description:"Subdivision",excercises:{"Excercise 1":{description:"Focus on evenly dividing the beat in 2/3/4/6. Pay at differen speeds - it is especially hard to play slowly and accurately! Alternate R/L sticks and practice starting on each hand. Don't worry abou accents at first, but when you are comfortable experiment with your own accents.",abcCode:`X:1
M:4/4
L:1/16
Q: 90
V:1 perc stafflines=1
%%percmap B  acoustic-snare
%%percmap ^B side-stick x
K:perc
!ppp!|: "R"B4"L"LB4"R"B4"L"LB4 | "R"B2"L"LB2"..."B2LB2 B2LB2B2LB2 | (3B2B2LB2 (3B2B2LB2 (3B2B2LB2 (3B2B2LB2 |
 BBLBB BBLBB BBLBB BBLBB |
 (6:4LBBBBBB (6:4LBBBBBB (6:4LBBBBBB (6:4LBBBBBB :|`},"Excercise 2":{description:"A short solo figure. Notice while the beat is subdivided in 4, accents are every 3 notes creating a syncopated feel. Again play each note with alternating sticks.",abcCode:`X:1
M:4/4
L:1/16
Q: 90
V:1 perc stafflines=1
%%percmap B  acoustic-snare
%%percmap ^B side-stick x
K:perc
!ppp!|: LBBBLB BBLBB BLBBB LB/2B/2B/2B/2BB :|`},"Excercise 3":{description:'This excercise introduces several new features. We start with a "pick up" - the first 2 notes are before the bar. The notes with a cross head are "rim shots", if you have a practice pad with a rim try hitting both the pad and the rim at the same time for these. The last 8 notes are a "paradiddle" - where there are 2 notes with the same stick next to each other let the stick bounce but make sure to keep in time. Again it is useful to practice this slowly and aim to be precise with the metronome!',abcCode:`X:1
M:4/4
L:1/16
Q: 90
V:1 perc stafflines=1
%%percmap B  acoustic-snare
%%percmap ^B side-stick x
K:perc
!ppp! z8 z4 z2 BB|: LB2BB L^B2BB LB2BB L^B2BB | LB2BB L^B2BB "R"B"L"B"R"B"R"B "L"B"R"B"L"B"L"B:|`}}}];function FM(){const[e,t]=C.useState(wm[0]);return d.jsx("div",{className:"min-h-screen bg-black",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-3 lg:px-4 py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-4xl md:text-5xl mb-4",children:"Technique"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Learn drumming fundamentals"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"street-text text-xl",children:"Select Lesson"})}),d.jsx(ue,{className:"space-y-2 max-h-96 overflow-y-auto",children:wm.map(r=>d.jsx("button",{onClick:()=>t(r),className:`w-full text-left p-3 rounded-lg transition-colors ${e.name===r.name?"bg-red-600 border-2 border-red-500":"bg-black hover:bg-gray-700"}`,children:d.jsx("div",{className:"font-semibold",children:r.displayName||r.name})},r.name))})]})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsx(IM,{lesson:e})})]})]})})}function zM({}){const[e,t]=C.useState(4),[r,n]=C.useState(!1),[a,s]=C.useState(0),[i,o]=C.useState(0),[l,c]=C.useState(!1),[h,u]=C.useState(0),[f,p]=C.useState(4),[g,m]=C.useState(.3),v=C.useRef(null),y=C.useRef(null),b=C.useRef(null),w=C.useRef(null),x=C.useCallback(()=>(b.current||(b.current=new(window.AudioContext||window.webkitAudioContext)),b.current),[]),X=C.useCallback((P=!1)=>{const O=x();O.state==="suspended"&&O.resume();const L=O.createOscillator(),_=O.createGain();L.connect(_),_.connect(O.destination),L.frequency.setValueAtTime(P?800:400,O.currentTime),L.type="sine",_.gain.setValueAtTime(0,O.currentTime),_.gain.linearRampToValueAtTime(P?.15:.1,O.currentTime+.01),_.gain.exponentialRampToValueAtTime(.001,O.currentTime+.2),L.start(O.currentTime),L.stop(O.currentTime+.2)},[x]),k=C.useCallback(P=>{if(g===0)return;const O=x();O.state==="suspended"&&O.resume();const L=O.createOscillator(),_=O.createGain();L.connect(_),_.connect(O.destination),L.frequency.value=P===0?1200:600,L.type="square",_.gain.setValueAtTime(0,O.currentTime),_.gain.linearRampToValueAtTime(g*.15,O.currentTime+.005),_.gain.exponentialRampToValueAtTime(.001,O.currentTime+.05),L.start(O.currentTime),L.stop(O.currentTime+.05)},[x,g]),N=C.useCallback(()=>{if(v.current||y.current)return;n(!0),s(0),o(0),X(!0);let P=0,O=0;const L=2e3/e,_=500;v.current=setInterval(()=>{P=(P+1)%e,s(P),X(P===0)},L),y.current=setInterval(()=>{O=(O+1)%4,o(O),k(O)},_)},[e,X,k]),T=C.useCallback(()=>{v.current&&(clearInterval(v.current),v.current=null),y.current&&(clearInterval(y.current),y.current=null),n(!1),s(0),o(0)},[]),E=C.useCallback(()=>{T(),t(4)},[T]),M=C.useCallback(P=>{P.preventDefault(),P.stopPropagation();const O="touches"in P?P.touches[0].clientX:P.clientX;c(!0),u(O),p(e),T()},[e,T]),D=C.useCallback(P=>{if(!l||!w.current)return;P.preventDefault();const L=("touches"in P?P.touches[0].clientX:P.clientX)-h,_=w.current.offsetWidth-40,S=Math.round(L/_*9),A=Math.max(1,Math.min(10,f+S));t(A)},[l,h,f]),j=C.useCallback(()=>{c(!1)},[]);C.useEffect(()=>{if(l)return document.addEventListener("mousemove",D),document.addEventListener("mouseup",j),document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",j),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",j),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",j)}},[l,D,j]),C.useEffect(()=>()=>{T(),b.current&&b.current.state!=="closed"&&b.current.close()},[T]);const R=Array.from({length:e},(P,O)=>d.jsx("div",{className:`w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center text-white font-bold text-sm sm:text-lg transition-all duration-150 ${a===O&&r?O===0?"bg-red-500 shadow-lg shadow-red-500/50 scale-110":"bg-green-500 shadow-lg shadow-green-500/50 scale-110":O===0?"bg-red-600/70":"bg-gray-600"}`,children:O+1},O));return d.jsxs(ce,{className:"bg-gray-800 border-gray-700 mt-8",children:[d.jsxs(ye,{children:[d.jsx(be,{className:"text-xl text-red-400",children:"Interactive Time Signature Tool"}),d.jsx("p",{className:"text-gray-400 text-sm",children:"Drag to adjust beats per bar (1-10) and hear different time signatures"})]}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[d.jsxs("div",{className:"space-y-4 w-full max-w-full",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[d.jsx("span",{children:"1 beat"}),d.jsxs("span",{className:"text-white font-bold",children:[e,"/4 Time Signature"]}),d.jsx("span",{children:"10 beats"})]}),d.jsxs("div",{ref:w,className:"relative h-8 bg-gray-700 rounded-full cursor-pointer touch-none",onMouseDown:M,onTouchStart:M,children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-green-600 rounded-full opacity-30"}),d.jsx("div",{className:`absolute top-1 w-6 h-6 bg-red-500 rounded-full shadow-lg transition-all duration-150 ${l?"scale-110":""}`,style:{left:`${(e-1)/9*94}%`,cursor:l?"grabbing":"grab"}})]})]}),d.jsxs("div",{className:"bg-black p-6 rounded-lg border border-gray-600",children:[d.jsxs("div",{className:"mb-6 p-4 bg-gray-900 rounded border border-gray-700",children:[d.jsx("p",{className:"text-center text-gray-500 text-xs mb-3",children:"Background 4/4 Reference (Constant Tempo)"}),d.jsx("div",{className:"flex justify-center items-center gap-3",children:Array.from({length:4},(P,O)=>d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs transition-all duration-100 ${i===O&&r?"bg-gray-500 text-white scale-105":"bg-gray-700 text-gray-500"}`,children:O+1},O))})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-center text-gray-400 text-sm mb-4",children:[e,"/4 Time Signature"]}),d.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-4 justify-center items-center min-h-[60px] sm:min-h-[80px]",children:R}),d.jsx("div",{className:"text-center mt-4 text-gray-400 text-sm",children:r?`Playing ${e} beats over 2 seconds`:`${e} beats per bar`})]})]}),d.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("label",{className:"text-sm text-gray-300 min-w-[120px]",children:"Metronome Volume:"}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:g,onChange:P=>m(parseFloat(P.target.value)),className:"flex-1 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer slider"}),d.jsxs("span",{className:"text-sm text-gray-400 min-w-[30px] text-right",children:[Math.round(g*100),"%"]})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Background count to help hear how the time signatures fit together"})]}),d.jsxs("div",{className:"flex gap-3 justify-center",children:[d.jsx(Ze,{onClick:r?T:N,className:`${r?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,children:r?d.jsxs(d.Fragment,{children:[d.jsx(cc,{className:"h-4 w-4 mr-2"}),"Stop"]}):d.jsxs(d.Fragment,{children:[d.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Play 4 Bars"]})}),d.jsxs(Ze,{onClick:E,variant:"outline",className:"border-gray-600 hover:bg-gray-700",children:[d.jsx(h3,{className:"h-4 w-4 mr-2"}),"Reset to 4/4"]})]}),d.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[d.jsx("p",{children:"Red circle = strong beat (1), others = weaker beats"}),d.jsx("p",{children:"Higher pitch = beat 1, lower pitch = other beats"}),d.jsx("p",{children:"Metronome clicks help you hear how the patterns line up"})]})]})})]})}function $M(){return d.jsx("div",{className:"min-h-screen bg-black overflow-x-hidden",children:d.jsxs("div",{className:"max-w-6xl mx-auto px-2 sm:px-3 lg:px-4 py-8 sm:py-16",children:[d.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-3xl sm:text-4xl md:text-5xl mb-4",children:"Theory"}),d.jsx("p",{className:"text-lg sm:text-xl text-gray-300",children:"Playing with the chants, not over them"})]}),d.jsxs("section",{className:"mb-12",children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Rhythm Fundamentals"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(jw,{className:"h-6 w-6 text-red-500"}),"Time Signature: 4/4"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"What it means:"})," 4 beats per bar, quarter note gets the beat"]}),d.jsxs("div",{className:"bg-black p-4 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-lg font-mono text-white mb-2",children:"4/4 Time"}),d.jsxs("div",{className:"flex justify-center items-center gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-1",children:"1"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Strong"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-1",children:"2"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Weak"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold mb-1",children:"3"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Medium"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-1",children:"4"}),d.jsx("p",{className:"text-xs text-gray-400",children:"Weak"})]})]})]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Why 4/4?"})," This time signature matches natural speech rhythms and is easy for groups to follow."]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Dd,{className:"h-6 w-6 text-red-500"}),"Bars & Counts"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Bar (Measure):"})," A complete cycle of 4 beats"]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Count:"})," Each individual beat within the bar (1, 2, 3, 4)"]}),d.jsxs("div",{className:"bg-black p-4 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-white font-mono mb-3",children:"One Complete Bar"}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-red-500 font-bold",children:"|"}),d.jsx("span",{className:"text-white",children:"1"}),d.jsx("span",{className:"text-white",children:"2"}),d.jsx("span",{className:"text-white",children:"3"}),d.jsx("span",{className:"text-white",children:"4"}),d.jsx("span",{className:"text-red-500 font-bold",children:"|"})]})]}),d.jsxs("p",{className:"text-yellow-400 text-sm",children:[d.jsx("strong",{children:"Pattern Loops:"})," Most rhythm patterns repeat every 1-2 bars, making them easy to learn and maintain."]})]})})]})]}),d.jsx(zM,{})]}),d.jsxs("section",{className:"mb-12",children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Rhythm Examples in 4/4 Time"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Basic Quarter Note Pattern"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-black p-6 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-gray-400 mb-4",children:"One Beat Per Count"}),d.jsxs("div",{className:"flex justify-center items-center gap-8 mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2 animate-pulse",children:"1"}),d.jsx("p",{className:"text-red-400 font-bold",children:"BEAT"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-2 animate-pulse",style:{animationDelay:"0.25s"},children:"2"}),d.jsx("p",{className:"text-gray-400 font-bold",children:"BEAT"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold mb-2 animate-pulse",style:{animationDelay:"0.5s"},children:"3"}),d.jsx("p",{className:"text-gray-400 font-bold",children:"BEAT"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-2 animate-pulse",style:{animationDelay:"0.75s"},children:"4"}),d.jsx("p",{className:"text-gray-400 font-bold",children:"BEAT"})]})]}),d.jsx("p",{className:"text-center text-gray-400 text-sm",children:"Equal emphasis on every beat"})]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Application:"})," Foundation pattern for learning timing. Strong beat 1 provides rhythmic anchor."]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:"Strong Beat Emphasis"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-black p-6 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-gray-400 mb-4",children:"Accent on Beats 1 & 3"}),d.jsxs("div",{className:"flex justify-center items-center gap-8 mb-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-red-400 font-bold",children:"STRONG"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-gray-400",children:"weak"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-red-400 font-bold",children:"STRONG"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-gray-400",children:"weak"})]})]}),d.jsx("p",{className:"text-center text-gray-400 text-sm",children:"Natural rhythm emphasis pattern"})]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Application:"})," Common pattern in many musical styles. Helps establish rhythmic drive and groove."]})]})})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Common Protest Chants - Rhythm Analysis"}),d.jsxs("div",{className:"mb-6 bg-gray-900 border-red-500 border p-4 rounded",children:[d.jsx("p",{className:"text-red-400 font-bold mb-2",children:"Educational Purpose"}),d.jsx("p",{className:"text-gray-300 text-sm",children:"These examples show how protest chants naturally fit into 4/4 time signatures. Understanding these rhythms helps drummers provide proper support without overpowering the voices."})]}),d.jsxs("div",{className:"grid gap-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:'"1, 2, 3, 4 - Occupation No More"'})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-black p-6 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-gray-400 mb-4",children:"Two-Bar Pattern"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-center text-white mb-2",children:"Bar 1"}),d.jsxs("div",{className:"flex justify-center items-center gap-8 mb-2",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-yellow-400 font-bold",children:"ONE"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-yellow-400 font-bold",children:"TWO"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-yellow-400 font-bold",children:"THREE"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-yellow-400 font-bold",children:"FOUR"})]})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-center text-white mb-2",children:"Bar 2"}),d.jsxs("div",{className:"flex justify-center items-center gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-red-400 font-bold",children:"OC-CU-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-red-400 font-bold",children:"-PA-TION"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-red-400 font-bold",children:"NO"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-red-400 font-bold",children:"MORE"})]})]})]})]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Teaching Tool:"})," This chant teaches counting while building solidarity. The numbers establish the beat, then the message reinforces it."]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:'"From the River to the Sea"'})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-black p-6 rounded border border-gray-600",children:[d.jsx("p",{className:"text-center text-gray-400 mb-4",children:"Two-Bar Pattern"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-center text-white mb-2",children:"Bar 1"}),d.jsxs("div",{className:"flex justify-center items-center gap-8 mb-2",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-green-400 font-bold",children:"FROM"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-green-400 font-bold",children:"THE"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-green-400 font-bold",children:"RI-VER"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-green-400 font-bold",children:"TO THE SEA"})]})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-center text-white mb-2",children:"Bar 2"}),d.jsxs("div",{className:"flex justify-center items-center gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-red-400 font-bold",children:"PAL-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-red-400 font-bold",children:"-ES-TINE"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-black font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-white font-bold",children:"WILL"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-black font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-white font-bold",children:"BE FREE"})]})]})]})]}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Two-Bar Structure:"})," This chant flows naturally over two bars, with strong emphasis on key words and natural pauses for drum support."]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-xl",children:'"Intifada, Intifada"'})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-black p-6 rounded border border-gray-600",children:d.jsxs("div",{className:"flex justify-center items-center gap-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"1"}),d.jsx("p",{className:"text-purple-400 font-bold",children:"IN-TI-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"2"}),d.jsx("p",{className:"text-purple-400 font-bold",children:"-FA-DA"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"3"}),d.jsx("p",{className:"text-purple-400 font-bold",children:"IN-TI-"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center text-white font-bold mb-2",children:"4"}),d.jsx("p",{className:"text-purple-400 font-bold",children:"-FA-DA"})]})]})}),d.jsxs("p",{className:"text-gray-300 text-sm",children:[d.jsx("strong",{children:"Repetitive Power:"})," The repeated word creates hypnotic rhythm that's easy to maintain and builds collective energy."]})]})})]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"Supporting the Chants"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Sp,{className:"h-6 w-6 text-red-500"}),"Playing Around the Voices"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Count with the Chant:"})," Master the 4/4 timing to stay perfectly in sync"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Find the Gaps:"})," Play between vocal lines, not over them"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Support, Don't Lead:"})," Follow the crowd's energy and tempo"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Listen First:"})," Hear the natural rhythm before adding drums"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Volume Awareness:"})," Adjust dynamics to complement, never overpower"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Eo,{className:"h-6 w-6 text-red-500"}),"Building Solidarity Through Rhythm"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Tempo Unity:"})," Keep steady time to help the crowd stay together"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Strategic Silence:"})," Know when to stop playing for maximum impact"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Call and Response:"})," Create space for crowd participation"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Cultural Respect:"})," Honor the musical traditions of protest movements"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Inclusive Playing:"})," Ensure everyone can follow and join in"]})]})})]})]}),d.jsxs(ce,{className:"bg-gray-900 border-red-500 mt-8",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-red-400",children:"Key Principles: Supporting Not Drowning"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Count with the Crowd:"})," Master 4/4 timing to play perfectly in sync with chants"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Listen Before Playing:"})," Hear the natural rhythm of voices before adding drums"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Fill the Spaces:"})," Play between vocal lines, during pauses, never over the words"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Support the Tempo:"})," Help the crowd stay together without overpowering them"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Dynamic Awareness:"})," Adjust volume and intensity to complement, not compete"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Unity First:"})," Every beat should strengthen solidarity, not showcase individual skill"]})]})})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"street-text text-2xl sm:text-3xl font-bold mb-8 text-red-500",children:"General Ensemble Playing"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Sp,{className:"h-6 w-6 text-red-500"}),"Playing with Others"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Listen First:"})," Hear what others are playing before adding your part"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Find Your Space:"})," Play between other parts, not over them"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Follow the Leader:"})," Watch for conductor signals and tempo changes"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dynamic Awareness:"})," Adjust volume to fit the overall sound"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Timing Unity:"})," Stay locked in with the group rhythm"]})]})})]}),d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsxs(be,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Eo,{className:"h-6 w-6 text-red-500"}),"Building Musical Unity"]})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Steady Tempo:"})," Help the group stay together with consistent timing"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Strategic Silence:"})," Know when to rest for maximum impact"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Call and Response:"})," Create space for musical conversation"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Support Others:"})," Your role is to make the group sound better"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Stay Connected:"})," Maintain eye contact and awareness"]})]})})]})]}),d.jsxs(ce,{className:"bg-gray-900 border-red-500 mt-8",children:[d.jsx(ye,{children:d.jsx(be,{className:"text-red-400",children:"Key Principles: Playing Together"})}),d.jsx(ue,{children:d.jsxs("div",{className:"space-y-3 text-gray-300 text-sm",children:[d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Listen Actively:"})," Always be aware of what others are playing"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Serve the Music:"})," Your individual part serves the overall sound"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Timing is Everything:"})," Good time-keeping is more important than complex patterns"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Volume Control:"})," Blend with the group, don't dominate"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Visual Awareness:"})," Watch for cues and changes from leaders"]}),d.jsxs("p",{children:[" ",d.jsx("strong",{children:"Musical Conversation:"})," Leave space for others to be heard"]})]})})]})]})]})})}const Xm=[{name:"Wolf",displayName:"Wolf",categories:["new","tricky"],speed:120,time:4,description:"A complex rhythm representing the cunning nature of the Big Bad Wolf.",patterns:{Tune:{loop:!0,ls:"X XXX   XXXXX   X XXX   X   X   ",ms:"      XX      XX      XXXXXXXXXX",hs:"@ms",re:"X  XX r X X X rrX  XX r  XXXX rr",sn:"f.X...X...X...X.f.X...X...X...X.",ta:"X X     X X     XX XXX XX       ",ag:"o ooo a   a   a o ooo a   a   a",sh:"X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.",mnemonics:{ls:"Here comes the wolf, ve-ry sca-ry wolf Here comes the Big Bad Wolf",ms:"And huff And puff Wolf will blow your li-ttle pi-ggy house down",re:"No-one told the Big Bad Wolf Li-ttle Red Ri-ding Hood was like as hard as nails",sn:"Grr . the . . . Big . . . Bad . . . Wolf . Grr . the . . . Big . . . Bad . . . Wolf .",ta:"Big Bad Wolf is hu-ffing and pu-ffing real tough",ag:"Pi-ggies aren't scared of the wolf Pi-ggies aren't scared of the wolf"}},"Alt Repi":{loop:!0,re:"X  XX  XX X X   XXXXX  XX X X   X  XX  XX X X   XXXXX  XX       ",sh:"X   .   .   .   X   .   .   .   ",mnemonics:{re:"Here he comes, the Big Bad Wolf Ve-ry sca-ry guy, the Big Bad Wolf Here he comes, the Big Bad Wolf Ve-ry sca-ry guy, the wolf"}},"Alt Tam":{loop:!0,ta:"X X     X X     XX XXX XX       X XX XX X X X X XX XXX XX       ",sh:"X   .   .   .   X   .   .   .   ",mnemonics:{ta:"Big Bad Wolf is hu-ffing and pu-ffing real tough Dressed up like your nan, come in close so Wol-fie can go-bble you up"}},"Break 1":{upbeat:1,ls:"XX X X X X       ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls",ot:"           E D   ",mnemonics:{ls:"No we're not scared at all",ot:"Ah Woo!"}},"Break 2":{loop:!0,ls:"XXXXXXXXX  X XXXX     XXX       ",ms:"@ls",hs:"@ls",sh:"X   .   .   .   X   .   .   .   ",mnemonics:{ls:"Li-ttle pi-ggies got rid of the wolf, So did Li-ttle Red With an axe"}},"Tune Break 2":{displayName:"Tune (Surdos Break 2)",loop:!0,ls:"XXXXXXXXX  X XXXX     XXX       ",ms:"@ls",hs:"@ls",re:"X XX  r X X X rrX XX  r  X XX rr",sn:"f.X...X...X...X.f.X...X...X...X.",ta:"X X     X X     XX XXX XX       ",ag:"o ooo a   a   a o ooo a   a   a",sh:"X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.X."}}},{name:"Afoxe",displayName:"Afox",categories:["common","medium"],speed:120,description:"A rhythm for shaving and grooming themes with intricate repi patterns.",patterns:{Tune:{loop:!0,ls:"s   s   s   s   s   s   X   X   ",ms:"0     X 0     X 0     X X X X X ",hs:"@ms",re:"f  hs r f  hs r f  hs r s r s r ",sn:"X...X..XX..X....X...X..XX..X....",ta:"X X X X XX XX X X X X X XX XX X ",ag:"a a o o aa o oo a a o o aa o oo ",sh:"................................",mnemonics:{ls:"I'm so sick of all this stu-bble",ms:"If you want a shave then grab a to-wel",re:"Sha-ving cream please, Sha-ving cream please, Sha-ving cream please, Cream please cream please",sn:"Don't . . . scratch . . my face, . . please . . . . Don't . . . scratch . . my face, . . please . . . .",ta:"Spent all e-vening sha-ving my arm-pits Spent all e-vening sha-ving my arm-pits",ag:"Spent all e-vening sha-ving both my legs Spent all e-vening sha-ving both my legs"}},"Alt Repi":{loop:!0,re:"X X XX XXX X    ",sh:"X   .   .   .   ",mnemonics:{re:"It-chy stu-bble, there's no-thing worse"}},"Break 1":{ls:"X       X       X       X XXXXX ",ms:"@ls",hs:"@ls",re:"   XXXX    XXXX    XXXX X XXXXX ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",mnemonics:{ls:"Hey Hey Hey Looks like you've had a shave",re:"You've had a shave You've had a shave You've had a shave Looks like you've had a shave"}}}},{name:"Angela Davis",displayName:"Angela Davis",categories:["common","medium"],speed:120,description:"A rhythm about squirrels and nuts with playful patterns.",patterns:{Tune:{loop:!0,ls:"X X r  rXrX r   ",ms:"XXXXXXXXX       ",hs:"            XXXX",re:"f   f   f  XXX  ",sn:"....X.......X...",ta:"X   X  XXX  X   ",ag:"  o a   oa  a   ",sh:"................",mnemonics:{ls:"Did a squi-rrel ask you for nuts?",ms:"I thought squi-rrels went for a-corns more",hs:"We like pea-nuts",re:"Pea-nuts for a squi-rrel",ta:"Who gives a squi-rrel nuts?",ag:"Oh my, squi-rrels fly?"}},"Break 1":{upbeat:1,ls:"XX X X X X X X X ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"So give a pea-nut to a squi-rrel"}},"Break 2":{ls:"X             X X             X X              XX X X X X X X X ",ms:"@ls",hs:"@ls",re:"  XXX XX XX X     XXX XX XX X     XXX XX XX X  XX X X X X X X X ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",mnemonics:{ls:"Yes They do They do So give a pea-nut to a squi-rrel",re:"Squir-rels hide their nuts in the ground Squir-rels hide their nuts in the ground Squir-rels hide their nuts in the ground So give a pea-nut to a squi-rrel"}}}},{name:"Bhangra",displayName:"Bhangra",categories:["core","onesurdo","medium"],speed:120,time:3,description:"A danceable rhythm with swing and energy.",patterns:{Tune:{loop:!0,ls:"X       XX  X       XX  X       XX  X    X   X  ",ms:"@ls",hs:"@ls",re:"X zX zX zX zX zX zX zX zX zX zX zX zXXXX  XXXX  ",sn:"X..X..X..X..X..X..X..X..X..X..X..X..XXXX  XXXX",ta:"X XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX X",ag:"aaaa  oooo              aaaa  oooo              ",sh:"X..X..X..X..X..X..X..X..X..X..X..X..X..X..X..X..",mnemonics:{ls:"Swing your drum Swing your drum Swing your drum side to side",re:"Ban-ger ban-ger ban-ger ban-ger Ban-ger ban-ger ban-ger ban-ger Ban-ger ban-ger ban-ger ban-ger Danc-ing a lot, like it or not",sn:"1 . . 2 . . 3 . . 4 . . 1 . . 2 . . 3 . . 4 . . 1 . . 2 . . 3 . . 4 . . Dan-cing a lot, like it or not",ta:"Ban-ger ban-ger ban-ger ban-ger Ban-ger ban-ger ban-ger ban-ger Ban-ger ban-ger ban-ger ban-ger Ban-ger ban-ger ban-ger ban-ger",ag:"Dan-cing a lot, like it or not Dan-cing a lot, like it or not"}},"Break 1":{upbeat:4,ls:"XX  X XX X  XX  X       XX  X XX X  XX  X       XX  X XX X  XX  X       XX  X    X   X  XXXX  XXXX  ",ms:"@ls",hs:"@ls",re:"                   X  X                    X  X                    X  X                 XXXX  XXXX  ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",mnemonics:{ls:"'Cos the swing on this beat is so cool You'll be dan-cing a-round like a fool 'Cos the swing on this beat is so cool 'Cos it's a ban-ger Dan-cing a lot, like it or not",re:"That's right That's right That's right Dan-cing a lot, like it or not"}}}},{name:"Core Breaks",displayName:"Core Breaks",categories:["breaks","onesurdo","easy","medium","tricky"],speed:120,description:"Essential breaks and patterns for building rhythms.",patterns:{"Whistle in":{ot:"y       y       y   y   y   y   "},Silence:{ls:"                "},"4 Hits":{ls:"X   X   X   X   ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls"},Clave:{ls:"X  X  X   X X   ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"Shut the sy-stem down"}},"Karla Break":{ls:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX               ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"X X X X X X X X X X X X X X X X X X X X X X X X X",ag:"@ta",sh:"@ls",volumeHack:{0:.2,16:.4,32:.7,48:1}}}},{name:"Custard",displayName:"Custard",categories:["common","medium"],speed:120,description:"A playful rhythm about custard in unusual places.",patterns:{Tune:{loop:!0,ls:"0   X   0   X X ",ms:"X   0   X   0   ",hs:"X X 0   XX X0   ",re:"  XX  XX  XX  XX",sn:"X.X.X..X.X..X...",ta:"X X XX X X X XX ",ag:"a a oo a a o oo ",sh:"................",mnemonics:{ls:"I quite like cu-stard",ms:"Cu-stard par-ty",hs:"Cu-stard thanks, Right in my pants",re:"Can I Get a Bit of Cu-stard?",sn:"Stop . wea . ring . . cu . stard? . . Nah . . .",ta:"I've got cu-stard in my un-der-pants",ag:"I've got cu-stard in my un-der-pants"}},"Break 1":{ls:"X X XX          X X XX          X X XX          X X XX X X X XX ",ms:"@ls",hs:"@ls",re:"       X X X XX        X X X XX        X X X XX X X XX X X X XX ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",mnemonics:{ls:"I've got cu-stard I've got cu-stard I've got cu-stard I've got cu-stard in my un-der-pants",re:"In my un-der-pants In my un-der-pants In my un-der-pants I've got cu-stard in my un-der-pants"}}}},{name:"Drum-Bass",displayName:"Drum & Bass",categories:["new","medium"],speed:120,description:"An electronic-influenced rhythm with bass drops and DJ themes.",patterns:{Tune:{loop:!0,ls:"X         X  X  X         X     X         X  X  X         X     ",ms:"    X XXXX  X       X XXXX  X       X XXXX  X       X XXXX  X   ",hs:"    X XXXX  X       X XXXX  X       X XXXX  X       X XXXX  X   ",re:"    X  X X XX XX    X       X       X  X X XX XX    X       X   ",sn:"....X..X....X.......X..X....X   ....X..X....X...X.X.X.X.X.X.X.X.",ta:"    X     X X       X   X X X       X     X X       X   X X X   ",ag:"o ao ao a       o ao ao a       o ao ao a       o ao ao a       ",sh:"................................................................",mnemonics:{ls:"Drum, drum and bass, bass Up in your face, face",ms:"Dance, yeah I love it, dance Dance, yeah I love it, dance Dance, yeah I love it, dance Dance, yeah I love it, dance",re:"This M-C can rock the mic, Mic drop This M-C can rock the mic, Mic drop",sn:". . . . Drum . . and . . . . bass . . . . . . . Drum . . and . . . . stop . . . . Drum . . and . . . . bass . . . This . goes . out . to . all . the . D . Js .",ta:"The D-J plays bang-in' tunes The D-J plays bang-in' tunes",ag:"Drum and bass is so cool Drum and bass is so cool Drum and bass is so cool Drum and bass is so cool"}},"Break 2":{ls:"X  X X  X  X X  X  X X          ",ms:"@ls",hs:"@ls",re:"  X   X   X   X   X   X XXXX    ",sn:"@re",ta:"  X   X   X   X   X   X         ",ag:"@ta",sh:"@ta",mnemonics:{ls:"Get drum and Get drum and Get drum and",re:"some bass some bass some bass Right in your face",ta:"some bass some bass some bass"}}}},{name:"Funk",displayName:"Funk",categories:["core","easy"],speed:120,description:"A groovy rhythm about potatoes and cooking preferences.",patterns:{Tune:{loop:!0,ls:"X  X  X X X     X  X  X X       ",ms:"    X       X X     X     X X   ",hs:"@ms",re:"f  hf  hf  hf  hf  hf  hf  hXhrh",sn:"....X.......X.......X.......X...",ta:"@ms",ag:"o  a  o   a a a o  a  o   a a a ",sh:"X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.",mnemonics:{ls:"I like po-ta-toes, I like them mashed",ms:"Oh, do you? 'Cos I don't",re:"Mash is fine, but Mash is fine, but Mash is fine, but Chips are clea-rly be-tter",ag:"I like hash browns be-tter I like hash browns be-tter"}},"Alt Repi":{loop:!0,re:"  X   X XXXXX X   X   X X XX XX ",sh:"X   .   .   .   X   .   .   .   ",mnemonics:{re:"I don't want to come off pi-cky, But you can't beat sa-lty chips"}},"Break 1":{ls:"X X     X X   X X X     X       X X     X X   X X X     X       ",ms:"@ls",hs:"@ls",re:"    X X     X       X X   X   X     X X     X       X X   XXX   ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",mnemonics:{ls:"Boil them Fry them Just give us Spuds Boil them Fry them Just give us Spuds",re:"Mash them Up Give us With salt Mash them Up Give us On a plate"}}}},{name:"Hedgehog",displayName:"Hedgehog",categories:["core","easy"],speed:120,description:"A simple, cute rhythm about hedgehogs.",patterns:{Tune:{loop:!0,ls:"s  X    s  X    s  X    X X X X ",ms:"      XX      XX      XX      XX",hs:"   X  X    X  X    X  X   X   X ",re:"r  X  X r  X  X r  X  X r X r X ",sn:"X..X..X.X..X..X.X..X..X.X...X...",ta:"X  X    X  X    X  X    X X X   ",ag:"o  a  a o  a  a o  a  a o a o a ",sh:"................................",mnemonics:{ls:"Hedge-hog Hedge-hog Hedge-hog I'm a hedge-hog",ms:"I'm a hedge-hog I'm a hedge-hog",hs:"Hedge-hog Hedge-hog Hedge-hog A hog",re:"1 hedge-hog, 2 hedge-hog, 3 hedge-hog I'm a hedge-hog",sn:"Hedge . . hog . . a . Hedge . . hog . . a . Hedge . . hog . . a . Small . . . guy . . .",ta:"Hedge-hog Hedge-hog Hedge-hog I'm a hog",ag:"1 hedge-hog, 2 hedge-hog, 3 hedge-hog I'm a hedge-hog"}},"Alt Repi":{loop:!0,re:"  XX XXX  XX XXX  XX XXX  XX  XX",sh:"X   .   .   .   X   .   .   .   ",mnemonics:{re:"A ti-ny li-ttle A ti-ny li-ttle A ti-ny li-ttle Hedge-hog Hedge-hog"}}}},{name:"Jericho",displayName:"Jericho",categories:["new","tricky"],speed:120,time:3,description:"The biblical story of Joshua and the falling walls of Jericho.",patterns:{Tune:{loop:!0,ls:"X X0  X X0  X X0 X   0  X X0 X   0  X X0 X   0",ms:"   X X   X X   0     X X   0     X X   0     X X",hs:"@ms",re:"f  h Xf  h Xf  h Xf  h Xf  h Xf  h Xf  h Xh r",sn:"...X.X...X.....X.X...X.....X.X...X.....X.X..XX.X",ta:"   X     X     X X   X     X X   X     X X   X",ag:"o  a ao  a ao a  o      o a  o      o a  o",sh:"X  X .X  X .X  X .X  X .X  X .X  X .X  X .X  X .",mnemonics:{ls:"Jo-shu-a Jo-shu-a Je-ri-cho's done for Je-ri-cho's done for Je-ri-cho's done for",ms:"Trum-pets soun-ding Walls fa-lling Walls fa-lling Walls fa-lling",re:"Je-ri-cho's crum-bl-ing Je-ri-cho's crum-bl-ing Je-ri-cho's crum-bl-ing Je-ri-cho's had it",sn:". . . Those . walls . . . will . . . . . Those . walls . . . will . . . . . Those . walls . . . will . . . . . Those . walls . . will fall . down",ta:"Walls are Fall-ing down Fall-ing down Fall-ing down",ag:"Jo-shu-a laughed when the wall came down Wall came down Wall came down"}},"Break 1":{upbeat:3,ls:"X XX  X  X XX X",ms:"@ls",hs:"@ls",re:"X XX  X  X XX X     X  X  X",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"And the wall came tum-bl-ing down",re:"And the wall came tum-bl-ing down They've had it"}}}},{name:"Karla",displayName:"Karla",categories:["core","easy"],speed:120,description:"About Karla freeing rabbits from factory farms.",patterns:{Tune:{loop:!0,ls:"X     XX        X     XX        X     XX        X     XX X XX X ",ms:"    X       X       X       X       X       X       X  X X XX X ",hs:"@ms",re:"X  XX  X X XX X X  XX  X X XX X X  XX  X X XX X X  XX  X X XX X ",sn:"....X.......X.......X.......X.......X.......X.......X.......X...",ta:"    X       X       X  X X XX       X       X       X  X X XX   ",ag:"o  oa o o  oa o o  oa o o  oa o o  oa o o  oa o o  oa o o  oa o ",sh:"................................................................",mnemonics:{ls:"Ra-bbit run Ra-bbit run Ra-bbit run Ra-bbit run from the ca-ges",ms:"Run fast Run fast Run fast Run fast from the ca-ges",re:"Ka-rla said you won't be fur coats Ka-rla said you won't be fur coats Ka-rla said you won't be fur coats Ka-rla said you won't be fur coats",ta:"Ka-rla saved us from the farm Ka-rla saved us from the farm",ag:"Ha-ppy bu-nnies ha-ppy bu-nnies Ha-ppy bu-nnies ha-ppy bu-nnies Ha-ppy bu-nnies ha-ppy bu-nnies Ha-ppy bu-nnies ha-ppy bu-nnies"}},"Karla Break (Karla)":{ls:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX               ",ms:"@ls",hs:"@ls",re:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX  XX  X X XX X ",sn:"@ls",ta:"X X X X X X X X X X X X X X X X X X X X X X X X X",ag:"o o o o o o o o o o o o o o o o o o o o o o o o o",sh:"@ls",volumeHack:{0:.2,16:.4,32:.7,48:1}},"Break 2":{ls:"XXXXXXXXXXXXXXXXX   X   X   X   X X    X X      X X    X X      ",ms:"@ls",hs:"@ls",re:"XXXXXXXXXXXXXXXXX   X   X   X       X      XXXX     X      XXXX ",sn:"@re",ta:"X X X X X X X X X   X   X   X       X      XXXX     X      XXXX ",ag:"@ta",sh:"@re",mnemonics:{ls:"A-ny-bo-dy a-ny-bo-dy a-ny-bo-dy a-ny-bo-dy Got some le-ttuce? I have I have I have I have",re:"A-ny-bo-dy a-ny-bo-dy a-ny-bo-dy a-ny-bo-dy Got some le-ttuce? Great We're star-ving here Great We're star-ving here",ta:"A-ny-bo-dy a-ny-bo-dy Got some le-ttuce? Great We're star-ving here Great We're star-ving here"}}}},{name:"More Breaks",displayName:"More Breaks",categories:["breaks","onesurdo","easy","medium","tricky"],speed:120,description:"Additional breaks and transitions for complex arrangements.",patterns:{"Boom Break":{ls:"X               ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls"},"Capped Karla":{loop:!0,ls:"XXXXXXXXXXXXXXXXX               ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"X X X X X X X X X",ag:"@ta",sh:"@ls",volumeHack:{0:.2,4:.4,8:.7,12:1}},"Wolf Break":{ls:"X X   XXX X    XX X    XX X     X X   XXX X    XX X X X X       ",ms:"@ls",hs:"@ls",re:"    X       X       X       X       X       X  XX X X X X       ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",ot:"                                                          E D   ",mnemonics:{ls:"Who's a of the Big Bad The Big Bad The Big Bad Who's a of the Big Bad No we're not scared at all",re:"fraid Wolf, Wolf, Wolf fraid Wolf No we're not scared at all",ot:"Ah woo"}}}},{name:"Ragga",displayName:"Ragga",categories:["new","tricky"],speed:120,description:"A reggae-influenced rhythm with dancehall vibes.",patterns:{Tune:{loop:!0,ls:"X  X  0 X  X  0 X  X  0 X  X  0 ",ms:"0  X  X 0  X  X 0  X  X 0  X  X ",hs:"@ms",re:"  X   X   X   X  XXX  X ",sn:"..XX..X...XX..X...XX..X...XX..X.",ta:"  X   X   X   X   XX  X ",ag:"o a o a oa ao a o a  o oo a o   ",sh:"X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.",mnemonics:{ls:"Ra-gga yeah Ra-gga yeah Ra-gga yeah Ra-gga yeah",ms:"It's ra-gga It's ra-gga It's ra-gga It's ra-gga",re:"Ra-gga Ra-gga Ra-gga So turn it up",sn:". . Turn it . . up . . . Turn it . . up . . . Turn it . . up . . . Turn it . . up .",ta:"Ra-gga Ra-gga Ra-gga Turn it up",ag:"What's that pla-ying down at the dance-hall? Ra-gga? Be-tter play it loud"}},"Starter Agogo":{displayName:"Starter Agog",loop:!0,ag:"o a o a o ao ao ",sh:"X   .   .   .   ",mnemonics:{ag:"1 2 3 4 Put some ra-gga on"}},"Break 1":{ls:"        X  X  X",ms:"@ls",hs:"@ls",re:"          X  X ",sn:"@re",ta:"@re",ag:"@re",sh:"@re",ot:"w w w w        ",mnemonics:{ls:"Put ra-on",re:"some gga",ot:"1 2 3 4"}}}},{name:"Samba Reggae",displayName:"Fusion Reggae",categories:["core","medium"],speed:120,description:"A fusion rhythm with reggae and resistance themes.",patterns:{Tune:{loop:!0,ls:"0   X   0   X X ",ms:"X   0   X   0   ",hs:"0     X 0   XXXX",re:"  XX  XX  XX  XX",sn:"X..X..X...X..X..",ta:"X  X  X   X X   ",ag:"o a a oo a aa o ",sh:"................",mnemonics:{ls:"I quite like re-ggae",ms:"Fu-sion re-ggae",hs:"Time to play fu-sion re-ggae",re:"Can I Get a Bit of Re-ggae",sn:"Bo . . ssa . . for . . . re . . ggae . .",ta:"Cla-ve for re-ggae",ag:"Fu-sion re-ggae on the a-go-g"}},"Starter Snare":{loop:!0,sn:"..XX..XX..XX..XX",sh:"X   .   .   .   ",mnemonics:{sn:". . Can I . . Get a . . Bit of . . Re-ggae"}},"Break 1":{ls:"                X X XX XX                       X  X  X X                                  XX                              XX                              XX               XXXX",ms:"@ls",hs:"@ls",re:"XX XX XXXX XX                   XX XX XXXX XX                                              XX                              XX                              XX               XXXX",sn:"                X X XX XX                       X  X  X X       X..X..X.X..X..X.X..X..X.X       X..X..X.X..X..X.X..X..X.X       X..X..X.X..X..X.X..X..X.X       X  X  X   X     ",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"We want some-thing to eat We want some grub Yum yum Yum yum Yum yum Sam-ba re-ggae",re:"What do you want, tell me what do you want? What do you want, tell me what do you want? Yum yum Yum yum Yum yum Sam-ba re-ggae",sn:"We want some-thing to eat We want some grub Sau-sa-ges sau-sa-ges I've got Sau-sa-ges sau-sa-ges in the pan Sau-sa-ges sau-sa-ges I've got Sau-sa-ges sau-sa-ges in the pan Sau-sa-ges sau-sa-ges I've got Sau-sa-ges sau-sa-ges in the pan Sam-ba re-ggae"}}}},{name:"Sambasso",displayName:"Sambasso",categories:["common","onesurdo","tricky"],speed:120,description:"The tale of Humpty Dumpty on his wall.",patterns:{Tune:{loop:!0,ls:"X  rX r X  rX r ",ms:"@ls",hs:"@ls",re:"X..X..X..XX..XX.",sn:"X..X..X...X..X..",ta:"X X X   XX XX   ",ag:"o  aa oo a oo a ",sh:"X.X.X.X.X.X.X.X.",mnemonics:{ls:"Hump-ty Dump-ty Hump-ty Dump-ty",re:"Hump . . ty's . . on . . the wall . . a-gain .",sn:"Bo . . ssa . . for . . . Hump . . ty . .",ta:"Hump-ty mate, get off the wall",ag:"Hump-ty Dump-ty fell off a brick wall"}},"Break 1":{ls:"X  rX r XX XX   ",ms:"@ls",hs:"@ls",re:"X..X..X.XX XX   ",sn:"X..X..X.XX XX   ",ta:"X X X   XX XX   ",ag:"o  aa ooXX XX   ",sh:"X.X.X.X.XX XX   ",ot:"y w w           ",mnemonics:{ls:"Hump-ty Dump-ty Get off the wall",re:"Hump . . ty's . . on . Get off the wall",sn:"Bo . . ssa . . for . Get off the wall",ta:"Hump-ty mate, Get off the wall",ag:"Hump-ty Dump-ty fell Get off the wall",ot:"Hump-ty mate"}}}},{name:"Stolen",displayName:"Stolen",categories:["common","tricky"],speed:160,time:2,description:"A fast-paced rhythm with mysterious origins - some say it was stolen from another tradition.",patterns:{Tune:{loop:!0,ls:"XXXXXXXXX       ",ms:"  X   X   XX XX ",hs:"  X   X   XX XX ",re:"..X...X...X..XX.",sn:"..X...X...X...X.",ta:"X   X   X  XX X ",ag:"          oa ao ",sh:"..X...X...X...X.",mnemonics:{ls:"This beat? We've been pla-ying it for years",ms:"Hey wait, Where's this one from?",re:". . Who . . . said . . . it's . . half-inched? .",ta:"Sto-len? That's ba-na-nas",ag:"Where's this one from?"}},"Alt Agogo":{displayName:"Alt Agog",loop:!0,ag:"o ao  a  oaoo a ",sh:"X . . . X . . . ",mnemonics:{ag:"This tune we play, I think it's sto-len"}},"Break 1":{time:3,ls:"                     X                       X                       X                       X     X        X        X  ",ms:"@ls",hs:"@ls",re:"XXXXXXXXXXXXX X  X      XXXXXXXXXXXXX X  X      XXXXXXXXXXXXX X  X      XXXXXXXXXXXXX X  X     fX       fX       fX     ",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"Nope Nope Nope Nope Yep Yep Yep",re:"A-ny-one got a-ny tips a-bout fin-ding that sto-len beat? A-ny-one got a-ny tips a-bout fin-ding that sto-len beat? A-ny-one got a-ny tips a-bout fin-ding that sto-len beat? A-ny-one got a-ny tips a-bout fin-ding that sto-len beat? Y' sure? Y' sure? Y' sure?"}},"24 Break":{displayName:"2/4 Break",ls:"X   X   X X X X ",ms:"@ls",hs:"@ls",re:"@ls",sn:"@ls",ta:"@ls",ag:"@ls",sh:"@ls"},"Break 3":{ls:"X  X XX  X XX X X  X XX  X XX X X  X XX  X XX X X          XX X ",ms:"@ls",hs:"@ls",re:"@ls",sn:"X..X.XX..X.XX.X.X..X.XX..X.XX.X.X..X.XX..X.XX.X.X          XX X ",ta:"@ls",ag:"@ls",sh:"@ls",mnemonics:{ls:"Sto-len, you say? That's ba-na-nas Sto-len, you say? That's ba-na-nas Sto-len, you say? That's ba-na-nas That's ba-na-nas",sn:"Sto . . len . you say? . . That's . ba na . nas . Sto . . len . you say? . . That's . ba na . nas . Sto . . len . you say? . . That's . ba na . nas . That's ba-na-nas"}},"Whistle Break Stolen":{displayName:"Whistle Break (Stolen)",loop:!0,ls:"X  XX  XXX XX",ms:"@ls",hs:"@ls",re:"  X   X   X   X ",sn:"@re",ta:"@re",ag:"@re",sh:"@ls",mnemonics:{ls:"Time to nick the Sheff whi-stle break",re:"Yep Yep Yep Yep"}}}},{name:"BadDuckSong",displayName:"Bad Duck Song",categories:["new","tricky"],speed:160,time:4,description:"A wild, quacky samba beat about a mischievous duck causing chaos on the dance floor.",patterns:{Tune:{loop:!0,ls:"X   X   X   X   X   X   X   X   ",ms:"X X X X X X X X X X X X X X X X ",hs:"@ms",re:"f  r f  r f  r f  r f  r f  r f  r",sn:"X...X...X...X...X...X...X...X...",ta:"X X  X X  X X  X X  X X  X X  X X  ",ag:"o   o   o   o   o   o   o   o   ",sh:"X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.X.",ot:"q   q   q   q   q   q   q   q   ",mnemonics:{ls:"Bad-duck stomps in the mud-dy muck",ms:"Flap your wings like a cra-zy duck",re:"Beak goes f...rr...f...rr...f...rr",sn:"Snap-snap trap of the hun-gry duck",ta:"Tam-bou-rine taps in the quack-ing show",ag:"A-go-go rings for the duck-y glee",sh:"Sha-ker shakes the quack-y beat",ot:"Qua-ck qua-ck qua-ck qua-ck qua-ck qua-ck"}},"Break 1":{loop:!0,upbeat:2,ls:"X X X X X X X X X X X X X X X X ",ms:"@ls",hs:"@ms",re:"f  r f  r f  r f  r f  r f  r f  r",sn:"X...X...X...X...X...X...X...X...",ta:"@ls",ag:"@ls",sh:"@ls",ot:"q   q   q   q   q   q   q   q   ",mnemonics:{ls:"Duck stomps on break, boots of thunder",re:"Beak snaps with repi-ni-funk-alarm",ot:"Loud quack at-tack!"}},"Break 2":{loop:!0,upbeat:1,ls:"XX  XX  XX  XX  XX  XX  XX  XX  ",ms:"X X  X X  X X  X X  X X  X X  X X",hs:"@ms",re:"r  f  r  f  r  f  r  f  r  f  r  f",sn:"..X...X...X...X...X...X...X...X..",ta:"X  X X  X X  X X  X X  X X  X X ",ag:"o o   o o   o o   o o   o o   o",sh:"X...X...X...X...X...X...X...X...",ot:"q.q.q.q.q.q.q.q.q.q.q.q.q.q.q.q",mnemonics:{ls:"Fea-ther shuffle in the pond at dawn",ms:"Quack line kicks with a sneer and yawn",ot:"Echoing quack-o-rama"}},"Break 3":{loop:!0,ls:"X  X    X  X    X  X    X  X    ",ms:"    XX      XX      XX      XX  ",hs:"@ms",re:"fXf XfX fXf XfX fXf XfX fXf XfX",sn:"X.X.X...X.X.X...X.X.X...X.X.X...",ta:"X  X X   X  X X   X  X X   X  X ",ag:"o  a o   o  a o   o  a o   o  a ",sh:"................X.X................",mnemonics:{ls:"Pond skipper bounce with quack attack",re:"Funky fowl looped in sonic smack"}},"Break 4":{loop:!0,ls:"XXXX    XXXX    XXXX    XXXX    ",ms:"X  X    X  X    X  X    X  X    ",hs:"@ms",re:"rr rr rr rr rr rr rr rr rr rr rr",sn:"X...XXXX...X...XXXX...X...XXXX....",ta:"X XX X XX X XX X XX X XX X XX X X",ag:"o   oo   oo   oo   oo   oo   oo  ",sh:"X.X...X.X...X.X...X.X...X.X...X.X.",ot:"q   qqq   q   qqq   q   qqq   q  ",mnemonics:{ls:"Hon-ker break with a stomp and roll",sn:"Snare snare snaps of the quacky soul"}},"Break 5":{loop:!0,upbeat:3,ls:"X X   X X   X X   X X   X X   X X  ",ms:"XX X  XX X  XX X  XX X  XX X  XX X ",hs:"@ms",re:"f rX f rX f rX f rX f rX f rX f rX",sn:"...X..X...X..X...X..X...X..X...X..X",ta:"X   X   X   X   X   X   X   X   X",ag:"oao aoa oao aoa oao aoa oao aoa oao",sh:"X...X...X...X...X...X...X...X...X..",mnemonics:{ls:"Wad-dle roll through the quack-y hall",re:"Repeat your call till the building fall"}}},exampleSong:["Tune",{patternName:"Break 1",length:2},"Tune"]}];function HM(){const[e,t]=C.useState(Xm[0]);return d.jsx("div",{className:"min-h-screen bg-black",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-3 lg:px-4 py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"street-text font-bold text-4xl md:text-5xl mb-4",children:"Traditional Tunes"}),d.jsx("p",{className:"text-xl text-gray-300",children:"Master the classics of samba resistance"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsxs(ce,{className:"bg-gray-800 border-gray-700",children:[d.jsx(ye,{children:d.jsx(be,{className:"street-text text-xl",children:"Select Tune"})}),d.jsx(ue,{className:"space-y-2 max-h-96 overflow-y-auto",children:Xm.map(r=>{var n;return d.jsxs("button",{onClick:()=>t(r),className:`w-full text-left p-3 rounded-lg transition-colors ${e.name===r.name?"bg-red-600 border-2 border-red-500":"bg-black hover:bg-gray-700"}`,children:[d.jsx("div",{className:"font-semibold",children:r.displayName||r.name}),d.jsxs("div",{className:"text-sm text-gray-400",children:[(n=r.categories)==null?void 0:n.join("  "),"  ",r.speed," BPM"]})]},r.name)})})]})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsx(Gb,{tune:e})})]})]})})}var Mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bc=typeof window>"u"||"Deno"in globalThis;function Nr(){}function WM(e,t){return typeof e=="function"?e(t):e}function UM(e){return typeof e=="number"&&e>=0&&e!==1/0}function VM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Cm(e,t){return typeof e=="function"?e(t):e}function qM(e,t){return typeof e=="function"?e(t):e}function km(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==i1(i,t.options))return!1}else if(!Bo(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function Sm(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Mo(t.options.mutationKey)!==Mo(s))return!1}else if(!Bo(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function i1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Mo)(e)}function Mo(e){return JSON.stringify(e,(t,r)=>gf(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Bo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Bo(e[r],t[r])):!1}function g6(e,t){if(e===t)return e;const r=Nm(e)&&Nm(t);if(r||gf(e)&&gf(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{};let l=0;for(let c=0;c<i;c++){const h=r?c:s[c];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,l++):(o[h]=g6(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&l++)}return a===i&&l===a?e:o}return t}function Nm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gf(e){if(!Em(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Em(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Em(e){return Object.prototype.toString.call(e)==="[object Object]"}function GM(e){return new Promise(t=>{setTimeout(t,e)})}function YM(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?g6(e,t):t}function KM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function QM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var o1=Symbol();function m6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===o1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Aa,$n,zs,jm,JM=(jm=class extends Mc{constructor(){super();Ce(this,Aa);Ce(this,$n);Ce(this,zs);ge(this,zs,t=>{if(!Bc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,$n)||this.setEventListener(V(this,zs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,$n))==null||t.call(this),ge(this,$n,void 0))}setEventListener(t){var r;ge(this,zs,t),(r=V(this,$n))==null||r.call(this),ge(this,$n,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){V(this,Aa)!==t&&(ge(this,Aa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,Aa)=="boolean"?V(this,Aa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Aa=new WeakMap,$n=new WeakMap,zs=new WeakMap,jm),v6=new JM,$s,Hn,Hs,Pm,ZM=(Pm=class extends Mc{constructor(){super();Ce(this,$s,!0);Ce(this,Hn);Ce(this,Hs);ge(this,Hs,t=>{if(!Bc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,Hn)||this.setEventListener(V(this,Hs))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Hn))==null||t.call(this),ge(this,Hn,void 0))}setEventListener(t){var r;ge(this,Hs,t),(r=V(this,Hn))==null||r.call(this),ge(this,Hn,t(this.setOnline.bind(this)))}setOnline(t){V(this,$s)!==t&&(ge(this,$s,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return V(this,$s)}},$s=new WeakMap,Hn=new WeakMap,Hs=new WeakMap,Pm),Ul=new ZM;function eB(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function tB(e){return Math.min(1e3*2**e,3e4)}function y6(e){return(e??"online")==="online"?Ul.isOnline():!0}var b6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Hu(e){return e instanceof b6}function x6(e){let t=!1,r=0,n=!1,a;const s=eB(),i=m=>{var v;n||(f(new b6(m)),(v=e.abort)==null||v.call(e))},o=()=>{t=!0},l=()=>{t=!1},c=()=>v6.isFocused()&&(e.networkMode==="always"||Ul.isOnline())&&e.canRun(),h=()=>y6(e.networkMode)&&e.canRun(),u=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),a==null||a(),s.resolve(m))},f=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),a==null||a(),s.reject(m))},p=()=>new Promise(m=>{var v;a=y=>{(n||c())&&m(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(u).catch(y=>{var k;if(n)return;const b=e.retry??(Bc?0:3),w=e.retryDelay??tB,x=typeof w=="function"?w(r,y):w,X=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!X){f(y);return}r++,(k=e.onFail)==null||k.call(e,r,y),GM(x).then(()=>c()?void 0:p()).then(()=>{t?f(y):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?g():p().then(g),s)}}function rB(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const s=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||i()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var _t=rB(),Ma,Am,w6=(Am=class{constructor(){Ce(this,Ma)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UM(this.gcTime)&&ge(this,Ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bc?1/0:5*60*1e3))}clearGcTimeout(){V(this,Ma)&&(clearTimeout(V(this,Ma)),ge(this,Ma,void 0))}},Ma=new WeakMap,Am),Ws,Us,cr,xt,Lo,Ba,Er,un,Mm,nB=(Mm=class extends w6{constructor(t){super();Ce(this,Er);Ce(this,Ws);Ce(this,Us);Ce(this,cr);Ce(this,xt);Ce(this,Lo);Ce(this,Ba);ge(this,Ba,!1),ge(this,Lo,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,cr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Ws,sB(this.options)),this.state=t.state??V(this,Ws),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,xt))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Lo),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,cr).remove(this)}setData(t,r){const n=YM(this.state.data,t,this.options);return mt(this,Er,un).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){mt(this,Er,un).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=V(this,xt))==null?void 0:n.promise;return(a=V(this,xt))==null||a.cancel(t),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Ws))}isActive(){return this.observers.some(t=>qM(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!VM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,xt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,xt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,cr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,xt)&&(V(this,Ba)?V(this,xt).cancel({revert:!0}):V(this,xt).cancelRetry()),this.scheduleGc()),V(this,cr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Er,un).call(this,{type:"invalidate"})}fetch(t,r){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,xt))return V(this,xt).continueRetry(),V(this,xt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ge(this,Ba,!0),n.signal)})},s=()=>{const u=m6(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return a(f),ge(this,Ba,!1),this.options.persister?this.options.persister(u,f,this):u(f)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(i),(l=this.options.behavior)==null||l.onFetch(i,this),ge(this,Us,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=i.fetchOptions)==null?void 0:c.meta))&&mt(this,Er,un).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const o=u=>{var f,p,g,m;Hu(u)&&u.silent||mt(this,Er,un).call(this,{type:"error",error:u}),Hu(u)||((p=(f=V(this,cr).config).onError)==null||p.call(f,u,this),(m=(g=V(this,cr).config).onSettled)==null||m.call(g,this.state.data,u,this)),this.scheduleGc()};return ge(this,xt,x6({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var f,p,g,m;if(u===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(v){o(v);return}(p=(f=V(this,cr).config).onSuccess)==null||p.call(f,u,this),(m=(g=V(this,cr).config).onSettled)==null||m.call(g,u,this.state.error,this),this.scheduleGc()},onError:o,onFail:(u,f)=>{mt(this,Er,un).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{mt(this,Er,un).call(this,{type:"pause"})},onContinue:()=>{mt(this,Er,un).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),V(this,xt).start()}},Ws=new WeakMap,Us=new WeakMap,cr=new WeakMap,xt=new WeakMap,Lo=new WeakMap,Ba=new WeakMap,Er=new WeakSet,un=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aB(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Hu(a)&&a.revert&&V(this,Us)?{...V(this,Us),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_t.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,cr).notify({query:this,type:"updated",action:t})})},Mm);function aB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var qr,Bm,iB=(Bm=class extends Mc{constructor(t={}){super();Ce(this,qr);this.config=t,ge(this,qr,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??i1(a,r);let i=this.get(s);return i||(i=new nB({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){V(this,qr).has(t.queryHash)||(V(this,qr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,qr).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,qr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,qr).get(t)}getAll(){return[...V(this,qr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>km(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>km(t,n)):r}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_t.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_t.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qr=new WeakMap,Bm),Gr,Nt,La,Yr,Rn,Lm,oB=(Lm=class extends w6{constructor(t){super();Ce(this,Yr);Ce(this,Gr);Ce(this,Nt);Ce(this,La);this.mutationId=t.mutationId,ge(this,Nt,t.mutationCache),ge(this,Gr,[]),this.state=t.state||lB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Gr).includes(t)||(V(this,Gr).push(t),this.clearGcTimeout(),V(this,Nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Gr,V(this,Gr).filter(r=>r!==t)),this.scheduleGc(),V(this,Nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Gr).length||(this.state.status==="pending"?this.scheduleGc():V(this,Nt).remove(this))}continue(){var t;return((t=V(this,La))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,i,o,l,c,h,u,f,p,g,m,v,y,b,w,x,X,k,N;ge(this,La,x6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{mt(this,Yr,Rn).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{mt(this,Yr,Rn).call(this,{type:"pause"})},onContinue:()=>{mt(this,Yr,Rn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Nt).canRun(this)}));const r=this.state.status==="pending",n=!V(this,La).canStart();try{if(!r){mt(this,Yr,Rn).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=V(this,Nt).config).onMutate)==null?void 0:s.call(a,t,this));const E=await((o=(i=this.options).onMutate)==null?void 0:o.call(i,t));E!==this.state.context&&mt(this,Yr,Rn).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const T=await V(this,La).start();return await((c=(l=V(this,Nt).config).onSuccess)==null?void 0:c.call(l,T,t,this.state.context,this)),await((u=(h=this.options).onSuccess)==null?void 0:u.call(h,T,t,this.state.context)),await((p=(f=V(this,Nt).config).onSettled)==null?void 0:p.call(f,T,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,T,null,t,this.state.context)),mt(this,Yr,Rn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(v=V(this,Nt).config).onError)==null?void 0:y.call(v,T,t,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,T,t,this.state.context)),await((X=(x=V(this,Nt).config).onSettled)==null?void 0:X.call(x,void 0,T,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,T,t,this.state.context)),T}finally{mt(this,Yr,Rn).call(this,{type:"error",error:T})}}finally{V(this,Nt).runNext(this)}}},Gr=new WeakMap,Nt=new WeakMap,La=new WeakMap,Yr=new WeakSet,Rn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_t.batch(()=>{V(this,Gr).forEach(n=>{n.onMutationUpdate(t)}),V(this,Nt).notify({mutation:this,type:"updated",action:t})})},Lm);function lB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vt,Ro,Rm,cB=(Rm=class extends Mc{constructor(t={}){super();Ce(this,Vt);Ce(this,Ro);this.config=t,ge(this,Vt,new Map),ge(this,Ro,Date.now())}build(t,r,n){const a=new oB({mutationCache:this,mutationId:++t0(this,Ro)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=U0(t),n=V(this,Vt).get(r)??[];n.push(t),V(this,Vt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=U0(t);if(V(this,Vt).has(r)){const a=(n=V(this,Vt).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?V(this,Vt).delete(r):V(this,Vt).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=V(this,Vt).get(U0(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=V(this,Vt).get(U0(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){_t.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,Vt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Sm(r,n))}findAll(t={}){return this.getAll().filter(r=>Sm(t,r))}notify(t){_t.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _t.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nr))))}},Vt=new WeakMap,Ro=new WeakMap,Rm);function U0(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Tm(e){return{onFetch:(t,r)=>{var h,u,f,p,g;const n=t.options,a=(f=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=m6(t.options,t.fetchOptions),b=async(w,x,X)=>{if(m)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const k={queryKey:t.queryKey,pageParam:x,direction:X?"backward":"forward",meta:t.options.meta};v(k);const N=await y(k),{maxPages:T}=t.options,E=X?QM:KM;return{pages:E(w.pages,N,T),pageParams:E(w.pageParams,x,T)}};if(a&&s.length){const w=a==="backward",x=w?uB:_m,X={pages:s,pageParams:i},k=x(n,X);o=await b(X,k,w)}else{const w=e??s.length;do{const x=l===0?i[0]??n.initialPageParam:_m(n,o);if(l>0&&x==null)break;o=await b(o,x),l++}while(l<w)}return o};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function _m(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uB(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ue,Wn,Un,Vs,qs,Vn,Gs,Ys,Dm,dB=(Dm=class{constructor(e={}){Ce(this,Ue);Ce(this,Wn);Ce(this,Un);Ce(this,Vs);Ce(this,qs);Ce(this,Vn);Ce(this,Gs);Ce(this,Ys);ge(this,Ue,e.queryCache||new iB),ge(this,Wn,e.mutationCache||new cB),ge(this,Un,e.defaultOptions||{}),ge(this,Vs,new Map),ge(this,qs,new Map),ge(this,Vn,0)}mount(){t0(this,Vn)._++,V(this,Vn)===1&&(ge(this,Gs,v6.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Ue).onFocus())})),ge(this,Ys,Ul.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Ue).onOnline())})))}unmount(){var e,t;t0(this,Vn)._--,V(this,Vn)===0&&((e=V(this,Gs))==null||e.call(this),ge(this,Gs,void 0),(t=V(this,Ys))==null||t.call(this),ge(this,Ys,void 0))}isFetching(e){return V(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Wn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Ue).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=V(this,Ue).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Cm(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,Ue).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=V(this,Ue).get(n.queryHash),s=a==null?void 0:a.state.data,i=WM(t,s);if(i!==void 0)return V(this,Ue).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return _t.batch(()=>V(this,Ue).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Ue).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,Ue);_t.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,Ue),n={type:"active",...e};return _t.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=_t.batch(()=>V(this,Ue).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(e={},t={}){return _t.batch(()=>{if(V(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=_t.batch(()=>V(this,Ue).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Nr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,Ue).build(this,t);return r.isStaleByTime(Cm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nr).catch(Nr)}fetchInfiniteQuery(e){return e.behavior=Tm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nr).catch(Nr)}ensureInfiniteQueryData(e){return e.behavior=Tm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ul.isOnline()?V(this,Wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Ue)}getMutationCache(){return V(this,Wn)}getDefaultOptions(){return V(this,Un)}setDefaultOptions(e){ge(this,Un,e)}setQueryDefaults(e,t){V(this,Vs).set(Mo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Vs).values()];let r={};return t.forEach(n=>{Bo(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){V(this,qs).set(Mo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,qs).values()];let r={};return t.forEach(n=>{Bo(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Un).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=i1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===o1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Un).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Ue).clear(),V(this,Wn).clear()}},Ue=new WeakMap,Wn=new WeakMap,Un=new WeakMap,Vs=new WeakMap,qs=new WeakMap,Vn=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,Dm),fB=C.createContext(void 0),hB=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(fB.Provider,{value:e,children:t}));async function pB(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const gB=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await pB(r),await r.json())},mB=new dB({defaultOptions:{queries:{queryFn:gB({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function vB(){return d.jsxs(d.Fragment,{children:[d.jsx(k8,{}),d.jsxs(Sw,{children:[d.jsx(Xr,{path:"/",component:HC}),d.jsx(Xr,{path:"/about",component:U7}),d.jsx(Xr,{path:"/instagram",component:WC}),d.jsx(Xr,{path:"/protest-beats",component:YC}),d.jsx(Xr,{path:"/tunes",component:HM}),d.jsx(Xr,{path:"/experiment",component:$C}),d.jsx(Xr,{path:"/instruments",component:UC}),d.jsx(Xr,{path:"/theory",component:$M}),d.jsx(Xr,{path:"/technique",component:FM}),d.jsx(Xr,{path:"/shop",component:KC}),d.jsx(Xr,{component:VC})]})]})}function yB(){return d.jsx(hB,{client:mB,children:d.jsx(z7,{children:d.jsxs("div",{className:"min-h-screen bg-black text-white",children:[d.jsx(g9,{}),d.jsx(vB,{})]})})})}Q2(document.getElementById("root")).render(d.jsx(yB,{}));
